{"version":3,"sources":["app.js","account/_account.module.js","account/account.controller.js","account/account.states.js","faq/_faq.module.js","faq/faq.controller.js","faq/faq.states.js","feedback/_feedback.module.js","feedback/feedback.controller.js","flights/_flights.module.js","flights/flight-display.directive.js","flights/flight-downloads.directive.js","flights/flight-stats.directive.js","flights/flights.controller.js","flights/flights.service.js","flights/flights.states.js","gallery/_gallery.module.js","gallery/gallery.controller.js","grid/_grid.module.js","grid/grid.graph.service.js","grid/grid.widget.service.js","mosaic/_mosaic.module.js","mosaic/mosaic.component.js","mosaic/mosaic.data.service.js","mosaic/mosaic.mainController.js","mosaic/mosaic.states.js","myfarm/_myfarm.module.js","myfarm/myfarm.controller.js","myfarm/myfarm.states.js","root/_root.module.js","root/header.controller.js","root/nav.controller.js","root/root.states.js","signup/_signup.module.js","signup/signup.controller.js","signup/signup.terms.controller.js","signup/signup.termsConditions.directive.js","tour/_tour.module.js","tour/tour.controller.js","tour/tour.states.js","upload/_upload.module.js","upload/upload.component.js","upload/upload.service.js","upload/upload.states.js","users/_users.module.js","users/auth.service.js","users/awsservice.min.js","users/users.createFarm.controller.js","users/users.dataService.js","utils/_utils.module.js","utils/angucomplete-alt.js","utils/angular-debounce.js","utils/utils.loader.directive.js","utils/utils.reusableModal.directive.js","weather/_weather.module.js","weather/weather.controller.js","weather/weather.data.service.js","weather/weather.forecastWidget.directive.js","weather/weather.forecastWidget.service.js","weather/weather.graph.controller.js","weather/weather.states.js","weather/weather.timeseries.directive.js","templates.js","flights/templates.js","upload/templates.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;;AAER,YACK,MADL,CACY,QADZ,EACsB;;AAEd,eAFc,EAGd,WAHc,EAId,YAJc,EAKd,YALc,EAMd,QANc,EAOd,WAPc,EAQd,UARc,EASd,qBATc,EAUd,aAVc,EAWd,cAXc,EAYd,eAZc,EAad,cAbc,EAcd,eAdc,EAed,eAfc,EAgBd,gBAhBc,EAiBd,aAjBc,EAkBd,gBAlBc,EAmBd,iBAnBc,EAoBd,gBApBc,EAqBd,aArBc,EAsBd,eAtBc,CADtB,EAyBK,MAzBL,CAyBY,CACJ,oBADI,EAEJ,YAFI,CAzBZ,EA6BK,MA7BL,CA6BY,CACJ,eADI,EAEJ,qBAFI,CA7BZ,EAiCK,MAjCL,CAiCY,CACJ,wBADI,EAEJ,gBAFI,CAjCZ,EAqCK,MArCL,CAqCY,CAAC,oBAAD,EACJ,UAAS,kBAAT,EAA6B;AACzB,2BAAmB,KAAnB,CAAyB,SAAzB,EACK,cADL,CACoB,WADpB,EACiC;AACzB,uBAAW;AADc,SADjC,EAIK,iBAJL,CAIuB,MAJvB,EAI+B;AACvB,uBAAW;AADY,SAJ/B,EAOK,aAPL,CAOmB,YAPnB,EAOiC;AACzB,uBAAW;AADc,SAPjC;AAUH,KAZG,CArCZ,EAmDK,QAnDL,CAmDc;AACN,wBAAgB;AADV,KAnDd,EAsDK,QAtDL,CAsDc;AACN,2BAAoB,OAAO,QAAP,CAAgB,QAAhB,KAA6B,OAA7B,IAAwC,CAAC,OAAO,QAAP,CAAgB,QAAhB,CAAyB,QAAzB,CAAkC,WAAlC,CAA1C,GAA4F,KAA5F,GAAoG;AADjH,KAtDd;;;;AAAA,KA4DK,GA5DL,CA4DS,CACD,YADC,EAED,aAFC,EAGD,YAHC,EAID,QAJC,EAKD,cALC,EAMD,QANC,CA5DT;;AAqEA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,iBAAzC,EAA4D;AACxD,uBACK,IADL,CACU,GADV,EACe;AACP,wBAAY,gBADL;AAEP,0BAAc,IAFP;AAGP,yBAAa;AAHN,SADf,EAMK,IANL,CAMU,SANV,EAMqB;AACb,wBAAY,kBADC;AAEb,0BAAc,IAFD;AAGb,yBAAa;AAHA,SANrB,EAWK,IAXL,CAWU,QAXV,EAWoB;AACZ,wBAAY,kBADA;AAEZ,0BAAc,IAFF;AAGZ,yBAAa;AAHD,SAXpB,EAgBK,SAhBL,CAgBe;AACP,wBAAY;AADL,SAhBf;AAmBH;;AAED,aAAS,QAAT,CAAkB,UAAlB,EAA8B,WAA9B,EAA2C,UAA3C,EAAuD,MAAvD,EAA+D,YAA/D,EAA6E;AACzE,gBAAQ,GAAR,CAAY,UAAZ;AACA,oBAAY,mBAAZ;AACA,mBAAW,GAAX;AACA,mBAAW,GAAX,CAAe,mBAAf,EAAoC,QAAQ,GAAR,CAAY,IAAZ,CAAiB,OAAjB,CAApC;AACA,mBAAW,MAAX,GAAoB,MAApB;AACA,mBAAW,YAAX,GAA0B,YAA1B;AACH;;AAED,aAAS,gBAAT,CAA0B,sBAA1B,EAAkD;AAC9C,+BAAuB,KAAvB,CAA6B,0CAA7B;AACH;;AAED,aAAS,qBAAT,CAA+B,aAA/B,EAA8C;AAC1C,sBAAc,QAAd,CAAuB,OAAvB,CAA+B,IAA/B,GAAsC;AAClC,4BAAgB;AADkB,SAAtC;AAGH;;AAED,aAAS,YAAT,CAAsB,kBAAtB,EAA0C;AACtC,2BAAmB,MAAnB,CAA0B,2DAA1B;AACA,2BAAmB,eAAnB,CAAmC,gDAAnC;;AAEA,2BAAmB,aAAnB,CAAiC;AAC7B,mBAAO,kCADsB;AAE7B,sBAAU,gBAFmB;AAG7B,4BAAgB;AAHa,SAAjC;AAKA,2BAAmB,SAAnB,CAA6B,WAA7B;AACA,2BAAmB,kBAAnB,CAAsC;;AAElC,wBAAY,qBAFsB;AAGlC,sBAAU;AAHwB,SAAtC;AAKH;AAEJ,CAjID;;AAmIA,OAAO,cAAP,GAAwB,YAAW;AAC/B,YAAQ,KAAR;AACA,YAAQ,GAAR,CAAY,gBAAZ;AACH,CAHD;;AAKA,QAAQ,OAAR,CAAgB,QAAhB,EAA0B,KAA1B,CAAgC,YAAW;AACvC,YAAQ,SAAR,CAAkB,QAAlB,EAA4B,CAAC,QAAD,CAA5B,EAAwC;AACpC,kBAAU;AAD0B,KAAxC;AAGH,CAJD;;AAOA,SAAS,UAAT,CAAoB,OAApB,EAA6B;AACzB,WAAQ,CAAC,CAAC,OAAH,GAAc,YAAW;AAC5B,YAAI,SAAS,qCAAI,SAAJ,GAAe,MAAf,CAAsB,UAAS,GAAT,EAAc;AAC7C,mBAAQ,eAAe,KAAvB;AACH,SAFY,EAEV,GAFU,CAEN,UAAS,GAAT,EAAc;AACjB,gBAAI,KAAJ,CAAU,OAAV,CAAkB,GAAlB,EAAuB,IAAvB;AACA,mBAAO,GAAP;AACH,SALY,CAAb;AAMA,YAAI,OAAO,MAAP,GAAgB,CAApB,EAAuB;AACnB,mBAAO,GAAP,CAAW,UAAC,GAAD;AAAA,uBAAS,WAAW,GAAX,CAAT;AAAA,aAAX;AACH,SAFD,MAEO;AACH,oBAAQ,IAAR;AACH;AACD,gBAAQ,SAAR;AACA,gBAAQ,GAAR,CAAY,OAAZ,uCAAyB,SAAzB;AACH,KAdM,GAcH,YAAW;AACX,YAAI,IAAI,UAAU,CAAV,CAAR;AACA,YAAI,UAAU,UAAU,CAAV,EAAa,OAAb,GAAuB,IAAvB,GAA8B,EAAE,SAAF,CAAY,OAAZ,CAAoB,OAAO,IAA3B,EAAiC,EAAjC,CAA9B,GAAqE,GAArE,GAA2E,UAAU,CAAV,EAAa,IAAxF,GAA+F,GAA/F,GAAqG,UAAU,CAAV,EAAa,MAAlH,GAA2H,IAAzI;AACA,gBAAQ,SAAR,CAAkB,WAAlB;AACA,gBAAQ,GAAR,CAAY,OAAO,OAAnB,EAA4B,6CAA5B,EAA2E,UAAU,CAAV,EAAa,KAAxF;AACH,KAnBD;AAoBH;;;ACpKD,CAAC,YAAW;;AAER,YAAQ,MAAR,CAAe,gBAAf,EAAiC,CAAC,WAAD,EAAc,YAAd,EAA4B,cAA5B,EAA4C,WAA5C,CAAjC;AAEH,CAJD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,gBADZ,EAEK,UAFL,CAEgB,mBAFhB,EAEqC,CAC7B,QAD6B,EAE7B,IAF6B,EAG7B,QAH6B,EAI7B,aAJ6B,EAK7B,aAL6B,EAM7B,WAN6B,EAO7B,iBAP6B,CAFrC;;AAYA,sBAAkB,OAAlB,GAA4B,CAAC,OAAD,EAAU,UAAV,EAAsB,WAAtB,CAA5B;;AAEA,aAAS,iBAAT,CAA2B,MAA3B,EAAmC,EAAnC,EAAuC,MAAvC,EAA+C,WAA/C,EAA4D,WAA5D,EAAyE,SAAzE,EAAoF,KAApF,EAA2F,QAA3F,EAAqG,SAArG,EAAgH;AAC5G,YAAI,KAAK,IAAT;;AAEA,WAAG,MAAH,GAAY,CAAC;AACT,kBAAM,MADG;AAET,mBAAO;AAFE,SAAD,EAGT;AACC,kBAAM,QADP;AAEC,mBAAO;AAFR,SAHS,EAMT;AACC,kBAAM,WADP;AAEC,mBAAO;AAFR,SANS,EAST;AACC,kBAAM,QADP;AAEC,mBAAO;AAFR,SATS,EAYT;AACC,kBAAM,UADP;AAEC,mBAAO;AAFR,SAZS,EAeT;AACC,kBAAM,UADP;AAEC,mBAAO;AAFR,SAfS,EAkBT;AACC,kBAAM,QADP;AAEC,mBAAO;AAFR,SAlBS,EAqBT;AACC,kBAAM,SADP;AAEC,mBAAO;AAFR,SArBS,EAwBT;AACC,kBAAM,SADP;AAEC,mBAAO;AAFR,SAxBS,EA2BT;AACC,kBAAM,SADP;AAEC,mBAAO;AAFR,SA3BS,CAAZ;;AAgCA,WAAG,cAAH,GAAoB,cAApB;AACA,WAAG,KAAH,GAAW,KAAX;AACA,WAAG,SAAH,GAAe,SAAf;;AAEA,WAAG,WAAH,GAAiB,YAAW;AACxB,gBAAI,GAAG,QAAP,EAAiB;AACb,4BAAY,WAAZ,CAAwB,GAAG,QAA3B;AACH;AACJ,SAJD;;AAMA,eAAO,UAAP,GAAoB,UAAS,EAAT,EAAa;AAC7B,sBAAU,IAAV,CAAe;AACX,4BAAY,CAAC,QAAD,EAAW,WAAX,EAAwB,gBAAxB,CADD;AAEX,6BAAa,iCAFF;AAGX,wBAAQ,QAAQ,OAAR,CAAgB,SAAS,IAAzB,CAHG;AAIX,6BAAa,EAJF;AAKX,qCAAqB;AALV,aAAf;AAQH,SATD;;AAWA,iBAAS,gBAAT,CAA0B,MAA1B,EAAkC,SAAlC,EAA6C;;AAEzC,mBAAO,MAAP,GAAgB,YAAW;AACvB,wBAAQ,GAAR,CAAY,QAAZ;AACA,0BAAU,MAAV;AACH,aAHD;AAIA,mBAAO,MAAP,GAAgB,YAAW;AACvB,wBAAQ,GAAR,CAAY,QAAZ;AACH,aAFD;AAGH;;AAED,UAAE,gBAAF,EAAoB,EAApB,CAAuB,OAAvB,EAAgC,YAAW;AACvC,gBAAI,aAAa,EAAE,IAAF,CAAjB;gBACI,gBAAgB,WAAW,IAAX,CAAgB,OAAhB,CADpB;;AAGC,0BAAc,cAAc,IAAd,CAAmB,MAAnB,CAAf,GAA6C,cAAc,IAAd,CAAmB,MAAnB,EAA2B,MAA3B,CAA7C,GAAkF,cAAc,IAAd,CAAmB,MAAnB,EAA2B,UAA3B,CAAlF;AACC,sBAAU,WAAW,IAAX,EAAX,GAAgC,WAAW,IAAX,CAAgB,MAAhB,CAAhC,GAA0D,WAAW,IAAX,CAAgB,MAAhB,CAA1D;;AAEH,SAPD;;AASA,iBAAS,KAAT,GAAiB;AACb,oBAAQ,GAAR,CAAY,OAAZ;AACH;;AAED,iBAAS,SAAT,GAAqB;AACjB,oBAAQ,GAAR,CAAY,eAAZ;AACH;;AAED,iBAAS,cAAT,GAA0B;AACtB,oBAAQ,GAAR,CAAY,iBAAZ;AACH;AACD,eAAO,SAAP,GAAmB;AACf,qBAAS,CACL,KADK,EAEL,UAFK,EAGL,WAHK,EAIL,QAJK,EAKL,aALK,EAML,cANK,EAOL,MAPK,EAQL,UARK,EASL,aATK,EAUL,OAVK,EAWL,WAXK,EAYL,cAZK,CADM;AAef,sBAAU;AAfK,SAAnB;AAkBH;AAGJ,CA3HD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,gBADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ;;AAIA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,cADX,EAC2B;AACnB,kBAAM,cADa;AAEnB,iBAAK,UAFc;AAGnB,mBAAO;AACH,2BAAW;AACP,iCAAa,6CADN;AAEP,gCAAY,mBAFL;AAGP,kCAAc;AAHP;AADR,aAHY;AAUnB,kBAAM;AACF,4BAAY,IADV;AAEF,8BAAc;AAFZ;AAVa,SAD3B;AAgBH;AAEJ,CAzBD;;;ACAA,CAAC,YAAW;;AAER,YAAQ,MAAR,CAAe,YAAf,EAA6B,EAA7B;AAEH,CAJD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,YADZ,EAEK,UAFL,CAEgB,eAFhB,EAEiC,CACzB,QADyB,EAEzB,IAFyB,EAGzB,WAHyB,EAIzB,eAJyB,EAKzB,aALyB,CAFjC;;AAWA,aAAS,aAAT,CAAuB,MAAvB,EAA+B,EAA/B,EAAmC,SAAnC,EAA8C,aAA9C,EAA6D;;AAEzD,eAAO,QAAP,GAAkB,UAAS,EAAT,EAAa;AAC3B,sBAAU,IAAV,CAAe,EAAf;AACA;AACH,SAHD;AAKH;AAGJ,CAtBD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,YADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ;;AAIA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,UADX,EACuB;AACf,kBAAM,UADS;AAEf,iBAAK,MAFU;AAGf,mBAAO;AACH,2BAAW;AACP,iCAAa,6BADN;;AAGP,gCAAY,eAHL;AAIP,kCAAc;AAJP;AADR,aAHQ;AAWf,kBAAM;AACF,4BAAY,IADV;AAEF,8BAAc;AAFZ;AAXS,SADvB;AAiBH;AAEJ,CA1BD;;;ACAA,CAAC,YAAU;;AAEV,SAAQ,MAAR,CAAe,iBAAf,EAAiC,CAAC,cAAD,CAAjC;AAEA,CAJD;;;ACAA,CAAC,YAAW;;AAER,YACK,MADL,CACY,iBADZ,EAEK,UAFL,CAEgB,oBAFhB,EAEsC,CAC9B,QAD8B,EAE9B,OAF8B,EAG9B,SAH8B,EAI9B,WAJ8B,EAK9B,MAL8B,EAM9B,kBAN8B,CAFtC;;AAYA,aAAS,kBAAT,CAA4B,MAA5B,EAAoC,KAApC,EAA2C,OAA3C,EAAoD,SAApD,EAA+D,IAA/D,EAAqE;;AAEjE,eAAO,iBAAP,GAA2B,IAA3B;;AAEA,eAAO,IAAP,GAAc,UAAS,IAAT,EAAe;;AAEzB,gBAAI,gBAAgB,UAAU,IAAV,CAAe;AAC/B,2BAAW,OAAO,iBADa;AAE/B,6BAAa,+BAFkB;AAG/B,4BAAY,mBAHmB;AAI/B,0BAAU,IAJqB;AAK/B,+BAAe,YALgB;AAM/B,0BAAU,IANqB;AAO/B,sBAAM,IAPyB;AAQ/B,yBAAS;AACL,2BAAO,iBAAW;AACd,+BAAO,OAAO,KAAd;AACH;AAHI;AARsB,aAAf,CAApB;;AAeA,0BAAc,MAAd,CAAqB,IAArB,CAA0B,UAAS,YAAT,EAAuB;AAC7C,uBAAO,QAAP,GAAkB,YAAlB;AAEH,aAHD,EAGG,YAAW;AACV,wBAAQ,GAAR,CAAY,OAAZ;AACA,qBAAK,IAAL,CAAU,yBAAyB,IAAI,IAAJ,EAAnC;AACH,aAND;AAOH,SAxBD;;AA0BA,eAAO,eAAP,GAAyB,YAAW;AAChC,mBAAO,iBAAP,GAA2B,CAAC,OAAO,iBAAnC;AACH,SAFD;AAIH;;;;;AAKD,YACK,MADL,CACY,iBADZ,EAEK,UAFL,CAEgB,mBAFhB,EAEqC,CAC7B,QAD6B,EAE7B,mBAF6B,EAG7B,OAH6B,EAI7B,iBAJ6B,CAFrC;;AASA,aAAS,iBAAT,CAA2B,MAA3B,EAAmC,iBAAnC,EAAsD,KAAtD,EAA6D;AACzD,eAAO,UAAP,GAAoB,IAApB;AACA,eAAO,QAAP,GAAkB;AACd,kBAAM;AADQ,SAAlB;;AAIA,eAAO,MAAP,GAAgB,YAAW;AACvB,gBAAI,QAAQ,IAAI,KAAJ,CAAU,2BAAV,CAAZ;AACA,cAAE,IAAF,CAAO;AACH,qBAAK,8CADF;AAEH,wBAAQ,MAFL;AAGH,6BAAa,IAHV;AAIH,sBAAM;AACF,6BAAS,OAAO,QAAP,CAAgB;AADvB,iBAJH;AAOH,0BAAU;AAPP,aAAP,EAQG,IARH,CAQQ,UAAS,GAAT,EAAc;AAClB,sBAAM,IAAN;AACA,uBAAO,UAAP,GAAoB,KAApB;AACA,uBAAO,OAAP;AACH,aAZD;AAcH,SAhBD;;AAkBA,eAAO,MAAP,GAAgB,YAAW;AACvB,8BAAkB,OAAlB,CAA0B,QAA1B;AACH,SAFD;AAGH;AAEJ,CA3FD;;;ACAA,CAAC,YAAW;;AAEV,UAAQ,MAAR,CAAe,gBAAf,EAAiC,CAAC,SAAD,CAAjC;AAED,CAJD;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,gBADZ,EAEK,SAFL,CAEe,eAFf,EAEgC,CAAC,gBAAD,EAAmB,aAAnB,CAFhC;;AAIA,aAAS,aAAT,CAAuB,cAAvB,EAAuC;AACnC,eAAO;AACH,sBAAU,eAAe,GAAf,CAAmB,qCAAnB;AADP,SAAP;AAGH;AAGA,CAbD;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,gBADZ,EAEK,SAFL,CAEe,iBAFf,EAEiC,CAAC,YAAD,EAAe,wBAAf,CAFjC;;AAIA,aAAS,wBAAT,CAAkC,UAAlC,EAA8C;AAC1C,eAAO;AACH,sBAAU;AADP,SAAP;AAGH;AAGA,CAbD;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,gBADZ,EAEK,SAFL,CAEe,aAFf,EAE6B,CAAC,YAAD,EAAe,oBAAf,CAF7B;;AAIA,aAAS,oBAAT,CAA8B,UAA9B,EAA0C;;AAEtC,eAAO;AACH,sBAAU,yGADP;AAEH,wBAAY,CAAC,QAAD,EAAU,UAAV,EAAqB,QAArB,EAA+B,UAAC,MAAD,EAAS,QAAT,EAAmB,MAAnB,EAA8B;;AAErE,uBAAO,aAAP,GAAuB,aAAvB;;AAEA,yBAAS,aAAT,CAAuB,MAAvB,EAA+B,IAA/B,EAAqC;AACjC,4BAAQ,IAAR;AACI,6BAAK,OAAL;AACI,mCAAO,WAAW,OAAO,KAAK,WAAL,EAAP,IAA2B,IAAtC,EAA2C,YAA3C,CAAP;AACA;AACJ,6BAAK,UAAL;AACI,mCAAO,OAAO,QAAP,CAAkB,CAAC,OAAO,GAAP,GAAa,OAAO,KAArB,IAA4B,IAA9C,EAAqD,QAArD,EAAP;AACA;AACJ,6BAAK,UAAL;AACI,mCAAU,OAAO,KAAK,WAAL,EAAP,CAAV;AACA;AACJ;AACI,mCAAO,OAAO,KAAK,WAAL,EAAP,CAAP;AAXR;AAaH;AAEJ,aApBW,CAFT;AAuBH,0BAAc;AAvBX,SAAP;AA0BH;AAGA,CArCD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,gBADZ,EAEK,UAFL,CAEgB,mBAFhB,EAEoC,iBAFpC,EAGK,GAHL,CAGS,CAAC,iBAAD,EAAmB,iBAAnB,CAHT;;AAKJ,sBAAkB,OAAlB,GAA4B,CAAC,QAAD,EAAW,QAAX,EAAqB,aAArB,EAAoC,eAApC,EAAqD,gBAArD,CAA5B;AACA,aAAS,iBAAT,CAA2B,MAA3B,EAAmC,MAAnC,EAA2C,WAA3C,EAAwD,aAAxD,EAAuE,cAAvE,EAAuF;;AAEnF,YAAI,KAAK,IAAT;;AAEA,WAAG,IAAH,GAAU,CAAC;AACP,mBAAQ,SADD;AAEP,mBAAQ,IAFD;AAGP,sBAAW,SAHJ;AAIP,kBAAO,IAJA;;AAMP,0BAAc,EAAC,OAAM,CAAC,UAAD,EAAY,OAAZ,EAAoB,UAApB,CAAP,EAAwC,OAAM,CAAC,KAAD,EAAO,KAAP,EAAa,KAAb,EAAmB,KAAnB,CAA9C;AANP,SAAD,EAOP;AACC,mBAAQ,UADT;AAEC,mBAAQ,OAFT;AAGC,sBAAY,UAHb;AAIC,kBAAO;AAJR,SAPO,EAYP;AACC,mBAAQ,OADT;AAEC,mBAAQ,MAFT;AAGC,sBAAW,OAHZ;AAIC,kBAAO;AAJR,SAZO,CAAV;;AAmBA,uBAAe,WAAf,GACC,IADD,CACO,mBAAW;;AAEd,eAAG,WAAH,GAAiB,IAAI,aAAJ,CAAkB;;AAE/B,uBAAQ;AACJ,+BAAY;AADR;AAFuB,aAAlB,EAKd;AACC,yBAAU;AADX,aALc,CAAjB;AASH,SAZD;AAcH;;AAED,aAAS,iBAAT,CAA2B,eAA3B,EAA4C;AACxC,wBAAgB,MAAhB,CAAuB,KAAvB,GAA+B,EAA/B;AACA,wBAAgB,QAAhB,CAAyB,MAAzB,GAAkC,EAAlC;AACH;AAEA,CAnDD;;;ACAA,CAAC,YAAW;AACV;;AAEC,SACE,MADF,CACS,gBADT,EAEE,OAFF,CAEU,gBAFV,EAE4B,cAF5B;;AAIH,gBAAe,OAAf,GAAyB,CAAC,YAAD,EAAc,aAAd,CAAzB;AACA,UAAS,cAAT,CAAwB,UAAxB,EAAoC,WAApC,EAAiD;AAChD,MAAI,UAAU;AACV,gBAAa,iBADH;AAEV,cAAW,eAFD;AAGV,eAAY,gBAHF;AAIV,iBAAc,kBAJJ;AAKV,gBAAa,cALH;AAMV,gBAAa,qBANH;AAOV,gBAAa,qBAPH;AAQV,kBAAc,mBARJ;AASV,gBAAa;AATH,GAAd;;AAYG,SAAO,OAAP;;AAEH,WAAS,WAAT,GAAsB;;AAErB,UAAO,YAAY,MAAZ,GACN,IADM,CACA,gBAAqB;AAAA,QAAX,KAAW,QAAnB,KAAmB;;AACxB,YAAQ,GAAR,CAAY,KAAZ;AACH,WAAO,WAAW,MAAX,GACN,IADM,CACA,kBAAU;;AAEV,SAAI,eAAe;AACf,8BAAwB,OADT;AAEf,iBAAW,QAAQ,aAFJ;AAGf,iBAAW,WAHI;AAIf,8BAAwB,eAJT;AAKf,iCAA2B;AACvB,kBAAW;AADY;AALZ,MAAnB;AASA,YAAO,OAAO,EAAP,CAAU,OAAV,EAAkB,YAAlB,CAAP;AACN,KAbM,EAcN,IAdM,CAcA,aAAK;AACR,YAAO,WAAW,EAAX,GACN,IADM,CACA,cAAM;AACT,aAAO,EAAE,KAAF,CAAQ,GAAR,CAAa,gBAAQ;AACxB,WAAI,SAAS,KAAK,MAAlB;AACM,WAAI,WAAW,CAAC,KAAD,EAAO,KAAP,EAAa,SAAb,EAAuB,KAAvB,EAA6B,KAA7B,CAAf;AACA,gBAAS,GAAT,CAAc,eAAO;AAClB,aAAK,MAAI,KAAT,IAAkB,GAAG,YAAH,CAAgB,WAAhB,EAA4B;AAC1C,cAAK,SAAS,KAAK,GAAL,CAD4B;AAE1C,iBAAQ,QAAQ;AAF0B,SAA5B,CAAlB;AAIF,QALD;;AAOA,cAAO,IAAP;AACT,OAXM,CAAP;AAaH,MAfM,CAAP;AAgBH,KA/BM,CAAP;AAgCA,IAnCM,EAoCN,KApCM,CAoCA,QAAQ,GApCR,CAAP;AAsCG;AAEJ;AAEA,CAnED;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,gBADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ;;AAIA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,cADX,EAC2B;AACnB,kBAAM,cADa;AAEnB,iBAAK,UAFc;AAGnB,mBAAO;AACH,2BAAW;AACP,iCAAa,qCADN;AAEP,gCAAY,mBAFL;AAGP,kCAAc;AAHP;AADR,aAHY;AAUnB,kBAAM;AACF,4BAAY,IADV;AAEF,8BAAc;AAFZ;AAVa,SAD3B;AAgBH;AAEJ,CAzBD;;;ACAA,CAAC,YAAU;;AAEV,SAAQ,MAAR,CAAe,gBAAf,EAAgC,CAAC,SAAD,CAAhC;AAEA,CAJD;;;ACAA,CAAC,YAAW;;AAEZ,SAAQ,MAAR,CAAe,gBAAf,EACE,UADF,CACa,mBADb,EACiC,CAC/B,QAD+B,EAE/B,YAF+B,EAG/B,WAH+B,CADjC;;AAOA,UAAS,WAAT,CAAqB,MAArB,EAA6B,UAA7B,EAAyC,CAExC;AAEA,CAbD;;;ACAA,CAAC,YAAW;AACX,SAAQ,MAAR,CAAe,aAAf,EAA8B,CAAC,MAAD,EAAS,UAAT,CAA9B;AACA,CAFD;;;;;ACAA,CAAC,UAAS,CAAT,EAAW;AACZ,YACE,MADF,CACS,aADT,EAEE,OAFF,CAEU,cAFV,EAE0B,CAClB,IADkB,EAElB,YAFkB,CAF1B;;AAOA,aAAS,YAAT,CAAsB,EAAtB,EAA0B;AACtB,YAAI,UAAU,EAAd;AACA,YAAI,WAAW;AACX,oBAAQ,QADG;AAEX,kBAAO,MAFI;AAGX,iBAAM,KAHK;AAIX,kBAAO,MAJI;AAKX,kBAAO;AALI,SAAf;;AAQA,eAAO,MAAP,CAAc,QAAd;;AAGA,gBAAQ,YAAR,GAAuB,YAAvB;;AAEA,eAAO,OAAP;;AAGA,iBAAS,YAAT,CAAsB,MAAtB,EAA8B;AAC1B,gBAAI,UAAU,MAAd;AACA,mBAAO,GAAG,GAAH,CAAO,OAAO,GAAP,CAAW,UAAC,CAAD,EAAO;AAC5B,uBAAO,GAAI,UAAC,OAAD,EAAS,MAAT,EAAoB;AAC3B,gCAAY,CAAZ;;AAAA,qBAEC,IAFD,CAEM,OAFN,EAGC,KAHD,CAGQ,eAAO;AACX,gCAAQ,GAAR,CAAY,KAAZ;AACA,+BAAO,GAAP;AACH,qBAND;AAOH,iBARM,CAAP;AASH,aAVa,CAAP,CAAP;AAWH;;;;;AAKD,iBAAS,WAAT,CAAqB,MAArB,EAA6B;;AAEzB,mBAAO,OAAO,YAAP,GAAsB;AACzB,uBAAQ;;;;;AAKJ,0BAAM,WALF;AAMJ,4BAAQ,OAAO,MAAP,IAAiB;AACrB,6BAAK,EADgB;AAErB,+BAAO,EAFc;AAGrB,gCAAQ,EAHa;AAIrB,8BAAM;AAJe,qBANrB;AAYJ,6BAAS,UAAU,GAAV,EAAc,MAAd,CAZL;AAaJ,6BAAS,UAAU,GAAV,EAAc,MAAd,CAbL;AAcJ,uBAAK;AAAA,+BAAM,EAAE,CAAR;AAAA,qBAdD;AAeJ,uBAAK;AAAA,+BAAM,EAAE,CAAR;AAAA,qBAfD;AAgBJ,6CAAyB,IAhBrB;AAiBJ,2BAAO,QAAQ,OAAO,OAAf,CAjBH;AAkBJ,2BAAO,QAAQ,OAAO,OAAf,CAlBH;AAmBJ,8BAAY,oBAAM;AAAC,gCAAQ,GAAR,CAAY,4BAAZ;AAA0C,qBAnBzD;AAoBJ,iCAAa;AApBT,iBADiB;AAuBzB,uBAAO,OAAO,MAAP,IAAiB;AACpB,4BAAQ,IADY;AAEpB,0BAAM,EAFc;AAGpB,yBAAK;AACD,uCAAe,MADd;AAED,wCAAgB,MAFf;AAGD,yCAAiB;AAHhB;AAHe,iBAvBC;AAgCzB,0BAAU,OAAO,QAAP,IAAmB;AACzB,4BAAQ,IADiB;AAEzB,0BAAM,EAFmB;AAGzB,yBAAK;AACD,sCAAc;AADb;AAHoB,iBAhCJ;AAuCzB,wBAAQ;AACJ,6BAAS;AACL,4CAAoB;AADf;AADL;AAvCiB,aAAtB,EA4CJ,GAAG,IAAH,CAAQ,MAAR,CA5CH;AA8CH;;AAED,iBAAS,OAAT,CAAiB,MAAjB,EAAyB;;AAErB,gBAAI,OAAQ,OAAO,IAAP,IAAe,SAAS,GAAzB,GAAgC,CAAhC,GAAoC,IAA/C;;AAEA,mBAAO;AACH,2BAAW,OAAO,SADf;AAEH,4BAAY,cAAc,MAAd,CAFT;AAGH,uBAAO,OAAO,KAAP,IAAgB,SAHpB;AAIH,2BAAW,OAAO,SAAP,IAAoB;AAJ5B,aAAP;AAMH;;AAED,iBAAS,SAAT,CAAmB,QAAnB,EAA6B,MAA7B,EAAqC;AACjC,gBAAI,MAAM,OAAU,QAAV,YAAV;AACA,gBAAI,MAAJ,EAAY,GAAZ,EAAiB,GAAjB;AACA,gBAAI,CAAC,CAAC,IAAI,KAAN,IAAe,IAAI,KAAJ,KAAc,MAAjC,EAAyC;AACrC,uBAAO,SAAP;AACH,aAFD,MAEO,IAAI,qBAAoB,IAAI,SAAxB,CAAJ,EAAuC;AAC1C,uBAAO,IAAI,SAAX;AACH,aAFM,MAEA,IAAI,CAAC,CAAC,IAAI,OAAN,IAAiB,QAAQ,OAAR,CAAgB,IAAI,OAApB,CAArB,EAAmD;AACtD,yBAAS,EAAT;AACA,sBAAM,GAAG,GAAH,CAAO,OAAO,SAAP,CAAiB,GAAjB,CAAsB;AAAA,2BAC/B,GAAG,GAAH,CAAO,GAAG,MAAH,CAAU,GAAV,CAAc;AAAA,+BAAK,EAAE,CAAP;AAAA,qBAAd,CAAP,CAD+B;AAAA,iBAAtB,CAAP,CAAN;AAGA,wBAAQ,IAAI,SAAZ;AACI,yBAAK,UAAL;AACI,iCAAS,CAAC,CAAD,EAAI,GAAJ,CAAT;AACA;AACJ,yBAAK,UAAL;AACI,8BAAM,GAAG,GAAH,CAAO,OAAO,SAAP,CAAiB,GAAjB,CAAsB;AAAA,mCAC/B,GAAG,GAAH,CAAO,GAAG,MAAH,CAAU,GAAV,CAAc;AAAA,uCAAK,EAAE,CAAP;AAAA,6BAAd,CAAP,CAD+B;AAAA,yBAAtB,CAAP,CAAN;AAGA,iCAAS,CAAC,GAAD,EAAK,GAAL,CAAT;AACA;AATR;AAWA,uBAAO,MAAP;AACH;;AAGD,qBAAS,EAAT;AACA,kBAAM,GAAG,GAAH,CAAO,OAAO,SAAP,CAAiB,GAAjB,CAAqB;AAAA,uBAAK,EAAE,QAAF,CAAL;AAAA,aAArB,CAAP,CAAN;AACA,oBAAQ,IAAI,SAAZ;AACI,qBAAK,UAAL;AACI,6BAAS,CAAC,CAAD,EAAI,GAAJ,CAAT;AACA;AACJ,qBAAK,UAAL;AACI,0BAAM,GAAG,GAAH,CAAO,OAAO,SAAP,CAAiB,GAAjB,CAAqB;AAAA,+BAAK,EAAE,QAAF,CAAL;AAAA,qBAArB,CAAP,CAAN;AACA,6BAAS,CAAC,GAAD,EAAK,GAAL,CAAT;AACA;AAPR;AASA,mBAAO,MAAP;AACH;;;;;;;;;;;AAWD,iBAAS,aAAT,CAAuB,MAAvB,EAA+B;AAC3B,gBAAI,OAAO,KAAP,KAAiB,MAArB,EAA4B;AACxB,uBAAO,cAAc,OAAO,IAArB,CAAP;AACH,aAFD,MAEO;AACH,uBAAO,UAAS,CAAT,EAAY;AACf,2BAAO,GAAG,MAAH,CAAU,OAAO,OAAjB,EAA0B,CAA1B,CAAP;AACH,iBAFD;AAGH;AACJ;;AAED,iBAAS,aAAT,CAAuB,QAAvB,EAAiC;AAC7B,gBAAI,YAAJ;AACA,oBAAQ,QAAR;AACI,qBAAK,SAAS,MAAd;AACI,mCAAe,IAAf;AACA;AACJ,qBAAK,SAAS,IAAd;AACI,mCAAe,IAAf;AACA;AACJ,qBAAK,SAAS,GAAd;AACI,mCAAe,IAAf;AACA;AACJ,qBAAK,SAAS,KAAd;AACI,mCAAe,IAAf;AACA;AACJ,qBAAK,SAAS,IAAd;AACI,mCAAe,IAAf;AACA;AAfR;AAiBA,mBAAO,UAAS,CAAT,EAAY;AACf,uBAAO,GAAG,IAAH,CAAQ,MAAR,CAAe,YAAf,EAA6B,IAAI,IAAJ,CAAS,IAAI,IAAb,CAA7B,CAAP;AACH,aAFD;AAGH;AAGJ;AAEA,CAjMD,EAiMG,MAjMH;;;ACAA,CAAC,YAAU;AACX,YACK,MADL,CACY,aADZ,EAEK,OAFL,CAEa,eAFb,EAE8B,CACtB,IADsB,EAEtB,aAFsB,CAF9B;;AAQA,aAAS,aAAT,CAAuB,EAAvB,EAA2B;AACvB,YAAI,UAAU,EAAd;;AAEA,gBAAQ,aAAR,GAAwB,aAAxB;AACA,eAAO,OAAP;;;;;AAKC,iBAAS,aAAT,CAAuB,MAAvB,EAA+B;AAC5B,mBAAO,GAAG,GAAH,CAAO,MAAP,EAAe,IAAf,CAAoB,cAAM;AAC7B,uBAAO,GAAG,GAAH,CAAO,YAAP,CAAP;AACH,aAFM,CAAP;AAIF;;AAED,iBAAS,YAAT,OAUE;AAAA,gBATe,IASf,QATC,YASD;AAAA,gBARY,IAQZ,QARC,SAQD;AAAA,gBAPQ,IAOR,QAPC,KAOD;AAAA,iCANC,IAMD;AAAA,kDADK,EACL;AAAA,gBALU,CAKV,aALK,GAKL;AAAA,gBAJU,CAIV,aAJK,GAIL;AAAA,4CAHK,KAGL;AAAA,gBAHY,CAGZ,mCAHgB,CAGhB;AAAA,4CAFK,KAEL;AAAA,gBAFY,CAEZ,mCAFgB,CAEhB;;AACC,mBAAO;AACH,qBAAK,CADF;AAEH,qBAAK,CAFF;AAGH,uBAAO,CAHJ;AAIH,uBAAO,CAJJ;AAKH,uBAAO,MALJ;AAMH,0BAAU,MANP;AAOH,sBAAM,IAPH;AAQH,uBAAO;AACH,6BAAS,IADN;AAEH,0BAAM,IAFH;AAGH,yBAAK;AAHF;AARJ,aAAP;AAcF;AAGL;AAEA,CAvDD;;;ACAA,CAAC,YAAW;;AAER,YAAQ,MAAR,CAAe,eAAf,EAAgC;;AAE5B,oBAF4B,EAG5B,gBAH4B,EAI5B,eAJ4B,EAK5B,gBAL4B,EAM5B,YAN4B,CAAhC;AASH,CAXD;;;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,eADZ,EAEK,SAFL,CAEe,cAFf,EAE+B;AACvB,kBAAU,sBADa;AAEvB,oBAAY,IAFW;AAGvB,oBAAY,gBAHW;AAIvB,kBAAU;AACN,6BAAiB,GADX;AAEN,uBAAW,GAFL;;AAIN,4BAAgB;AAJV;AAJa,KAF/B;;AAcA,qBAAiB,OAAjB,GAA2B,CAAC,QAAD,EAAU,OAAV,EAAkB,IAAlB,CAA3B;AACA,aAAS,gBAAT,CAA0B,MAA1B,EAAkC,KAAlC,EAAyC,EAAzC,EAA6C;AACzC,YAAI,OAAO,IAAX;AACA,aAAK,SAAL,GAAiB,SAAjB;;AAEA,aAAK,OAAL,GAAe,YAAW;AACtB,iBAAK,SAAL,GAAiB,IAAjB,CAAuB,kBAAU;AAAE,qBAAK,GAAL,GAAW,MAAX;AAAmB,aAAtD;AACH,SAFD;;AAIA,aAAK,UAAL,GAAkB,UAAS,QAAT,EAAmB;AACjC,oBAAQ,GAAR,CAAY,QAAZ;AACA,gBAAI,CAAC,CAAC,SAAS,eAAf,EAAgC;AAC5B,oBAAI,QAAQ,SAAS,eAArB;AACA,oBAAI,CAAC,CAAC,MAAM,YAAR,IAAwB,CAAC,CAAC,MAAM,aAAN,EAA9B,EAAqD;AACjD,yBAAK,SAAL,CAAe,MAAM,KAArB;AACH;AACJ;AACJ,SARD;;;;;;;;;;AAkBA,iBAAS,SAAT,CAAmB,EAAnB,EAAuB;AACnB,oBAAQ,GAAR,CAAY,EAAZ;AACA,kBAAM;AACF,wBAAQ,KADN;AAEF,qBAAK;AAFH,aAAN,EAIC,IAJD,CAIO,oBAAY;AACf,wBAAQ,GAAR,CAAY,SAAS,IAArB;AACH,aAND;AAOH;;AAED,iBAAS,eAAT,GAA2B;AACvB,iBAAK,MAAL,GAAc,IAAd,CAAoB,eAAO;AACvB,wBAAQ,GAAR,CAAY,GAAZ;AACA,oBAAI,eAAe,IAAI,OAAO,IAAP,CAAY,YAAhB,CAA6B;AAC5C,gCAAY,oBAAS,KAAT,EAAgB,IAAhB,EAAsB;AAC9B,4BAAI,OAAO,EAAP,IAAa,OAAO,EAApB,IACA,OAAO,IAAP,EAAa,CAAb,EAAgB,CAAhB,IAAqB,MAAM,CAD3B,IACgC,MAAM,CAAN,GAAU,OAAO,IAAP,EAAa,CAAb,EAAgB,CAAhB,CAD1C,IAEA,OAAO,IAAP,EAAa,CAAb,EAAgB,CAAhB,IAAqB,MAAM,CAF3B,IAEgC,MAAM,CAAN,GAAU,OAAO,IAAP,EAAa,CAAb,EAAgB,CAAhB,CAF9C,EAEkE;AAC9D,mCAAO,IAAP;AACH;;AAED,kFAAwD,IAAxD,SAAgE,MAAM,CAAtE,SAA2E,MAAM,CAAjF;AACH,qBAT2C;AAU5C,8BAAU,IAAI,OAAO,IAAP,CAAY,IAAhB,CAAqB,GAArB,EAA0B,GAA1B;AAVkC,iBAA7B,CAAnB;;AAaA,qBAAK,GAAL,CAAS,eAAT,CAAyB,IAAzB,CAA8B,YAA9B;AACH,aAhBD;AAiBH;;AAGD,iBAAS,MAAT,GAAkB;AACd,iBAAK,MAAL,GAAc,IAAd,CAAoB,eAAO;AACvB,wBAAQ,GAAR,CAAY,SAAZ;;;;AAIA,oBAAI,MAAM,KAAK,GAAf;;AAEA,oBAAI,aAAa,EAAjB;AACA,oBAAI,aAAa,EAAjB;AACA,oBAAI,YAAY,IAAI,OAAO,IAAP,CAAY,YAAhB,CACZ,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,WAAvB,EAAoC,CAAC,YAArC,CADY,EAEZ,IAAI,OAAO,IAAP,CAAY,MAAhB,CAAuB,WAAvB,EAAoC,CAAC,YAArC,CAFY,CAAhB;;AAKA,oBAAI,YAAY,GAAhB;AACA,yBAAS,WAAT,CAAqB,MAArB,EAA6B,GAA7B,EAAkC;AAC9B,yBAAK,IAAL,GAAY;AAAA,+BAAK,CAAC,EAAE,GAAF,EAAD,EAAS,EAAE,GAAF,EAAT,CAAL;AAAA,qBAAZ;;AAEA,yBAAK,QAAL,GAAgB,IAAI,OAAO,IAAP,CAAY,IAAhB,CAAqB,GAArB,EAA0B,GAA1B,CAAhB;AACA,yBAAK,SAAL,GAAiB,IAAI,OAAO,IAAP,CAAY,SAAhB,CAA0B;AACvC,gCAAQ,MAD+B;AAEvC,qCAAa,UAF0B;AAGvC,uCAAe,CAHwB;AAIvC,qCAAa,CAJ0B;;;AAOvC,6BAAK;AAPkC,qBAA1B,CAAjB;AASA,yBAAK,GAAL,GAAW,KAAK,GAAhB;AACH;;;;AAMD,yBAAS,OAAT,CAAiB,MAAjB,EAAyB;AACrB,wBAAI,OAAO,KAAK,GAAL,CAAS,OAAO,GAAP,KAAe,KAAK,EAApB,GAAyB,GAAlC,CAAX;;;;AAIA,2BAAO,KAAK,GAAL,CAAS,KAAK,GAAL,CAAS,IAAT,EAAe,CAAC,MAAhB,CAAT,EAAkC,MAAlC,CAAP;;AAEA,2BAAO,IAAI,OAAO,IAAP,CAAY,KAAhB,CACH,aAAa,MAAM,OAAO,GAAP,KAAe,GAAlC,CADG,EAEH,aAAa,MAAM,KAAK,GAAL,CAAS,CAAC,IAAI,IAAL,KAAc,IAAI,IAAlB,CAAT,KAAqC,IAAI,KAAK,EAA9C,CAAnB,CAFG,CAAP;AAIH;;AAGD,4BAAY,SAAZ,CAAsB,OAAtB,GAAgC,UAAS,KAAT,EAAgB,IAAhB,EAAsB,aAAtB,EAAqC;AACjE,wBAAI,OAAO,IAAX;AACA,wBAAI,MAAM,KAAK,GAAf;AACA,yBAAK,KAAL,GAAa,KAAb;AACA,wBAAI,OAAO,KAAK,GAAL,CAAS,aAAT,EAAX;AACA,wBAAI,KAAK,KAAK,GAAL,CAAS,CAAT,EAAY,IAAZ,CAAT;AACA,yBAAK,IAAL,GAAY,EAAZ;AACA,wBAAI,YAAY,MAAM,EAAtB;AACA,wBAAI,YAAY,MAAM,EAAtB;AACA,wBAAI,aAAa,IAAI,OAAO,IAAP,CAAY,YAAhB,CACb,KAAK,iBAAL,CAAuB,IAAI,OAAO,IAAP,CAAY,KAAhB,CAAsB,MAAM,CAAN,GAAU,SAAhC,EAA2C,CAAC,MAAM,CAAN,GAAU,CAAX,IAAgB,SAA3D,CAAvB,CADa,EAEb,KAAK,iBAAL,CAAuB,IAAI,OAAO,IAAP,CAAY,KAAhB,CAAsB,CAAC,MAAM,CAAN,GAAU,CAAX,IAAgB,SAAtC,EAAiD,MAAM,CAAN,GAAU,SAA3D,CAAvB,CAFa,CAAjB;AAIA,wBAAI,CAAC,UAAU,UAAV,CAAqB,UAArB,CAAD,IAAqC,OAAO,UAA5C,IAA0D,OAAO,UAArE,EAAiF,OAAO,cAAc,aAAd,CAA4B,KAA5B,CAAP;;;AAGjF,wBAAI,MAAM,iBAAiB,KAAjB,EAAwB,IAAxB,EAA8B,IAA9B,CAAV;AACA,wBAAI,QAAQ,IAAI,KAAJ,EAAZ;;AAEA,4BAAQ,GAAR,CAAY,GAAZ;AACA,wBAAI,SAAS,cAAc,aAAd,CAA4B,QAA5B,CAAb;AACA,2BAAO,KAAP,GAAe,KAAK,QAAL,CAAc,KAA7B;AACA,2BAAO,MAAP,GAAgB,KAAK,QAAL,CAAc,MAA9B;AACA,wBAAI,UAAU,OAAO,UAAP,CAAkB,IAAlB,CAAd;AACA,4BAAQ,IAAR;AACA,wBAAI,OAAO,MAAM,CAAN,GAAU,KAAK,QAAL,CAAc,KAAnC;AACA,wBAAI,OAAO,MAAM,CAAN,GAAU,KAAK,QAAL,CAAc,MAAnC;;AAEA,wBAAI,YAAY,KAAK,SAArB;AACA,wBAAI,OAAO,IAAX;;AAEA,wBAAI,QAAQ,CACR,CAAC,GAAD,EAAM,CAAN,EAAS,EAAT,CADQ,EAER,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAFQ,EAGR,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAHQ,EAIR,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAJQ,EAKR,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CALQ,EAMR,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CANQ,EAOR,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAPQ,EAQR,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CARQ,EASR,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CATQ,EAUR,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,CAVQ,EAWR,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,CAXQ,CAAZ;;AAcA,0BAAM,MAAN,GAAe,YAAW;;AAEtB,4BAAI,OAAO,YAAY,UAAU,SAAV,EAAZ,EAAkC,KAAK,IAAvC,CAAX;;;AAGA,gCAAQ,OAAR;AACA,gCAAQ,IAAR;AACA,gCAAQ,SAAR,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,OAAO,KAA7B,EAAmC,OAAO,MAA1C;AACA,gCAAQ,SAAR;AACA,gCAAQ,IAAR,mCAAgB,IAAhB;AACA,gCAAQ,IAAR;AACA,gCAAQ,SAAR,CAAkB,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B;AACA,6BAAK,SAAL,GAAiB,QAAQ,YAAR,CAAqB,CAArB,EAAuB,CAAvB,EAAyB,OAAO,KAAhC,EAAsC,OAAO,MAA7C,CAAjB;AACA,4BAAI,SAAS,KAAK,SAAL,CAAe,IAA5B;AACA,gCAAQ,SAAR,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,OAAO,KAA7B,EAAmC,OAAO,MAA1C;AACA,4BAAI,SAAS,OAAO,MAApB;AACA,4BAAI,CAAJ,EAAO,CAAP;AACA,6BAAK,IAAI,CAAT,EAAY,IAAE,MAAd,EAAsB,GAAtB,EAA2B;;AAEvB,gCAAI,MAAM,KAAK,KAAL,CAAW,OAAO,IAAE,CAAT,IAAc,KAAd,GAAsB,EAAjC,CAAN,KAA+C,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAAnD;AACA,mCAAO,IAAE,CAAT,IAAc,EAAE,CAAF,CAAd;AACA,mCAAO,IAAE,CAAF,GAAI,CAAX,IAAe,EAAE,CAAF,CAAf;AACA,mCAAO,IAAE,CAAF,GAAI,CAAX,IAAgB,EAAE,CAAF,CAAhB;AACH;AACD,gCAAQ,YAAR,CAAqB,KAAK,SAA1B,EAAqC,CAArC,EAAwC,CAAxC;;AAEA,gCAAQ,SAAR;AACH,qBA3BD;;AAgCA,0BAAM,GAAN,GAAY,GAAZ;;AAEA,6BAAS,SAAT,CAAmB,GAAnB,EAAwB;;AAEpB,4BAAI,KAAK,GAAL,KAAW,GAAX,IAAkB,EAAlB,IAAwB,CAAC,IAAI,KAAjC,EAAwC;AACpC,gCAAI,KAAJ,GAAY,IAAZ;AACA,mCAAO,SAAS,eAAT,GAA2B;AAC9B,oCAAI,IAAI,IAAI,SAAZ;AACA,oCAAI,OAAO,YAAY,EAAE,SAAF,EAAZ,EAA0B,IAAI,IAA9B,CAAX;;;AAGA,wCAAQ,OAAR;AACA,wCAAQ,IAAR;AACA,wCAAQ,SAAR,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,OAAO,KAA7B,EAAmC,OAAO,MAA1C;AACA,wCAAQ,SAAR;AACA,wCAAQ,IAAR,mCAAgB,IAAhB;AACA,wCAAQ,IAAR;AACA,wCAAQ,YAAR,CAAqB,IAAI,SAAzB,EAAoC,CAApC,EAAuC,CAAvC;;;;;;;;;;;;AAYA,wCAAQ,SAAR;AACH,6BAxBD;AAyBH,yBA3BD,MA2BO;AACH,mCAAO,QAAQ,IAAf;AACH;AAEJ;;AAGD,2BAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,KAAK,SAAnC,EAA8C,gBAA9C,EAAgE,UAAU,IAAV,CAAhE;;AAEA,6BAAS,WAAT,CAAqB,MAArB,EAA6B,IAA7B,EAAmC;;AAE/B,4BAAI,KAAK,OAAO,YAAP,EAAT;AACA,4BAAI,KAAK,OAAO,YAAP,EAAT;;AAEA,4BAAI,UAAU,QAAQ,EAAR,CAAd;AACA,4BAAI,UAAU,QAAQ,EAAR,CAAd;;AAEA,4BAAI,KAAK,IAAI,OAAO,IAAP,CAAY,KAAhB,CACL,KAAK,KAAL,CAAW,QAAQ,CAAR,GAAY,IAAvB,CADK,EAEL,KAAK,KAAL,CAAW,QAAQ,CAAR,GAAY,IAAvB,CAFK,CAAT;;AAKA,4BAAI,KAAK,IAAI,OAAO,IAAP,CAAY,KAAhB,CACL,KAAK,KAAL,CAAW,QAAQ,CAAR,GAAY,IAAvB,CADK,EAEL,KAAK,KAAL,CAAW,QAAQ,CAAR,GAAY,IAAvB,CAFK,CAAT;;AAKA,4BAAI,IAAI,KAAK,GAAL,CAAS,GAAG,CAAH,GAAK,GAAG,CAAjB,CAAR;AACA,4BAAI,IAAI,KAAK,GAAL,CAAS,GAAG,CAAH,GAAK,GAAG,CAAjB,CAAR;AACA,+BAAO,CAAC,GAAG,CAAH,GAAK,IAAN,EAAW,GAAG,CAAH,GAAK,IAAhB,EAAqB,CAArB,EAAuB,CAAvB,CAAP;AACH;;AAED,2BAAO,MAAP;AACH,iBA7ID;;AA+IA,yBAAS,gBAAT,CAA0B,KAA1B,EAAiC,IAAjC,EAAuC;AACnC,0CAAoB,IAApB,SAA4B,MAAM,CAAlC,SAAuC,MAAM,CAA7C;AACH;AACJ,aAnMD;;;;;;;;;;;;;;;;AAmNH;AACJ;AAEA,CAlSD;;;ACAA,CAAC,YAAW;AACZ,YACK,MADL,CACY,eADZ,EAEK,OAFL,CAEa,mBAFb,EAEkC,CAC1B,IAD0B,EAE1B,OAF0B,EAG1B,QAH0B,EAI1B,eAJ0B,EAK1B,YAL0B,EAM1B,iBAN0B,CAFlC;;AAWA,aAAS,iBAAT,CAA2B,EAA3B,EAA+B,KAA/B,EAAsC,MAAtC,EAA8C,aAA9C,EAA6D,UAA7D,EAAyE;AACrE,gBAAQ,GAAR,CAAY,wBAAZ;AACA,YAAI,MAAM,IAAV;;AAEA,YAAI,WAAW,GAAG,KAAH,EAAf;AACA,YAAI,KAAJ,GAAY,SAAS,OAArB;;AAEA,YAAI,WAAW,cAAc,SAAd,CAAf;;AAEA,YAAI,UAAU;AACV,oBAAQ,MADE;AAEV,2BAAe,aAFL;AAGV,yBAAa,iBAHH;AAIV,uBAAW,eAJD;AAKV,wBAAY,gBALF;AAMV,0BAAc,kBANJ;AAOV,yBAAa,cAPH;AAQV,yBAAa,qBARH;AASV,4CAAgC;;AATtB,SAAd;;AAaA,eAAO,OAAP;;AAEA,iBAAS,MAAT,CAAgB,KAAhB,EAAuB;AACnB,qBAAS,OAAT,CAAiB,KAAjB;AACH;;AAED,iBAAS,aAAT,GAAyB;AACrB,mBAAO,IAAI,KAAJ,CAAU,IAAV,CAAgB;AAAA,uBAAM,uBAAuB,EAAvB,CAAN;AAAA,aAAhB,CAAP;AACH;AACD,iBAAS,SAAT,CAAmB,IAAnB,EAAyB;AAC3B,gBAAI,uBAAuB,iBAA3B;AACA,gBAAI,kBAAkB,aAAtB;AACA,mBAAO,KACP,OADO,CACC,oBADD,EACuB,UAAS,CAAT,EAAY,SAAZ,EAAuB,MAAvB,EAA+B,MAA/B,EAAuC;AACpE,uBAAO,SAAS,OAAO,WAAP,EAAT,GAAgC,MAAvC;AACG,aAHG,EAIJ,OAJI,CAII,eAJJ,EAIqB,OAJrB,CAAP;AAKG;;AAED,iBAAS,sBAAT,CAAgC,EAAhC,EAAoC;AAChC,gBAAI,aAAa,SAAS,GAAT,CAAa,EAAb,CAAjB;AACA,gBAAI,CAAC,CAAC,UAAN,EAAkB;AACd,uBAAO,GAAG,IAAH,CAAQ,KAAK,KAAL,CAAW,UAAX,CAAR,CAAP;AACH;;AAED,oBAAQ,GAAR,CAAY,EAAZ;;AAEA,gBAAI,IAAI,GAAG,KAAH,EAAR;AACA,gBAAI,MAAM,WAAW,EAAX,EAAV;AACA,uBAAW,MAAX,GACC,IADD,CACO,kBAAU;;AAEb,oBAAI,eAAe;AACf,4CAAwB,OADT;AAEf,+BAAW,QAAQ,SAFJ;AAGf,4CAAwB,eAHT;AAIf,+CAA2B;AACvB,mCAAW;AADY;AAJZ,iBAAnB;AAQA,uBAAO,OAAO,EAAP,CAAU,OAAV,EAAkB,YAAlB,CAAP;AACH,aAZD,EAaC,IAbD,CAaO;AAAA,uBAAW,QAAQ,KAAnB;AAAA,aAbP,EAcC,IAdD,CAcO,oBAAY;AACf,wBAAQ,GAAR,CAAY,QAAZ;;;;;;;;;;AAUA,oBAAI,MAAM,SAAS,GAAT,CAAc;AAAA,2BAAM,IAAI,IAAJ,CAAS;AAAA,+BACnC,GAAG,SAAH,CAAa;AACT,iCAAK,GAAG,OAAH,IAAY,YADR;AAET,oCAAQ,QAAQ,WAFP;AAGT,wDAA4B,kBAHnB;AAIT,qDAAyB;AAJhB,yBAAb,EAKG,IALH,CAKS;AAAA,mCAAS;AACd,oCAAG,EADW;AAEd,sCAAK,QAAQ,QAAR,CAAkB,KAAK,IAAL,CAAU,QAAV,EAAlB;AAFS,6BAAT;AAAA,yBALT,CADmC;AAAA,qBAAT,CAAN;AAAA,iBAAd,CAAV;;AAYA,mBAAG,GAAH,CAAO,GAAP,EAAY,IAAZ,CAAkB,uBAAe;AAC7B,wBAAI,SAAS,YAAY,GAAZ,CAAgB,eAAO;AAChC,4BAAI,MAAM,EAAC,IAAG,EAAJ,EAAV;AACA,4BAAI,IAAJ,GAAW,IAAI,IAAf;AACA,gCAAQ,OAAR,CAAgB,IAAI,EAApB,EAAwB,UAAC,GAAD,EAAK,GAAL,EAAa;AACjC,gCAAI,EAAJ,CAAO,UAAU,GAAV,CAAP,IAAyB,GAAzB;AACH,yBAFD;AAGA,+BAAO,GAAP;AACH,qBAPY,EAOV,MAPU,CAOF,UAAC,IAAD,EAAM,GAAN,EAAc;AACrB,4BAAI,MAAM,IAAI,EAAd;AACA,gCAAQ,OAAR,CAAgB,IAAI,IAApB,EAAyB,UAAC,GAAD,EAAK,GAAL,EAAa;AAAC,gCAAI,GAAJ,IAAW,GAAX;AAAe,yBAAtD;AACA,+BAAO,KAAK,MAAL,CAAY,GAAZ,CAAP;AACH,qBAXY,EAWX,EAXW,CAAb;AAYA,6BAAS,GAAT,CAAa,EAAb,EAAiB,KAAK,SAAL,CAAe,MAAf,CAAjB;AACA,sBAAE,OAAF,CAAU,MAAV;AACH,iBAfD,EAgBC,KAhBD,CAgBQ;AAAA,2BAAO,QAAQ,GAAR,CAAY,GAAZ,CAAP;AAAA,iBAhBR;AAiBH,aAtDD;;AAwDA,mBAAO,EAAE,OAAT;AACH;;AAED,iBAAS,8BAAT,CAAwC,KAAxC,EAA+C;AAC9C,qBAAS,OAAT,EACC,IADD,CACO,cAAM;AACZ,sBAAM,UAAN,IAAoB,GAAG,CAAH,CAApB;AACA,wBAAQ,GAAR,CAAY,EAAZ;AACA,oBAAI,SAAS;AACf,+BAAW,QAAQ,YADJ;AAEf,0BAAM;AAFS,iBAAb;;AAKG,uBAAO,WAAW,MAAX,GACN,IADM,CACA;AAAA,2BAAU,OAAO,EAAP,CAAW,KAAX,EAAkB,MAAlB,CAAV;AAAA,iBADA,CAAP;AAEH,aAXD,EAYI,IAZJ,CAYU;AAAA,uBAAK,EAAE,IAAP;AAAA,aAZV,EAaI,IAbJ,CAaU,QAAQ,GAblB,EAcI,KAdJ,CAcU,QAAQ,GAdlB;AAgBA;;AAED,iBAAS,QAAT,CAAkB,IAAlB,EAAwB,iBAAxB,EAA2C;;AAEvC,gCAAoB,qBAAqB,CAAzC;AACA,oBAAQ,GAAR,CAAY,iBAAZ;AACA,mBAAO,GAAI,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC5B,2BAAW,MAAX,GACC,IADD,CACO,kBAAU;;AAEb,2BAAO,EAAP,CAAU,QAAV,EAAoB;AAChB,mCAAW,QAAQ,WADH;AAEhB,6BAAK;AACD,uCAAW;AADV,yBAFW;AAKhB,0CAAkB,8BALF;AAMhB,mDAA0B;AACtB,oCAAQ;AADc,yBANV;AAShB,sCAAa;AATG,qBAApB,EAWC,IAXD,CAWO,oBAAY;AAClB,gCAAQ,GAAR,CAAY,QAAZ;AACG,4BAAM,WAAW,SAAS,UAAT,CAAoB,OAArC;AACA,4BAAM,OAAO,EAAb;;AAEA,4BAAI,UAAJ;AACA,6BAAK,IAAI,CAAT,EAAY,IAAI,iBAAhB,EAAmC,GAAnC,EAAyC;AACrC,iCAAK,IAAL,CAAU,WAAW,CAArB;AACH;;AAED,4BAAM,SAAS,KAAK,GAAL,CAAU,aAAK;AAC1B,mCAAO,CAAC,WAAW,EAAE,QAAF,CAAW,IAAX,CAAZ,EAA8B,KAA9B,CAAoC,CAAC,CAArC,CAAP;AACH,yBAFc,CAAf;;AAIA,gCAAQ,MAAR;AACH,qBA1BD;AA2BH,iBA9BD,EA+BC,KA/BD,CA+BO,MA/BP;AAgCH,aAjCM,CAAP;AAkCH;AAEJ;AAEA,CAvLD;;;;;ACAA,CAAC,YAAW;;AAER,YACK,MADL,CACY,eADZ,EAEK,UAFL,CAEgB,gBAFhB,EAEkC,CAC1B,QAD0B,EAE1B,MAF0B,EAG1B,UAH0B,EAI1B,WAJ0B,EAK1B,IAL0B,EAM1B,UAN0B,EAO1B,aAP0B,EAQ1B,eAR0B,EAS1B,QAT0B,EAU1B,mBAV0B,EAW1B,cAX0B,CAFlC;;AAgBA,aAAS,cAAT,CAAwB,MAAxB,EAAgC,IAAhC,EAAsC,QAAtC,EAAgD,SAAhD,EAA2D,EAA3D,EAA+D,QAA/D,EAAyE,WAAzE,EAAsF,UAAtF,EAAkG,MAAlG,EAA0G,iBAA1G,EAA6H;;;;AAIzH,YAAI,KAAK,IAAT;AACA,WAAG,WAAH,GAAiB,KAAjB;AACA,YAAI,GAAJ;AACA,WAAG,UAAH,GAAgB,UAAhB;AACA,WAAG,IAAH,GAAU,IAAV;;;;;;;;;;;;AAcA,WAAG,QAAH,GAAc,QAAd;;;AAGA,WAAG,SAAH,GAAe,SAAf;;;;AAIA,WAAG,OAAH,GAAa,OAAb;;;AAGA,WAAG,cAAH,GAAoB,cAApB;AACA,WAAG,YAAH,GAAkB,YAAlB;;;AAGA,WAAG,UAAH,GAAgB,IAAhB;AACA,WAAG,OAAH,GAAa,KAAb;;AAEA,WAAG,OAAH,GAAa,OAAb;;AAEA,WAAG,MAAH,GAAY,MAAZ;AACA,YAAI,WAAW,GAAG,KAAH,EAAf;AACA,YAAI,aAAa,SAAS,OAA1B;;AAEA,WAAG,QAAH;;AAEA,iBAAS,QAAT,GAAoB;AAChB,oBAAQ,MAAR,CAAe,MAAf,EAAuB;AACnB,6BAAa,EADM;AAEnB,iCAAiB,IAFE;AAGnB,yBAAS,EAHU;AAInB,8BAAc,EAJK;AAKnB,yBAAS,KALU;AAMnB,wBAAQ,MANW;AAOnB,oCAAoB;AAPD,aAAvB;;;;;AAaA,wBAAY,OAAZ,GACK,IADL,CACU,gBAAQ;AACV,uBAAO,IAAP,GAAc,IAAd;AACH,aAHL;AAIA,wBAAY,MAAZ,GACK,IADL,CACU,eAAO;AACT,mBAAG,IAAH,GAAU,CAAC,GAAD,CAAV;AACA,mBAAG,UAAH,GAAgB,GAAhB;AACA,yBAAS,YAAM;AACX,uBAAG,OAAH,CAAW,GAAX;AACH,iBAFD,EAEG,GAFH;AAGH,aAPL;AAQH;;AAGD,iBAAS,MAAT,GAAkB;AACd,oBAAQ,GAAR,CAAY,uBAAZ;AACA,mBAAO,UAAP;AACH;;AAED,iBAAS,YAAT,GAAwB;AACpB,gBAAI,GAAJ,EAAS;AACL,oBAAI,SAAS,IAAI,SAAJ,EAAb;AACA,uBAAO,IAAP,CAAY,KAAZ,CAAkB,OAAlB,CAA0B,GAA1B,EAA+B,QAA/B;AACA,oBAAI,SAAJ,CAAc,MAAd;AACH;AACJ;;;AAGD,iBAAS,OAAT,CAAiB,GAAjB,EAAsB;;AAElB,kBAAM,IAAI,OAAO,IAAP,CAAY,GAAhB,CAAoB,SAAS,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AACtD,wBAAQ;AACJ,2BAAO,QADH;AAEJ,2BAAO,CAAC;AAFJ,iBAD8C;AAKtD,sBAAM,CALgD;AAMtD,2BAAW,OAAO,IAAP,CAAY,SAAZ,CAAsB,SANqB;AAOtD,6BAAa,IAPyC;AAQtD,oCAAoB;AAChB,2BAAO,OAAO,IAAP,CAAY,gBAAZ,CAA6B;AADpB,iBARkC;AAWtD,8BAAc,IAXwC;AAYtD,+BAAe,IAZuC;AAatD,mCAAmB,KAbmC;AActD,sBAAM,CAdgD;;AAgBtD,iCAAiB,SAhBqC;AAiBtD,uCAAuB;AACnB,2BAAO,OAAO,IAAP,CAAY,mBAAZ,CAAgC,OADpB;AAEnB,8BAAU,OAAO,IAAP,CAAY,eAAZ,CAA4B;AAFnB,iBAjB+B;AAqBtD,wBAAQ;AArB8C,aAApD,CAAN;AAuBA,mBAAO,GAAP,GAAa,GAAb;AACA,qBAAS,OAAT,CAAiB,GAAjB;;AAEA,eAAG,OAAH,CAAW,IAAI,IAAf;;AAEA,gBAAI,iBAAiB,IAAI,OAAO,IAAP,CAAY,OAAZ,CAAoB,cAAxB,CAAuC;AACxD,qBAAK,GADmD;AAExD,gCAAgB,IAFwC;AAGxD,gCAAgB;AACZ,iCAAa,SADD;AAEZ,mCAAe,GAFH;AAGZ,kCAAc,CAHF;AAIZ,+BAAW,SAJC;AAKZ,iCAAa;AALD,iBAHwC;AAUxD,uCAAuB;AACnB,8BAAU,OAAO,IAAP,CAAY,eAAZ,CAA4B,SADnB;AAEnB,kCAAc,CAAC,SAAD,EAAY,MAAZ;AAFK;;AAViC,aAAvC,CAArB;;AAiBA,qBAAS,OAAT,CAAiB,KAAjB,EAAwB;AACpB,uBAAO,YAAW;AACd,2BAAO,KAAP;AACH,iBAFD;AAGH;;AAED,qBAAS,sBAAT,CAAgC,UAAhC,EAA4C;AACxC,oBAAI,UAAU,EAAd;AACA,2BAAW,OAAX,CAAmB,UAAS,SAAT,EAAoB,GAApB,EAAyB;AACxC,4BAAQ,IAAR,CAAa;AACT,+BAAO,QAAQ,UAAU,GAAlB,CADE;AAET,+BAAO,QAAQ,UAAU,GAAlB;AAFE,qBAAb;AAIH,iBALD;AAMA,uBAAO,OAAP;AACH;AACD,gBAAI,eAAJ,EAAqB,OAArB;;AAEA,qBAAS,QAAT,CAAkB,IAAlB,EAAwB;;AAEpB,mBAAG,cAAH,CAAkB,IAAlB,EACK,IADL,CACU,UAAS,QAAT,EAAmB;AACrB,wBAAI,CAAC,CAAC,SAAS,MAAT,CAAgB,CAAhB,EAAmB,KAAzB,EAAgC;AAC5B,4BAAI,OAAO,SAAS,MAAT,CAAgB,CAAhB,EAAmB,KAA9B;;AAEA,gCAAQ,GAAR,CAAY,IAAZ;AACA,8BAAM,kCAAN;AACA,+BAAO,UAAP,CAAkB,KAAlB;AACA;AACH,qBAPD,MAOO;AACH,4BAAI,OAAO,SAAS,MAAT,CAAgB,CAAhB,EAAmB,QAA9B;AACA,6BAAK,IAAL,CAAU,KAAK,CAAL,CAAV;AACA,gCAAQ,GAAR,CAAY,IAAZ;AACH;AACD,wBAAI,UAAU,IAAI,OAAO,IAAP,CAAY,IAAZ,CAAiB,OAArB,CAA6B,CAAC,IAAD,CAA7B,CAAd;;AAEA,2BAAO,GAAP,CAAW,IAAX,CAAgB,GAAhB,CAAoB;AAChB,kCAAU;AADM,qBAApB;AAGA,wBAAI,OAAO,EAAX;wBACI,OAAO,EADX;AAEA,wBAAI,aAAa,IAAjB;AACA,wBAAI,WAAW,uBAAuB,UAAvB,CAAf;AACA,sCAAkB,OAAO,IAAP,CAAY,QAAZ,CAAqB,QAArB,CAA8B,UAA9B,CAAyC,QAAzC,CAAlB;AACA,8BAAU,SAAS,MAAT,CAAgB,CAAhB,EAAmB,OAA7B;AACA,4BAAQ,GAAR,CAAY,eAAZ;AACA,4BAAQ,GAAR,CAAY,SAAS,MAAT,CAAgB,CAAhB,EAAmB,OAA/B;AACH,iBA3BL;AA6BH;;AAED,gBAAI,mBAAJ,EAAyB,IAAzB,EAA+B,SAA/B;AACA,mBAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,cAA9B,EAA8C,iBAA9C,EAAiE,UAAS,KAAT,EAAgB;AAC7E,oBAAI,OAAO,MAAM,QAAN,GAAiB,KAAjB,CAAuB,CAAvB,EAA0B,QAA1B,EAAX;AACA,oBAAI,OAAO,OAAO,IAAP,CAAY,QAAZ,CAAqB,SAArB,CAA+B,WAA/B,CAA2C,IAA3C,IAAmD,WAA9D;AACA,oBAAI,SAAS,IAAI,OAAO,IAAP,CAAY,YAAhB,EAAb;AACA,sCAAsB,OAAO,IAAP,CAAY,QAAZ,CAAqB,QAArB,CAA8B,UAA9B,CAAyC,IAAzC,CAAtB;AACA,oBAAI,YAAY,KAAK,GAAL,CAAS,UAAC,EAAD;AAAA,2BAAS;AAC9B,6BAAK,GAAG,GAAH,EADyB;AAE9B,6BAAK,GAAG,GAAH;AAFyB,qBAAT;AAAA,iBAAT,CAAhB;AAIA,oBAAI,OAAO,EAAX;oBACI,OAAO,EADX;AAEA,oBAAI,CAAJ;AACA,qBAAK,IAAI,CAAT,EAAY,IAAI,KAAK,MAArB,EAA6B,GAA7B,EAAkC;AAC9B,2BAAO,MAAP,CAAc,KAAK,CAAL,CAAd;AACH;AACD,oBAAI,SAAS,OAAO,SAAP,EAAb;AACA,uBAAO,UAAP,GAAoB,IAAI,OAAO,IAAP,CAAY,UAAhB,EAApB;;AAGA,oBAAI,aAAa,EAAjB;AACA,wBAAQ,OAAR,CAAgB,GAAG,UAAnB,EAA+B,UAAS,SAAT,EAAoB,IAApB,EAA0B;AACrD,kCAAc,mBAAmB,UAAU,IAA7B,GAAoC,OAApC,GAA8C,UAAU,GAAxD,GAA8D,GAA9D,GAAoE,UAAU,QAA9E,GAAyF,WAAvG;AACH,iBAFD;AAGA,wBAAQ,GAAR,CAAY,GAAG,UAAf;;AAEA,oBAAI,gBAAgB,wDAAwD,gDAAxD,GAA2G,UAA3G,GAAwH,gCAAxH,GAA2J,8CAA3J,GAA4M,UAA5M,GAAyN,qBAAzN,GAAiP,mFAAjP,GAAuU,kBAAvU,GAA4V,kDAA5V,GAAiZ,MAAjZ,GAA0Z,KAAK,OAAL,CAAa,CAAb,CAA1Z,GAA4a,QAA5a,GAAub,OAAvb,GAAic,uBAAjc,GAA2d,qDAA3d,GAAmhB,0BAAnhB,GAAgjB,yBAAhjB,GAA4kB,qEAA5kB,GAAopB,0CAAppB,GAAisB,QAAjsB,GAA4sB,2BAA5sB,GAA0uB,8CAA1uB,GAA2xB,4CAA3xB,GAA00B,QAA10B,GAAq1B,QAAr1B,GAAg2B,QAAh2B,GAA22B,QAA/3B;;AAEA,uBAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,OAAO,UAArC,EAAiD,UAAjD,EAA6D,YAAW;AACpE,wBAAI,QAAJ,EAAc,MAAd,EAAsB,OAAtB,EAA+B,MAA/B,EAAuC,GAAvC,EACI,MADJ,EACY,MADZ,EACoB,MADpB,EAC4B,MAD5B,EACoC,IADpC;AAEA,gCAAY,EAAZ;AACA,+BAAW,EAAE,QAAF,EAAY,GAAZ,EAAX;AACA,6BAAS,EAAE,MAAF,EAAU,GAAV,EAAT;AACA,8BAAU,EAAE,OAAF,EAAW,GAAX,EAAV;AACA,6BAAS,EAAE,MAAF,EAAU,GAAV,EAAT;AACA,0BAAM,EAAE,aAAF,EAAiB,GAAjB,EAAN;;AAEA,2BAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,SAAS,CAAT,CAAjC,EAA8C,OAA9C,EAAuD,YAAW;AAC9D,+BAAO,UAAP,CAAkB,KAAlB;AACH,qBAFD;AAGA,2BAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,OAAO,CAAP,CAAjC,EAA4C,OAA5C,EAAqD,YAAW;AAC5D,+BAAO,UAAP,CAAkB,KAAlB;AACA,8BAAM,MAAN,CAAa,IAAb;AACH,qBAHD;AAIA,2BAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,IAAI,CAAJ,CAAjC,EAAyC,OAAzC,EAAkD,YAAW;AACzD,+BAAO,UAAP,CAAkB,KAAlB;AACA,8BAAM,MAAN,CAAa,IAAb;AACH,qBAHD;AAIA,2BAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,OAAO,CAAP,CAAjC,EAA4C,OAA5C,EAAqD,YAAW;AAC5D,4BAAI,MAAM,GAAG,MAAH,CAAU,mBAAV,CAAV;AACA,4BAAI,KAAK,IAAI,MAAJ,CAAW,IAAX,CAAT;;AAEA,2BAAG,MAAH,CAAU,IAAV,EACK,MADL,CACY,OADZ,EAEK,IAFL,CAEU,MAFV,EAEkB,MAFlB;;AAIA,2BAAG,MAAH,CAAU,IAAV,EACK,MADL,CACY,OADZ,EAEK,IAFL,CAEU,MAFV,EAEkB,MAFlB;AAGH,qBAXD;;AAaA,2BAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,QAAQ,CAAR,CAAjC,EAA6C,OAA7C,EAAsD,YAAW;AAC7D,4BAAI,WAAW,EAAE,WAAF,EAAe,IAAf,CAAoB,IAApB,CAAf;AACA,4BAAI,sBAAsB,EAAE,mBAAF,EAAuB,GAAvB,EAA1B;;AAEA,4BAAI,uBAAuB,EAAE,mCAAF,EAAuC,IAAvC,CAA4C,KAA5C,CAA3B;;AAEA,gCAAQ,OAAR,CAAgB,QAAhB,EAA0B,UAAS,GAAT,EAAc,KAAd,EAAqB;AAC3C,gCAAI,GAAJ,EAAS,KAAT;AACA,gCAAI,SAAS,EAAE,GAAF,EAAO,IAAP,CAAY,IAAZ,CAAb;AACA,gCAAI,SAAS,EAAE,MAAF,EAAU,IAAV,CAAe,OAAf,CAAb;AACA,gCAAI,OAAO,MAAX,EAAmB;AACf,sCAAM,EAAE,IAAF,CAAO,EAAE,OAAO,CAAP,CAAF,EAAa,GAAb,EAAP,CAAN;AACA,wCAAQ,EAAE,IAAF,CAAO,EAAE,OAAO,CAAP,CAAF,EAAa,GAAb,EAAP,CAAR;AACH,6BAHD,MAGO;AACH;AACH;AACD,gCAAI,GAAJ,EAAS;AACL,0CAAU,GAAV,IAAiB,KAAjB;AACH;AACJ,yBAbD;AAcA,6BAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,MAA9B,EAAsC,GAAtC,EAA2C;AACvC,iCAAK,IAAL,CAAU,UAAU,CAAV,EAAa,GAAvB;AACA,iCAAK,IAAL,CAAU,UAAU,CAAV,EAAa,GAAvB;AACH;AACD,iCAAS,KAAK,GAAL,CAAS,KAAT,CAAe,IAAf,EAAqB,IAArB,CAAT;AACA,iCAAS,KAAK,GAAL,CAAS,KAAT,CAAe,IAAf,EAAqB,IAArB,CAAT;AACA,iCAAS,KAAK,GAAL,CAAS,KAAT,CAAe,IAAf,EAAqB,IAArB,CAAT;AACA,iCAAS,KAAK,GAAL,CAAS,KAAT,CAAe,IAAf,EAAqB,IAArB,CAAT;AACA,+BAAO,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,CAAP;AACA,4BAAI,QAAQ,EAAE,eAAF,EAAmB,IAAnB,CAAwB,IAAxB,CAAZ;AACA,4BAAI,UAAU,EAAE,KAAF,EAAS,IAAT,CAAc,OAAd,CAAd;AACA,4BAAI,eAAe,EAAE,IAAF,CAAO,EAAE,OAAF,EAAW,GAAX,EAAP,CAAnB;AACA,4BAAI,WAAW;AACX,sCAAU,oBADC;AAEX,qCAAS,mBAFE;AAGX,uCAAW,OAHA;AAIX,oCAAQ,YAJG;AAKX,oCAAQ,IALG;AAMX,0CAAc,SANH;AAOX,wCAAY,mBAPD;AAQX,yCAAa;AARF,yBAAf;AAUA,gCAAQ,GAAR,CAAY,QAAZ;AACA,0CAAkB,8BAAlB,CAAiD,QAAjD;;AAEA,+BAAO,UAAP,CAAkB,KAAlB;AACH,qBA9CD;AA+CH,iBAjFD;;;AAoFA,uBAAO,UAAP,CAAkB,UAAlB,CAA6B,aAA7B;AACA,uBAAO,UAAP,CAAkB,WAAlB,CAA8B,MAA9B;AACA,uBAAO,UAAP,CAAkB,IAAlB,CAAuB,OAAO,GAA9B;AACA,+BAAe,cAAf,CAA8B,IAA9B;;AAEA,oBAAI,OAAO,GAAX,EAAgB;AACZ,6BAAS;AACL,gCAAQ,QADH;AAEL,gCAAQ,CAAC;AACL,uCAAW,IAAI,IAAJ,GAAW,QAAX,EADN;AAEL,oCAAQ,QAFH;AAGL,sCAAU,KAAK,GAAL,CAAS,UAAC,EAAD;AAAA,uCAAS;AACxB,yCAAK,GAAG,GAAH,EADmB;AAExB,yCAAK,GAAG,GAAH;AAFmB,iCAAT;AAAA,6BAAT;AAHL,yBAAD;;AAFH,qBAAT;AAYH,iBAbD,MAaO;AACH,0BAAM,MAAN,CAAa,IAAb;AACA,2BAAO,UAAP,CAAkB,KAAlB;AACA,0BAAM,oCAAN;AACH;AACJ,aAtID;;AAwIA,gBAAI,QAAQ,SAAS,cAAT,CAAwB,oBAAxB,CAAZ;AACA,gBAAI,YAAY,IAAI,OAAO,IAAP,CAAY,MAAZ,CAAmB,SAAvB,CAAiC,KAAjC,CAAhB;AACA,mBAAO,GAAP,CAAW,QAAX,CAAoB,OAAO,IAAP,CAAY,eAAZ,CAA4B,QAAhD,EAA0D,IAA1D,CAA+D,KAA/D;;;AAGA,mBAAO,GAAP,CAAW,WAAX,CAAuB,gBAAvB,EAAyC,YAAW;AAChD,0BAAU,SAAV,CAAoB,OAAO,GAAP,CAAW,SAAX,EAApB;AACH,aAFD;;;;AAMA,sBAAU,WAAV,CAAsB,gBAAtB,EAAwC,YAAW;AAC/C,oBAAI,SAAS,UAAU,SAAV,EAAb;;AAEA,oBAAI,OAAO,MAAP,KAAkB,CAAtB,EAAyB;AACrB;AACH;;;AAGD,oBAAI,SAAS,IAAI,OAAO,IAAP,CAAY,YAAhB,EAAb;AACA,uBAAO,OAAP,CAAe,UAAS,KAAT,EAAgB;AAC3B,wBAAI,MAAM,QAAN,CAAe,QAAnB,EAA6B;;AAEzB,+BAAO,KAAP,CAAa,MAAM,QAAN,CAAe,QAA5B;AACH,qBAHD,MAGO;AACH,+BAAO,MAAP,CAAc,MAAM,QAAN,CAAe,QAA7B;AACH;AACJ,iBAPD;AAQA,kBAAE,KAAF,EAAS,GAAT,CAAa,EAAb;AACA,kBAAE,KAAF,EAAS,IAAT;AACA,uBAAO,GAAP,CAAW,SAAX,CAAqB,MAArB;AACH,aApBD;;AAsBA,mBAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,MAAjC,EAAyC,QAAzC,EAAmD,YAAnD;;;;;;;AAQA,gBAAI,IAAJ,CAAS,QAAT,CAAkB;AACd,yBAAS,IADK;AAEd,wBAAQ,EAFM;AAGd,2BAAW,SAHG;AAId,6BAAa,GAJC;AAKd,6BAAa;AALC,aAAlB;AAOA;AACA,gBAAI,eAAe,IAAnB;AACA,gBAAI,iBAAiB,SAAjB,cAAiB,GAAW;AAC5B,oBAAI,WAAW,SAAS,gBAAT,CAA0B,mCAA1B,CAAf;AACA,oBAAI,SAAS,SAAS,MAAtB;;AAEA,oBAAI,MAAJ,EAAY;AACR,wBAAI,gBAAgB,IAApB,EAA0B;AACtB,kCAAU,MAAV,CAAiB,YAAjB;AACH;;AAED,yBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,MAApB,EAA4B,GAA5B,EAAiC;AAC7B,iCAAS,CAAT,EAAY,UAAZ,CAAuB,YAAvB,CAAoC,OAApC,EAA6C,uBAAuB,CAApE;AACA,gCAAQ,OAAR,CAAgB,KAAhB,EAAuB,OAAvB,GAAiC,EAAjC,CAAoC,GAApC,EAAyC,MAAzC,GAAkD,QAAlD,CAA2D,aAA3D;AACA,gCAAQ,OAAR,CAAgB,YAAhB,EAA8B,QAA9B,CAAuC,QAAvC;AAEH;;AAED,4BAAQ,OAAR,CAAgB,cAAhB,EAAgC,GAAhC,CAAoC,YAApC,EAAkD,SAAlD;AACA,uBAAG,IAAH,GAAU,KAAV;AACH;AACJ,aAnBD;;AAqBA,mBAAO,IAAP,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,GAA9B,EAAmC,aAAnC,EAAkD,YAAW;AACzD,+BAAe,UAAU,cAAV,EAA0B,GAA1B,CAAf;AACH,aAFD;AAIH;;AAED,iBAAS,YAAT,CAAsB,IAAtB,EAA4B;AACxB,oBAAQ,GAAR,CAAY,GAAG,UAAf,EAA2B,IAA3B;;AAEA,gBAAI,YAAY,GAAG,UAAH,CAAc,IAAd,CAAhB;AACA,mBAAO,SAAP,GAAmB,SAAnB;AACA,mBAAO,eAAP,GAAyB,SAAzB;AACA,gBAAI,CAAC,CAAC,UAAU,IAAhB,EACI,GAAG,OAAH,CAAW,UAAU,IAArB;;;;;;;;;;;;;;;;;;;;AAoBP;;AAED,iBAAS,UAAT,CAAoB,OAApB,EAA6B;AACzB,eAAG,OAAH,CAAW,QAAQ,IAAnB;AACH;;AAED,iBAAS,OAAT,CAAiB,IAAjB,EAAuB;AACnB,oBAAQ,GAAR,CAAY,IAAZ;AACA,gBAAI,SACA;AAAA;;AAAA,oBAAE,IAAF;AAAA,oBAAQ,KAAR;AAAA,oBAAe,IAAf;AAAA,oBAAqB,KAArB;AAAA,uBAAiC;AAC7B,8BAD6B;AAE7B,gCAF6B;AAG7B,8BAH6B;AAI7B;AAJ6B,iBAAjC;AAAA,aADS,CAOX,IAPW,CAAb;;AASA,mBAAO,GAAP,CAAW,SAAX,CAAqB,MAArB;AACH;;AAED,iBAAS,QAAT,GAAoB;AAChB,mBAAO,UAAP,GAAoB,IAAI,OAAO,IAAP,CAAY,UAAhB,EAApB;;AAEA,mBAAO,GAAP,CAAW,IAAX,CAAgB,QAAhB,CAAyB;AACrB,yBAAS,KADY;AAErB,wBAAQ,EAFa;AAGrB,2BAAW,SAHU;AAIrB,6BAAa,CAJQ;AAKrB,6BAAa;AALQ,aAAzB;;AAQA,mBAAO,UAAP,CAAkB,SAAlB,CAA4B,CAA5B;;AAEA,mBAAO,GAAP,CAAW,IAAX,CAAgB,WAAhB,CAA4B,OAA5B,EAAqC,iBAAS;AAC1C,oBAAI,QAAQ,EAAZ;;AAEA,sBAAM,OAAN,CAAc,eAAd,CAA8B,UAAC,GAAD,EAAM,GAAN,EAAc;AACxC,wBAAI,OAAO,EAAX;AACA,yBAAK,GAAL,GAAW,GAAX;AACA,yBAAK,GAAL,GAAW,MAAM,GAAN,GAAY,GAAvB;AACA,0BAAM,IAAN,CAAW,IAAX;AACH,iBALD;;AAOA,oBAAI,gBAAgB,8FAApB;;AAEA,uBAAO,UAAP,CAAkB,UAAlB,CAA6B,aAA7B;AACA,uBAAO,UAAP,CAAkB,WAAlB,CAA8B,MAAM,MAAN,CAAa,MAAb,EAA9B;AACA,uBAAO,SAAP,GAAmB;AACf,0BAAM;AADS,iBAAnB;AAGA,uBAAO,UAAP,CAAkB,IAAlB,CAAuB,OAAO,GAA9B;AACH,aAlBD;;AAoBA,mBAAO,UAAP,CAAkB,WAAlB,CAA8B,UAA9B,EAA0C,YAAW;AACjD,oBAAI,MAAM,gGAAV;AACA,kBAAE,oBAAF,EAAwB,KAAxB;AACA,kBAAE,oBAAF,EAAwB,MAAxB,CAA+B,SAAS,GAAT,EAAc,MAAd,CAA/B;AACA,uBAAO,MAAP;AACA,yBAAS,YAAW;AAChB,2BAAO,UAAP,CAAkB,SAAlB,CAA4B,CAA5B;AACH,iBAFD,EAEG,EAFH,EAEO,KAFP;AAGH,aARD;;AAUA,mBAAO,UAAP,CAAkB,WAAlB,CAA8B,YAA9B,EAA4C,YAAW;AACnD,uBAAO,IAAP,CAAY,KAAZ,CAAkB,cAAlB,CAAiC,UAAjC,EAA6C,OAAO,UAApD;AACH,aAFD;AAIH;;AAED,iBAAS,SAAT,CAAmB,aAAnB,EAAkC,YAAlC,EAAgD;AAC5C,oBAAQ,GAAR,CAAY,aAAZ,EAA2B,YAA3B;AACA,wBAAY,SAAZ,CAAsB,aAAtB,EAAqC,YAArC,EAAmD,OAAO,GAA1D;AACH;;AAED,iBAAS,cAAT,CAAwB,CAAxB,EAA2B;AACvB,mBAAO,UAAS,KAAT,EAAgB;AACnB,oBAAI,OAAO,OAAO,IAAP,CAAY,QAAZ,CAAqB,SAArB,CAA+B,WAA/B,CAA2C,EAAE,OAAF,EAA3C,IAA0D,WAArE;;AAEA,oBAAI,gBAAgB,SAAS,EAAE,SAAX,GAAuB,WAAvB,GAAqC,0GAArC,GAAkJ,wDAAlJ,GAA6M,iCAA7M,GAAiP,GAAjP,GAAuP,MAAM,MAAN,CAAa,GAAb,GAAmB,OAAnB,CAA2B,CAA3B,CAAvP,GAAuR,GAAvR,GAA6R,MAAM,MAAN,CAAa,GAAb,GAAmB,OAAnB,CAA2B,CAA3B,CAA7R,GAA6T,GAA7T,GAAmU,OAAnU,GAA6U,4CAA7U,GAA4X,iCAA5X,GAAga,KAAK,OAAL,CAAa,CAAb,CAAha,GAAkb,QAAlb,GAA6b,YAA7b,GAA4c,wEAAhe;;AAEA,uBAAO,UAAP,CAAkB,UAAlB,CAA6B,aAA7B;AACA,uBAAO,UAAP,CAAkB,WAAlB,CAA8B,MAAM,MAApC;AACA,uBAAO,UAAP,CAAkB,IAAlB,CAAuB,OAAO,GAA9B;AACH,aARD;AASH;;AAID,iBAAS,YAAT,CAAsB,YAAtB,EAAoC;AAChC,oBAAQ,GAAR,CAAY,YAAZ;AACA,mBAAO,eAAP,CAAuB,KAAvB,CAA6B,OAAO,YAAP,CAA7B;AACA,mBAAO,WAAP,CAAmB,IAAnB,CAAwB,OAAO,eAA/B;AACA,mBAAO,eAAP,GAAyB,IAAzB;AACA,mBAAO,QAAP,GAAkB,CAAlB;AACA,mBAAO,OAAP,CAAe,OAAf,CAAuB,UAAS,CAAT,EAAY;AAC/B,kBAAE,MAAF,CAAS,IAAT;AACH,aAFD;AAGA,mBAAO,OAAP,GAAiB,EAAjB;AACA,mBAAO,KAAP;AACH;;AAED,iBAAS,cAAT,CAAwB,IAAxB,EAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;AA0B1B,mBAAO,YAAY,cAAZ,CAA2B,IAA3B,CAAP;;AAEH;AACJ;AAEJ,CAnkBD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,eADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ,EAGK,GAHL,CAGS,CAAC,YAAD,EAAe,UAAC,UAAD,EAAa,MAAb,EAAwB;AACxC,mBAAW,GAAX,CAAe,qBAAf,EAAsC,UAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,SAA3B,EAAsC,UAAtC,EAAqD;AACvF,uBAAW,KAAX,GAAmB,OAAnB;AACH,SAFD;AAGH,KAJI,CAHT;;AASA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,MADX,EACmB;AACX,iBAAK,EADM;AAEX,mBAAO;AACH,qBAAK;AACD,iCAAa;AADZ,iBADF;AAIH,+BAAe;AACX,iCAAa,4BADF;AAEX,gCAAY,kBAFD;AAGX,kCAAc;AAHH,iBAJZ;AASH,4BAAY;AACR,iCAAa,8BADL;AAER,gCAAY,eAFJ;AAGR,kCAAc,IAHN;AAIR,6BAAS;AACL,+BAAO,CAAC,aAAD,EAAgB,mBAAhB,EACH,UAAS,WAAT,EAAsB,iBAAtB,EAAyC;AACrC,mCAAO,YAAY,MAAZ,GACF,IADE,CACG,eAAO;AACT,kDAAkB,MAAlB,CAAyB,IAAI,KAA7B;AACA,uCAAO,GAAP;AACH,6BAJE,CAAP;AAKH,yBAPE;AADF;AAJD,iBATT;AAyBH,6BAAa;AACT,8BAAU,gDACN,gEADM,GAEN,wFAFM,GAGN,gBAHM,GAIN,oCAJM,GAKN,4FALM,GAMN,cANM,GAON,mBAPM,GAQN,4CARM,GASN,oBATM,GAUN,QAVM,GAWN,QAXM,GAYN,2DAZM,GAaN,cAbM,GAcN,QAdM,GAeN,iBAfM,GAgBN,WAhBM,GAiBN,kBAlBK;AAmBT,gCAAY,CAAC,QAAD,EAAW,QAAX,EAAqB,aAArB,EAAoC,mBAApC,EAAyD,YAAzD,EACR,UAAS,MAAT,EAAiB,MAAjB,EAAyB,WAAzB,EAAsC,iBAAtC,EAAyD,UAAzD,EAAqE;AACjE,mCAAW,MAAX,GAAoB,KAApB;;AAEA,mCAAW,GAAX,CAAe,UAAf,EAA2B,YAAW;AAClC,uCAAW,MAAX,GAAoB,KAApB;AACH,yBAFD;;AAIA,+BAAO,aAAP,GAAuB,UAAS,GAAT,EAAc;AACjC,gCAAI,OAAO,WAAX,EAAwB;AACpB,2CAAW,MAAX,GAAoB,IAApB;AACA,uCAAO,gBAAP,CAAwB,MAAxB;AACH,6BAHD,MAGO;AACH,uCAAO,EAAP,CAAU,IAAI,WAAJ,EAAV;AACH;AACJ,yBAPD;;AASA,4BAAI,OAAO,IAAX;AACA,6BAAK,IAAL,GAAY,CAAC;AACT,kCAAM,MADG;AAET,kCAAM,UAFG;AAGT,yCAAa,kIACT,OADS,GAET,0LAFS,GAGT;AANK,yBAAD,EAOT;AACC,kCAAM,SADP;AAEC,kCAAM,cAFP;AAGC,uCAAW,UAHZ;AAIC,yCAAa,oHACT,yEADS,GAET;;AANL,yBAPS,EAeT;AACC,kCAAM,SADP;AAEC,kCAAM,cAFP;AAGC,uCAAW,UAHZ;AAIC,yCAAa,+HACT,gDADS,GAET,0CAFS,GAGT;AAPL,yBAfS,EAuBT;AACC,kCAAM,QADP;AAEC,kCAAM,aAFP;AAGC,uCAAW,SAHZ;AAIC,yCAAa,wHACT;AALL,yBAvBS,EA6BT;AACC,kCAAM,SADP;AAEC,kCAAM,aAFP;AAGC,uCAAW,SAHZ;AAIC,yCAAa,oCACT,oCADS,GAET;AANL,yBA7BS,EAoCT;AACC,kCAAM,MADP;AAEC,kCAAM,WAFP;AAGC,uCAAW,OAHZ;AAIC,yCAAa,oCACT,oCADS,GAET;AANL,yBApCS,CAAZ;;AA8CA,4BAAI,WAAW,KAAK,IAAL,CAAU,OAAV,CACX,KAAK,IAAL,CAAU,MAAV,CAAiB;AAAA,mCAAK,OAAO,QAAP,CAAgB,EAAE,IAAlB,CAAL;AAAA,yBAAjB,EAA+C,CAA/C,CADW,CAAf;;AAIA,gCAAQ,MAAR,CAAe,MAAf,EAAuB;AACnB,yCAAa,aAAa,CAAC,CAAd,GAAkB,CAAlB,GAAsB,QADhB;AAEnB,kCAAM,KAAK;AAFQ,yBAAvB;;AAKA,0CAAkB,aAAlB,GACK,IADL,CACU;AAAA,mCAAO,IAAI,MAAJ,CAAW,UAAC,CAAD,EAAI,CAAJ,EAAU;AAC9B,uCAAO,EAAE,EAAE,IAAJ,IAAY,CAAZ,EAAe,CAAtB;AACH,6BAFY,EAEV,EAFU,CAAP;AAAA,yBADV,EAIK,IAJL,CAIU,kBAAU;AACZ,mCAAO,GAAP,GAAa,MAAb;AACH,yBANL;AAOH,qBAhFO;AAnBH,iBAzBV;AA+HH,6BAAa;AACT,iCAAa,0BADJ;AAET,gCAAY,gBAFH;AAGT,kCAAc,IAHL;AAIT,6BAAS;AACL,yCAAiB,CAAC,mBAAD,EACb,UAAS,iBAAT,EAA4B;AACxB,mCAAO,kBAAkB,aAAlB,GACF,IADE,CACG,eAAO;AACT,uCAAO,IAAI,MAAJ,CAAW,UAAC,CAAD,EAAI,CAAJ,EAAU;AACxB,sCAAE,EAAE,IAAJ,IAAY,CAAZ;AACA,2CAAO,CAAP;AACH,iCAHM,EAGJ,EAHI,CAAP;AAIH,6BANE,CAAP;AAOH,yBATY;AADZ;AAJA;AA/HV,aAFI;AAoJX,wBAAY,UApJD;AAqJX,kBAAM;AACF,gCAAgB,cADd;AAEF,4BAAY;AAFV;AArJK,SADnB,EA4JC,KA5JD,CA4JO,UA5JP,EA4JmB;AACf,kBAAM,KADS;AAEf,iBAAK,MAFU;AAGf,kBAAM;AACF,4BAAY;AADV;AAHS,SA5JnB,EAoKC,KApKD,CAoKO,iBApKP,EAoK0B;AACtB,kBAAM,iBADgB;AAEtB,iBAAK,WAFiB;AAGtB,mBAAO;AACH,0BAAU;AACN,8BAAU,EADJ;AAEN,gCAAY,CAAC,QAAD,EAAW,cAAX,EAA2B,mBAA3B,EACR,UAAS,MAAT,EAAiB,YAAjB,EAA+B,GAA/B,EAAoC;AAChC,+BAAO,kBAAP,CAA0B,aAAa,MAAvC;AACH,qBAHO;AAFN;AADP;AAHe,SApK1B;AAkLH;AAEJ,CAhMD;;;ACAA,CAAC,YAAW;;AAER,YAAQ,MAAR,CAAe,eAAf,EAAgC,CAAC,WAAD,EAAc,YAAd,EAA4B,UAA5B,EAAwC,cAAxC,CAAhC;AAEH,CAJD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,eADZ,EAEK,UAFL,CAEgB,kBAFhB,EAEoC,gBAFpC;;AAIA,qBAAiB,OAAjB,GAA2B,CAAC,QAAD,EAAW,QAAX,EAAqB,YAArB,CAA3B;;AAEA,aAAS,gBAAT,CAA0B,MAA1B,EAAkC,MAAlC,EAA0C,UAA1C,EAAsD;AAClD,eAAO,UAAP,GAAoB,IAApB;;;;;;;AAOA,eAAO,sBAAP,GAAgC,CAAC;AAC7B,kBAAM,OADuB;AAE7B,gBAAI;AAFyB,SAAD,EAG7B;AACC,kBAAM,OADP;AAEC,gBAAI;AAFL,SAH6B,EAM7B;AACC,kBAAM,SADP;AAEC,gBAAI;AAFL,SAN6B,CAAhC;;AAWA,eAAO,MAAP,GAAgB,CAAC;AACb,oBAAQ,SADK;AAEb,qBAAS,UAFI;AAGb,oBAAQ,SAHK;AAIb,8BAAkB;AAJL,SAAD,EAKb;AACC,oBAAQ,SADT;AAEC,qBAAS,UAFV;AAGC,oBAAQ,SAHT;AAIC,8BAAkB;AAJnB,SALa,EAUb;AACC,oBAAQ,SADT;AAEC,qBAAS,UAFV;AAGC,oBAAQ,SAHT;AAIC,8BAAkB;AAJnB,SAVa,EAeb;AACC,oBAAQ,SADT;AAEC,qBAAS,UAFV;AAGC,oBAAQ,SAHT;AAIC,8BAAkB;AAJnB,SAfa,EAoBb;AACC,oBAAQ,SADT;AAEC,qBAAS,UAFV;AAGC,oBAAQ,SAHT;AAIC,8BAAkB;AAJnB,SApBa,CAAhB;;AA2BA,eAAO,YAAP,GAAsB;AAClB,mBAAO,CADW;AAElB,qBAAS;AACL,sBAAM,EADD;AAEL,uBAAO,CAFF;AAGL,2BAAW,IAHN;AAIL,2BAAW,mBAAS,KAAT,EAAgB;AACvB,wBAAI,SAAS,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,MAApC,EAA4C,MAA5C,EAAoD,KAApD,EAA2D,KAA3D,EAAkE,KAAlE,EAAyE,KAAzE,EAAgF,KAAhF,CAAb;AACA,2BAAO,OAAO,KAAP,CAAP;AACH;AAPI;AAFS,SAAtB;AAYA,eAAO,SAAP,GAAmB,UAAS,QAAT,EAAmB;;AAErC,SAFD;;;AAKA,eAAO,KAAP,GAAe,YAAW;AACtB,mBAAO,EAAP,GAAY,IAAI,IAAJ,EAAZ;AACH,SAFD;AAGA,eAAO,KAAP;;AAEA,eAAO,KAAP,GAAe,YAAW;AACtB,mBAAO,EAAP,GAAY,IAAZ;AACH,SAFD;;AAIA,eAAO,aAAP,GAAuB;AACnB,yBAAa,WADM;AAEnB,qBAAS,IAAI,IAAJ,EAFU;AAGnB,uBAAW;AAHQ,SAAvB;;AAMA,eAAO,WAAP,GAAqB;;AAEjB,wBAAY,IAFK;AAGjB,qBAAS,IAAI,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,CAHQ;AAIjB,qBAAS,IAAI,IAAJ,EAJQ;AAKjB,yBAAa;AALI,SAArB;;AAQA,eAAO,SAAP,GAAmB,YAAW;AAC1B,mBAAO,aAAP,CAAqB,OAArB,GAA+B,OAAO,aAAP,CAAqB,OAArB,GAA+B,IAA/B,GAAsC,IAAI,IAAJ,EAArE;AACA,mBAAO,WAAP,CAAmB,OAAnB,GAA6B,OAAO,aAAP,CAAqB,OAAlD;AACH,SAHD;;AAKA,eAAO,SAAP;;AAEA,eAAO,KAAP,GAAe,YAAW;AACtB,mBAAO,MAAP,CAAc,MAAd,GAAuB,IAAvB;AACH,SAFD;;AAIA,eAAO,KAAP,GAAe,YAAW;AACtB,mBAAO,MAAP,CAAc,MAAd,GAAuB,IAAvB;AACH,SAFD;;AAIA,eAAO,OAAP,GAAiB,UAAS,IAAT,EAAe,KAAf,EAAsB,GAAtB,EAA2B;AACxC,mBAAO,EAAP,GAAY,IAAI,IAAJ,CAAS,IAAT,EAAe,KAAf,EAAsB,GAAtB,CAAZ;AACH,SAFD;;AAIA,eAAO,OAAP,GAAiB,CAAC,cAAD,EAAiB,YAAjB,EAA+B,YAA/B,EAA6C,WAA7C,CAAjB;AACA,eAAO,MAAP,GAAgB,OAAO,OAAP,CAAe,CAAf,CAAhB;AACA,eAAO,eAAP,GAAyB,CAAC,YAAD,CAAzB;;AAEA,eAAO,MAAP,GAAgB;AACZ,oBAAQ;AADI,SAAhB;;AAIA,eAAO,MAAP,GAAgB;AACZ,oBAAQ;AADI,SAAhB;;AAIA,YAAI,WAAW,IAAI,IAAJ,EAAf;AACA,iBAAS,OAAT,CAAiB,SAAS,OAAT,KAAqB,CAAtC;AACA,YAAI,gBAAgB,IAAI,IAAJ,EAApB;AACA,sBAAc,OAAd,CAAsB,SAAS,OAAT,KAAqB,CAA3C;AACA,eAAO,MAAP,GAAgB,CAAC;AACb,kBAAM,QADO;AAEb,oBAAQ;AAFK,SAAD,EAGb;AACC,kBAAM,aADP;AAEC,oBAAQ;AAFT,SAHa,CAAhB;;AAQA,iBAAS,WAAT,CAAqB,IAArB,EAA2B;AACvB,gBAAI,OAAO,KAAK,IAAhB;gBACI,OAAO,KAAK,IADhB;AAEA,gBAAI,SAAS,KAAb,EAAoB;AAChB,oBAAI,aAAa,IAAI,IAAJ,CAAS,IAAT,EAAe,QAAf,CAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,CAAjB;;AAEA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,OAAO,MAAP,CAAc,MAAlC,EAA0C,GAA1C,EAA+C;AAC3C,wBAAI,aAAa,IAAI,IAAJ,CAAS,OAAO,MAAP,CAAc,CAAd,EAAiB,IAA1B,EAAgC,QAAhC,CAAyC,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkD,CAAlD,CAAjB;;AAEA,wBAAI,eAAe,UAAnB,EAA+B;AAC3B,+BAAO,OAAO,MAAP,CAAc,CAAd,EAAiB,MAAxB;AACH;AACJ;AACJ;;AAED,mBAAO,EAAP;AACH;AAGJ;AAIJ,CA/JD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,eADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ;;AAIA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,aADX,EAC0B;AAClB,kBAAM,aADY;AAElB,iBAAK,SAFa;AAGlB,mBAAO;AACH,2BAAW;AACP,iCAAa,mCADN;AAEP,gCAAY;AAFL;AADR,aAHW;AASlB,kBAAM;AACF,4BAAY,IADV;AAEF,8BAAc;AAFZ;AATY,SAD1B;AAeH;AAEJ,CAxBD;;;ACAA,CAAC,YAAW;AACR,YAAQ,MAAR,CAAe,aAAf,EAA8B,EAA9B;AACH,CAFD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,aADZ,EAEK,UAFL,CAEgB,kBAFhB,EAEoC,gBAFpC;;AAIA,qBAAiB,OAAjB,GAA2B,CAAC,QAAD,EAAW,QAAX,EAAoB,aAApB,EAAkC,aAAlC,EAAiD,YAAjD,CAA3B;AACA,aAAS,gBAAT,CAA0B,MAA1B,EAAkC,MAAlC,EAA0C,WAA1C,EAAuD,WAAvD,EAAoE,UAApE,EAAgF;AAC5E,YAAI,KAAK,IAAT;AACA;AACA,WAAG,QAAH,GAAc,YAAW;AACrB,uBAAW,MAAX,EAAmB,MAAnB;AACH,SAFD;AAGA,gBAAQ,MAAR,CAAe,MAAf,EAAsB;AAClB,gBAAI,EADc;AAElB,sBAAU,QAFQ;AAGlB,qBAAS;AAHS,SAAtB;;AAMA,iBAAS,QAAT,GAAoB;AAChB,wBAAY,OAAZ,GACC,IADD,CACM,gBAAQ;AACV,wBAAQ,MAAR,CAAe,MAAf,EAAuB,EAAC,MAAK,IAAN,EAAvB;AACH,aAHD;AAIH;;AAED,iBAAS,QAAT,CAAkB,GAAlB,EAAuB;AACnB,mBAAO,OAAO,QAAP,CAAgB,IAAI,WAAJ,EAAhB,CAAP;AACH;;AAED,iBAAS,EAAT,CAAY,GAAZ,EAAiB;AACb,mBAAO,EAAP,CAAU,IAAI,WAAJ,EAAV;AACH;;AAED,iBAAS,OAAT,GAAmB;AACf,wBAAY,OAAZ;AACA,wBAAY,OAAZ;AACH;AACJ;AAEJ,CAvCD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,aADZ,EAEK,QAFL,CAEc,QAFd,EAEwB,OAAO,MAF/B,EAGK,UAHL,CAGgB,eAHhB,EAGiC,CACzB,QADyB,EAEzB,mBAFyB,EAGzB,QAHyB,EAIzB,KAJyB,EAKzB,YALyB,EAMzB,WANyB,EAOzB,UAPyB,EAQzB,aARyB,CAHjC;;AAcA,aAAS,aAAT,CAAuB,MAAvB,EAA+B,GAA/B,EAAoC,CAApC,EAAuC,GAAvC,EAA4C,UAA5C,EAAwD,SAAxD,EAAmE,QAAnE,EAA6E;AACzE,YAAI,KAAK,IAAT;;AAEA,WAAG,QAAH,GAAc,QAAd;AACA,WAAG,QAAH;;AAEA,iBAAS,QAAT,GAAoB;AAChB,mBAAO,GAAP,GAAa,GAAb;AACA,gBAAI,aAAJ,CAAkB,IAAI,KAAtB,EAA6B,IAA7B,CAAkC,sBAAc;;AAE5C,uBAAO,GAAP,GAAa,UAAb;AACH,aAHD;AAIH;AACD,YAAI,cAAc,EAAE,kBAAF,CAAlB;YACI,SAAS,EAAE,iBAAF,CADb;YAEI,UAAU,EAAE,cAAF,CAFd;YAGI,UAAU,EAAE,WAAF,CAHd;YAII,iBAAiB,EAAE,iBAAF,CAJrB;YAKI,gBAAgB,EAAE,aAAF,CALpB;YAMI,aAAa,EAAE,YAAF,CANjB;YAOI,cAAc,EAAE,UAAF,CAPlB;YAQI,eAAe,EAAE,iBAAF,EAAqB,MAArB,EARnB;;AAWA,UAAE,mBAAF,EAAuB,EAAvB,CAA0B,OAA1B,EAAmC,UAAS,KAAT,EAAgB;AAC/C,gBAAI,eAAe,EAAE,IAAF,CAAnB;;AAEA,cAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC;AACA,gBAAI,aAAa,MAAb,CAAoB,IAApB,EAA0B,QAA1B,CAAmC,UAAnC,CAAJ,EAAoD;AAChD,6BAAa,MAAb,CAAoB,IAApB,EAA0B,WAA1B,CAAsC,UAAtC;AACH,aAFD,MAEO;AACH,wBAAQ,IAAR,CAAa,yBAAb,EAAwC,WAAxC,CAAoD,UAApD;AACA,4BAAY,WAAZ,CAAwB,UAAxB;AACA,6BAAa,MAAb,CAAoB,IAApB,EAA0B,QAA1B,CAAmC,UAAnC;AACA,6BAAa,IAAb,CAAkB,mBAAlB,EAAuC,QAAvC,CAAgD,iBAAhD;AACH;AACJ,SAZD;AAaA,eAAO,YAAP,GAAsB,UAAS,EAAT,EAAa;;AAE/B,sBAAU,IAAV,CAAe;AACX,4BAAY,CAAC,QAAD,EAAW,WAAX,EAAwB,gBAAxB,CADD;AAEX,6BAAa,uCAFF;AAGX,wBAAQ,QAAQ,OAAR,CAAgB,SAAS,IAAzB,CAHG;AAIX,6BAAa,EAJF;AAKX,qCAAqB;AALV,aAAf;;;;;;;;;;;AAkBH,SApBD;;;AAsBA,iBAAS,gBAAT,CAA0B,MAA1B,EAAkC,SAAlC,EAA6C;;AAEzC,mBAAO,MAAP,GAAgB,YAAW;AACvB,0BAAU,MAAV;AACH,aAFD;AAGH;AACJ;AAEJ,CAlFD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,aADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAwC,4BAAxC,EAAuE,gBAAvE,CAFZ;;AAIA,aAAS,gBAAT,CAA0B,cAA1B,EAA0C,kBAA1C,EAA8D,0BAA9D,EAA0F;;;AAItF,2BAAmB,SAAnB,CAA6B,QAA7B;;;;;;AAQA,uBACC,KADD,CACO,OADP,EACgB;AACZ,kBAAM,OADM;AAEZ,iBAAI,QAFQ;AAGZ,yBAAa,mCAHD;AAIZ,wBAAY,kBAJA;AAKZ,0BAAc;AALF,SADhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDH;AACJ,CApED;;;ACAA,CAAC,YAAU;;AAEX,UAAQ,MAAR,CAAe,eAAf,EAA+B,EAA/B;AAEC,CAJD;;;ACAA,CAAC,YAAW;;AAER,YACK,MADL,CACY,eADZ,EAEK,UAFL,CAEgB,kBAFhB,EAEoC,CAAC,QAAD,EAAW,IAAX,EAAiB,aAAjB,EAAgC,WAAhC,EAA6C,aAA7C,EAA4D,gBAA5D,CAFpC,EAGK,SAHL,CAGe,iBAHf,EAGkC,aAHlC;;AAMA,aAAS,aAAT,GAAyB;;AAErB,eAAO;AACH,sBAAU,GADP;AAEH,qBAAS,SAFN;AAGH,mBAAO;AACH,iCAAiB;AADd,aAHJ;AAMH,kBAAM,cAAS,KAAT,EAAgB,OAAhB,EAAyB,UAAzB,EAAqC,OAArC,EAA8C;AAChD,wBAAQ,WAAR,CAAoB,eAApB,GAAsC,UAAS,UAAT,EAAqB;AACvD,2BAAO,eAAe,MAAM,eAA5B;AACH,iBAFD;;AAIA,sBAAM,MAAN,CAAa,iBAAb,EAAgC,YAAW;AACnC,4BAAQ,SAAR;AACP,iBAFD;AAGH;AAdE,SAAP;AAgBH;;AAED,aAAS,gBAAT,CAA0B,MAA1B,EAAkC,EAAlC,EAAsC,WAAtC,EAAmD,SAAnD,EAA8D,WAA9D,EAA2E;;AAEvE,YAAI,KAAK,IAAT;AACA,WAAG,IAAH,GAAU,IAAV;AACA,eAAO,OAAP,GAAiB,KAAjB;;AAEA,WAAG,MAAH,GAAY,MAAZ;AACA,WAAG,YAAH,GAAkB,YAAlB;;AAEA,WAAG,YAAH,GAAkB,UAAS,OAAT,EAAiB;AAC/B,gBAAI,OAAO,IAAP,CAAY,MAAhB,EAAwB;AACpB,mBAAG,YAAH,CAAgB,OAAhB;AACH;AACJ,SAJD;;AAMA,WAAG,aAAH,GAAmB,aAAnB;AACA,WAAG,WAAH,GAAiB,WAAjB;AACA,WAAG,oBAAH,GAA0B,oBAA1B;;;AAGA,WAAG,UAAH,GAAgB,UAAhB;AACA,WAAG,kBAAH,GAAwB,kBAAxB;AACA,WAAG,OAAH,GAAa,OAAb;;AAEA,WAAG,cAAH,GAAoB,IAApB;AACA,WAAG,kBAAH,GAAwB,IAAxB;;AAEA,YAAI,YAAY,EAAE,gBAAF,CAAhB;YACI,YAAY,UAAU,IAAV,CAAe,WAAf,CADhB;YAEI,aAAa,UAAU,IAAV,CAAe,YAAf,CAFjB;YAGI,aAAa,UAAU,IAAV,CAAe,YAAf,CAHjB;YAII,qBAAqB,UAAU,IAAV,CAAe,oBAAf,CAJzB;YAKI,eAAe,EAAE,cAAF,CALnB;YAMI,WAAW,aAAa,QAAb,CAAsB,IAAtB,EAA4B,EAA5B,CAA+B,CAA/B,EAAkC,QAAlC,CAA2C,GAA3C,CANf;YAOI,YAAY,aAAa,QAAb,CAAsB,IAAtB,EAA4B,EAA5B,CAA+B,CAA/B,EAAkC,QAAlC,CAA2C,GAA3C,CAPhB;YAQI,qBAAqB,UAAU,IAAV,CAAe,2BAAf,CARzB;YASI,kBAAkB,mBAAmB,IAAnB,CAAwB,2BAAxB,CATtB;YAUI,gBAAgB,UAAU,IAAV,CAAe,eAAf,CAVpB;YAWI,UAAU,EAAE,WAAF,CAXd;YAYI,mBAAmB,EAAE,mBAAF,CAZvB;;AAeA,iBAAS,MAAT,CAAgB,IAAhB,EAAsB;AAClB,wBAAY,gBAAZ,CAA6B,KAAK,QAAlC,EAA4C,KAAK,QAAjD,EACK,IADL,CACU,UAAS,OAAT,EAAkB;AACpB,wBAAQ,GAAR,CAAY,SAAZ,EAAuB,OAAvB;AACA,uBAAO,OAAP,GAAiB,IAAjB;AACH,aAJL,EAIO,UAAS,OAAT,EAAkB;AACjB,wBAAQ,GAAR,CAAY,SAAZ,EAAuB,OAAvB;;AAEA,uBAAO,OAAP,GAAiB,KAAjB;AACH,aARL;AASH;;AAED,iBAAS,YAAT,CAAsB,OAAtB,EAA+B;;AAE3B,gBAAI,cAAc;AACd,+BAAe,QAAQ,UADT;AAEd,8BAAc,QAAQ,UAFR;AAGd,2BAAW,QAAQ,OAHL;AAId,yBAAS,QAAQ,KAAR,CAAc,WAAd;AAJK,aAAlB;AAMA,wBAAY,YAAZ,CAAyB,QAAQ,QAAjC,EAA2C,QAAQ,QAAnD,EAA6D,WAA7D,EACK,IADL,CACU,UAAS,MAAT,EAAiB;AACnB,wBAAQ,GAAR,CAAY,SAAZ,EAAuB,MAAvB;AACA,mBAAG,cAAH,GAAoB,MAApB;AACA,0BAAU,WAAV,CAAsB,aAAtB;AACA,2BAAW,WAAX,CAAuB,aAAvB;AACA,2BAAW,QAAX,CAAoB,aAApB;AACA,0BAAU,IAAV,CAAe,cAAf,EAA+B,QAA/B,CAAwC,MAAxC;AACA,yBAAS,WAAT,CAAqB,UAArB;AACA,0BAAU,WAAV,CAAsB,UAAtB;AACA,uBAAO,OAAP,GAAiB,IAAjB;AAEH,aAZL,EAYO,UAAS,OAAT,EAAkB;AACjB,wBAAQ,GAAR,CAAY,SAAZ,EAAuB,OAAvB;AACA,uBAAO,OAAP,GAAiB,KAAjB;AACH,aAfL;AAgBH;;AAED,iBAAS,aAAT,CAAuB,KAAvB,EAA8B;AAC1B,eAAG,kBAAH,GAAwB,YAAY,aAAZ,CAA0B,KAA1B,EACnB,IADmB,CACd,UAAS,IAAT,EAAe;AACjB,mBAAG,OAAH,CAAW,CAAX;AACA,uBAAO,IAAP;AACH,aAJmB,EAIjB,YAAU;AACT,sBAAM,OAAN;AACH,aANmB,CAAxB;AAQH;;AAED,iBAAS,oBAAT,CAA8B,YAA9B,EAA4C;AACxC,eAAG,kBAAH,CAAsB,IAAtB,CAA2B,gBAAQ;AAC/B,oBAAI,CAAC,IAAL,EAAW;AACP,4BAAQ,GAAR,CAAY,eAAZ;AACH;AACD,qBAAK,MAAL,CAAY,qBAAZ,CAAkC;AAC9B,8BAAU,KAAK,IAAL,CAAU,WAAV,EADoB;AAE9B,8BAAU,KAAK,QAFe;AAG9B,sCAAkB,aAAa,IAHD;AAI9B,8BAAU,aAAa;AAJO,iBAAlC,EAKG,UAAS,GAAT,EAAc,IAAd,EAAoB;AACnB,wBAAI,GAAJ,EAAS;AACL,gCAAQ,GAAR,CAAY,SAAZ;AACA,8BAAM,GAAN;AACA;AACH;AACD,0BAAM,8CAAN;AACA,uBAAG,OAAH,CAAW,CAAX;AACH,iBAbD;AAcH,aAlBD;AAmBH;;AAED,iBAAS,WAAT,CAAqB,IAArB,EAA2B;AACvB,wBAAY,mBAAZ,CAAgC,GAAG,cAAnC,EAAmD,IAAnD,EACK,IADL,CACU,UAAS,OAAT,EAAkB;AACpB,sBAAM,UAAN;AACA,mBAAG,OAAH,CAAW,CAAX;AACH,aAJL,EAIO,UAAS,KAAT,EAAgB;AACf,sBAAM,UAAN;AACH,aANL;AAOH;;;AAGD,iBAAS,UAAT,CAAoB,MAApB,EAA4B;AACxB,gBAAI,OAAO,OAAP,IAAkB,IAAtB,EAA4B;AACxB,0BAAU,WAAV,CAAsB,YAAtB;AACH;AACJ;;;AAGD,iBAAS,kBAAT,CAA4B,MAA5B,EAAoC;AAChC,gBAAI,aAAa,QAAQ,OAAR,CAAgB,OAAO,MAAvB,CAAjB;gBACI,gBAAgB,WAAW,IAAX,CAAgB,OAAhB,CADpB;;AAGC,0BAAc,cAAc,IAAd,CAAmB,MAAnB,CAAf,GAA6C,cAAc,IAAd,CAAmB,MAAnB,EAA2B,MAA3B,CAA7C,GAAiF,cAAc,IAAd,CAAmB,MAAnB,EAA2B,UAA3B,CAAjF;AACC,sBAAU,WAAW,IAAX,EAAX,GAAgC,WAAW,IAAX,CAAgB,MAAhB,CAAhC,GAAyD,WAAW,IAAX,CAAgB,MAAhB,CAAzD;;AAEA,2BAAe,aAAf;AACH;;;AAGD,iBAAS,OAAT,CAAiB,GAAjB,EAAsB;AAClB,oBAAQ,GAAR;AACI,qBAAK,CAAC,CAAN;AACI,8BAAU,WAAV,CAAsB,YAAtB;AACA;AACJ,qBAAK,CAAL;AACI,4BAAQ,QAAR,CAAiB,IAAjB,EAAuB,WAAvB,CAAmC,YAAnC;AACA,8BAAU,QAAV,CAAmB,YAAnB;AACA,8BAAU,QAAV,CAAmB,aAAnB;AACA,+BAAW,WAAX,CAAuB,aAAvB;AACA,uCAAmB,WAAnB,CAA+B,aAA/B;AACA,6BAAS,QAAT,CAAkB,UAAlB;AACA,8BAAU,WAAV,CAAsB,UAAtB;AACA,8BAAU,IAAV,CAAe,cAAf,EAA+B,WAA/B,CAA2C,MAA3C;AACA,+BAAW,WAAX,CAAuB,aAAvB;AACA,kCAAc,WAAd,CAA0B,aAA1B;AACA,qCAAiB,WAAjB,CAA6B,aAA7B;;AAEA;AACJ,qBAAK,CAAL;AACI,4BAAQ,QAAR,CAAiB,IAAjB,EAAuB,WAAvB,CAAmC,YAAnC;AACA,8BAAU,QAAV,CAAmB,YAAnB;AACA,8BAAU,WAAV,CAAsB,aAAtB;AACA,+BAAW,QAAX,CAAoB,aAApB;AACA,uCAAmB,WAAnB,CAA+B,aAA/B;AACA,6BAAS,WAAT,CAAqB,UAArB;AACA,8BAAU,QAAV,CAAmB,UAAnB;AACA,kCAAc,WAAd,CAA0B,aAA1B;AACA,qCAAiB,WAAjB,CAA6B,aAA7B;AACA;AACJ,qBAAK,CAAL;AACI,8BAAU,WAAV,CAAsB,aAAtB;AACA,+BAAW,WAAX,CAAuB,aAAvB;AACA,uCAAmB,QAAnB,CAA4B,aAA5B;AACA,kCAAc,WAAd,CAA0B,aAA1B;AACA;AACJ,qBAAK,CAAL;AACI,+BAAW,WAAX,CAAuB,aAAvB;AACA,kCAAc,QAAd,CAAuB,aAAvB;AACA;AACJ,qBAAK,CAAL;AACI,uCAAmB,WAAnB,CAA+B,aAA/B;AACA,qCAAiB,QAAjB,CAA0B,aAA1B;AACA;AA1CR;AA4CH;;;;AAKD,YAAI,CAAC,UAAU,KAAV,CAAgB,WAArB,EAAkC;AAC9B,cAAE,eAAF,EAAmB,KAAnB,CAAyB,YAAW;AAChC,oBAAI,QAAQ,EAAE,IAAF,CAAZ;AACA,oBAAI,MAAM,GAAN,MAAe,MAAM,IAAN,CAAW,aAAX,CAAnB,EAA8C;AAC1C,0BAAM,GAAN,CAAU,EAAV;AACH;AACJ,aALD,EAKG,IALH,CAKQ,YAAW;AACf,oBAAI,QAAQ,EAAE,IAAF,CAAZ;AACA,oBAAI,MAAM,GAAN,MAAe,EAAf,IAAqB,MAAM,GAAN,MAAe,MAAM,IAAN,CAAW,aAAX,CAAxC,EAAmE;AAC/D,0BAAM,GAAN,CAAU,MAAM,IAAN,CAAW,aAAX,CAAV;AACH;AACJ,aAVD,EAUG,IAVH;AAWA,cAAE,eAAF,EAAmB,OAAnB,CAA2B,MAA3B,EAAmC,MAAnC,CAA0C,YAAW;AACjD,kBAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,EAA8B,IAA9B,CAAmC,YAAW;AAC1C,wBAAI,QAAQ,EAAE,IAAF,CAAZ;AACA,wBAAI,MAAM,GAAN,MAAe,MAAM,IAAN,CAAW,aAAX,CAAnB,EAA8C;AAC1C,8BAAM,GAAN,CAAU,EAAV;AACH;AACJ,iBALD;AAMH,aAPD;AAQH;AACJ;;;AAGD,aAAS,cAAT,CAAwB,MAAxB,EAAgC;AAC5B,eAAO,OAAO,IAAP,CAAY,YAAW;;AAE1B,gBAAI,OAAO,iBAAX,EAA8B;;;AAG1B,oBAAI,MAAM,EAAE,MAAF,EAAU,GAAV,GAAgB,MAAhB,GAAyB,CAAnC;AACA,uBAAO,KAAP;AACA,uBAAO,iBAAP,CAAyB,GAAzB,EAA8B,GAA9B;AACH,aAND,MAMO;;;AAGH,kBAAE,MAAF,EAAU,GAAV,CAAc,EAAE,MAAF,EAAU,GAAV,EAAd;AACH;AACJ,SAbM,CAAP;AAcH;AAIJ,CAvQD;;;ACAA,CAAC,YAAW;;AAER,YACK,MADL,CACY,eADZ,EAEK,UAFL,CAEgB,iBAFhB,EAEmC,eAFnC,EAGK,GAHL,CAGS,CAAC,gBAAD,EAAmB,WAAnB,CAHT;;AAKA,oBAAgB,OAAhB,GAA0B,CAAC,QAAD,EAAW,mBAAX,CAA1B;;AAEA,aAAS,eAAT,CAAyB,MAAzB,EAAiC,iBAAjC,EAAoD;;;;AAInD;;AAED,aAAS,WAAT,CAAqB,cAArB,EAAqC;AACjC,uBAAe,GAAf,CAAmB,sCAAnB,EACI,4CACA,kCADA,GAEA,yBAFA,GAGA,gCAHA,GAIA,4FAJA,GAKA,QALA,GAMA,mCANA,GAOA,iDAPA,GAQA,QARA,GASA,uBATA,GAUA,kEAVA,GAWA,KAXA,GAYA,4lCAZA,GAaA,MAbA,GAcA,KAdA,GAeA,2aAfA,GAgBA,MAhBA,GAiBA,KAjBA,GAkBA,+LAlBA,GAmBA,MAnBA,GAoBA,KApBA,GAqBA,kqCArBA,GAsBA,MAtBA,GAuBA,KAvBA,GAwBA,kZAxBA,GAyBA,MAzBA,GA0BA,KA1BA,GA2BA,8GA3BA,GA4BA,MA5BA,GA6BA,KA7BA,GA8BA,2CA9BA,GA+BA,MA/BA,GAgCA,KAhCA,GAiCA,+2BAjCA,GAkCA,MAlCA,GAmCA,KAnCA,GAoCA,2hBApCA,GAqCA,MArCA,GAsCA,KAtCA,GAuCA,iSAvCA,GAwCA,MAxCA,GAyCA,KAzCA,GA0CA,0oBA1CA,GA2CA,MA3CA,GA4CA,KA5CA,GA6CA,qEA7CA,GA8CA,MA9CA,GA+CA,KA/CA,GAgDA,kNAhDA,GAiDA,MAjDA,GAkDA,KAlDA,GAmDA,yQAnDA,GAoDA,MApDA,GAqDA,KArDA,GAsDA,iWAtDA,GAuDA,MAvDA,GAwDA,KAxDA,GAyDA,uvBAzDA,GA0DA,MA1DA,GA2DA,KA3DA,GA4DA,wmBA5DA,GA6DA,MA7DA,GA8DA,KA9DA,GA+DA,odA/DA,GAgEA,MAhEA,GAiEA,KAjEA,GAkEA,uVAlEA,GAmEA,MAnEA,GAoEA,KApEA,GAqEA,iMArEA,GAsEA,MAtEA,GAuEA,KAvEA,GAwEA,wIAxEA,GAyEA,MAzEA,GA0EA,KA1EA,GA2EA,+ZA3EA,GA4EA,MA5EA,GA6EA,KA7EA,GA8EA,0UA9EA,GA+EA,oKA/EA,GAgFA,8GAhFA,GAiFA,MAjFA,GAkFA,KAlFA,GAmFA,2BAnFA,GAoFA,MApFA,GAqFA,KArFA,GAsFA,stBAtFA,GAuFA,MAvFA,GAwFA,KAxFA,GAyFA,2hBAzFA,GA0FA,MA1FA,GA2FA,KA3FA,GA4FA,iVA5FA,GA6FA,MA7FA,GA8FA,0CA9FA,GA+FA,KA/FA,GAgGA,61DAhGA,GAiGA,MAjGA,GAkGA,KAlGA,GAmGA,uWAnGA,GAoGA,MApGA,GAqGA,KArGA,GAsGA,umBAtGA,GAuGA,MAvGA,GAwGA,KAxGA,GAyGA,yCAzGA,GA0GA,MA1GA,GA2GA,KA3GA,GA4GA,6dA5GA,GA6GA,8sBA7GA,GA8GA,MA9GA,GA+GA,KA/GA,GAgHA,mnBAhHA,GAiHA,mjFAjHA,GAkHA,MAlHA,GAmHA,KAnHA,GAoHA,wCApHA,GAqHA,MArHA,GAsHA,KAtHA,GAuHA,yBAvHA,GAwHA,MAxHA,GAyHA,KAzHA,GA0HA,mkBA1HA,GA2HA,MA3HA,GA4HA,KA5HA,GA6HA,olBA7HA,GA8HA,MA9HA,GA+HA,KA/HA,GAgIA,gLAhIA,GAiIA,MAjIA,GAkIA,KAlIA,GAmIA,8XAnIA,GAoIA,MApIA,GAqIA,KArIA,GAsIA,+WAtIA,GAuIA,MAvIA,GAwIA,KAxIA,GAyIA,kJAzIA,GA0IA,MA1IA,GA2IA,KA3IA,GA4IA,mXA5IA,GA6IA,MA7IA,GA8IA,KA9IA,GA+IA,ulBA/IA,GAgJA,MAhJA,GAiJA,woBAjJA,GAkJA,gvBAlJA,GAmJA,MAnJA,GAoJA,KApJA,GAqJA,+9BArJA,GAsJA,MAtJA,GAuJA,KAvJA,GAwJA,sCAxJA,GAyJA,MAzJA,GA0JA,KA1JA,GA2JA,2kBA3JA,GA4JA,MA5JA,GA6JA,KA7JA,GA8JA,8aA9JA,GA+JA,MA/JA,GAgKA,SAhKA,GAiKA,KAjKA,GAkKA,0QAlKA,GAmKA,MAnKA,GAoKA,KApKA,GAqKA,6qBArKA,GAsKA,MAtKA,GAuKA,KAvKA,GAwKA,s9BAxKA,GAyKA,MAzKA,GA0KA,KA1KA,GA2KA,qdA3KA,GA4KA,MA5KA,GA6KA,KA7KA,GA8KA,wdA9KA,GA+KA,MA/KA,GAgLA,KAhLA,GAiLA,qcAjLA,GAkLA,MAlLA,GAmLA,KAnLA,GAoLA,0cApLA,GAqLA,MArLA,GAsLA,ycAtLA,GAuLA,KAvLA,GAwLA,4QAxLA,GAyLA,MAzLA,GA0LA,QA1LA,GA2LA,mDA3LA,GA4LA,2DA5LA,GA6LA,QA7LA,GA8LA,QA/LJ;AAiMH;AACJ,CAlND;;;ACAA,CAAC,YAAW;;AAEX,SACE,MADF,CACS,eADT,EAEE,SAFF,CAEY,WAFZ,EAEyB,CAAC,KAAD,CAFzB;;AAIA,UAAS,KAAT,GAAiB;AAChB,SAAO;AACN,aAAW,GADL;AAEN,gBAAc;AAFR,GAAP;AAIA;AACD,CAZD;;;ACAA,CAAC,YAAW;;AAER,YAAQ,MAAR,CAAe,aAAf,EAA8B,EAA9B;AAEH,CAJD;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA,CAAC,YAAW;AACR,YACK,MADL,CACY,aADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ;;AAIA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,WADX,EACwB;AAChB,kBAAM,WADU;AAEhB,iBAAK,OAFW;AAGhB,kBAAM;AACF,4BAAY;AADV;AAHU,SADxB;AAQH;AAEJ,CAjBD;;;ACAA,CAAC,YAAU;;AAEX,UAAQ,MAAR,CAAe,eAAf,EAA+B,CAAC,UAAD,CAA/B;AAEC,CAJD;;;ACAA,CAAC,YAAU;;AAEX,YACK,MADL,CACY,eADZ,EAEK,OAFL,CAEa,oBAFb,EAEmC,EAFnC,EAGK,SAHL,CAGe,aAHf,EAG6B;AACrB,oBAAY,gBADS;AAErB,qBAAa,yCAFQ;AAGrB,kBAAU;AACN,wBAAY,GADN;AAEN,wBAAY,GAFN;AAGN,kBAAM;AAHA;AAHW,KAH7B;;AAcA,qBAAiB,OAAjB,GAA2B,CAAC,QAAD,EAAU,eAAV,EAA0B,WAA1B,EAAsC,UAAtC,EAAiD,UAAjD,CAA3B;AACA,aAAS,gBAAT,CAA0B,MAA1B,EAAkC,aAAlC,EAAiD,SAAjD,EAA4D,QAA5D,EAAsE,GAAtE,EAA2E;AACvE,YAAI,OAAO,IAAX;;AAEA,eAAO,GAAP,CAAW,UAAX,EAAuB,YAAW;AAC7B,0BAAc,IAAd,CAAmB,KAAK,UAAxB;AACJ,SAFD;AAGA,eAAO,MAAP,GAAgB;AACX,gCAAoB,KADT;AAEX,yBAAa,IAFF;AAGX,6BAAiB;AAHN,SAAhB;;AAMA,aAAK,IAAL,GAAY,YAAW;AACnB,oBAAQ,GAAR,CAAY,KAAK,UAAjB,EAA4B,GAA5B;AACH,SAFD;;AAIA,aAAK,SAAL,GAAiB,SAAS,YAAW;;AAEjC,oBAAQ,GAAR,CAAY,KAAK,UAAjB;AACA,gBAAI,CAAC,CAAC,CAAC,KAAK,UAAZ,EAAwB;AACpB;AACH;AACD,0BAAc,KAAd,CAAoB,GAApB,QAA6B,KAAK,UAAlC;;;;;;;;;AAUH,SAhBgB,EAgBf,GAhBe,CAAjB;AAiBH;AAEA,CApDD;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,eADZ,EAEK,GAFL,CAES,CAAC,eAAD,EAAiB,QAAjB,EAA0B,UAA1B,EAAqC,UAAS,aAAT,EAAuB,MAAvB,EAA8B,QAA9B,EAAuC;AAC7E,iBAAS,YAAM;AACX,0BAAc,QAAd;AACH,SAFD,EAEE,GAFF;AAGH,KAJI,CAFT,EAOK,OAPL,CAOa,eAPb,EAO8B,CACtB,QADsB,EAEtB,YAFsB,EAGtB,WAHsB,EAItB,UAJsB,EAKtB,IALsB,EAMtB,UANsB,EAOtB,gBAPsB,EAQtB,aARsB,CAP9B;;AAkBA,aAAS,aAAT,CAAuB,MAAvB,EAA+B,UAA/B,EAA2C,SAA3C,EAAsD,QAAtD,EAAgE,EAAhE,EAAoE,QAApE,EAA8E,cAA9E,EAA8F;AAC1F,YAAI,KAAK,IAAT;AACA,YAAI,KAAK,WAAW,EAAX,EAAT;AACA,YAAI,UAAU;AACV,8BAAkB,gBADR;AAEV,mBAAO,KAFG;AAGV,kBAAM,IAHI;AAIV,sBAAU;AAJA,SAAd;;AAOA,eAAO,OAAP;;AAEA,iBAAS,gBAAT,GAA4B;AACxB,mBAAO,UAAS,KAAT,EAAgB;AACnB,wBAAQ,GAAR,CAAY,KAAZ;AACA,uBAAO,MAAM,GAAN,CAAU,gBAAQ;AACrB,wBAAI,IAAI,GAAG,KAAH,EAAR;;AAEA,wBAAI,UAAU,IAAI,IAAI,EAAJ,CAAO,aAAX,CAAyB;AACnC,0CAAkB,IADiB;AAEnC,gCAAQ;AACJ,kCAAM,IADF;AAEJ,oCAAQ,qBAFJ;AAGJ,iCAAK,KAAK,IAHN;AAIJ,yCAAa,KAAK;AAJd;AAF2B,qBAAzB,CAAd;AASA,4BAAQ,EAAR,CAAW,oBAAX,EAAiC,UAAC,QAAD,EAAc;AAC3C,2BAAG,EAAH,CAAM,IAAN,CAAW,gBAAX,EAA6B,IAA7B,EAAmC,MAAM,SAAS,MAAf,GAAwB,SAAS,KAApE,EAA2E,SAAS,MAApF;AACH,qBAFD;AAGA,4BAAQ,IAAR,CAAa,UAAC,GAAD,EAAM,IAAN,EAAe;AACxB,2BAAG,EAAH,CAAM,SAAN,CAAgB,KAAhB,EAAuB,EAAvB,EAA2B,GAA3B;AACA,iCAAS,GAAG,EAAH,CAAM,YAAN,EAAT,EAA+B,GAA/B;AACH,qBAHD;AAIH,iBAnBM,CAAP;AAoBH,aAtBD;AAuBH;;AAED,iBAAS,QAAT,GAAoB;;AAEhB,gBAAI,mBAAmB,eAAe,GAAf,CAAmB,qBAAnB,CAAvB;AACA,gBAAI,cAAc,eAAe,GAAf,CAAmB,uBAAnB,CAAlB;;AAEA,qBAAS,YAAT,GAAwB,KAAxB;AACA,qBAAS,OAAT,CAAiB,IAAjB,GAAwB,KAAxB;;AAEA,gBAAI,iBAAiB,IAAI,QAAJ,CAAa,OAAb,EAAsB;AACvC,qBAAK,GADkC;;AAGvC,kCAAkB,KAHqB;AAIvC,iCAAiB,CAJsB;AAKvC,4BAAY,oBAAS,IAAT,EAAe;AACvB,wBAAI,KAAK,cAAT,EAAyB;AACrB,6BAAK,cAAL,CAAoB,SAApB,CAA8B,GAA9B,CAAkC,eAAlC;AACA,4BAAI,KAAK,WAAT,EAAsB;AAClB,mCAAO,KAAK,WAAL,CAAiB,SAAjB,GAA6B,KAAK,OAAL,CAAa,gBAAjD;AACH;AACJ;AACJ,iBAZsC;AAavC,kCAAkB,4GAbqB;AAcvC,gCAAgB,WAduB;AAevC,iCAAiB;AAfsB,aAAtB,CAArB;;AAkBA,2BAAe,YAAf,GAA8B,eAAe,WAA7C;AACA,2BAAe,WAAf,GAA6B,QAAQ,gBAAR,CAAyB,cAAzB,CAA7B;AACA,eAAG,EAAH,GAAQ,cAAR;AACH;;AAED,iBAAS,KAAT,CAAe,GAAf,EAAoB,aAApB,EAAmC;AAC/B,eAAG,GAAH,GAAS,GAAT;AACA,eAAG,EAAH,CAAM,iBAAN,GAA0B,SAAS,UAAT,CAAoB,aAApB,CAA1B;AACA,eAAG,EAAH,CAAM,iBAAN,GAA2B,SAAS,WAAT,CAAqB,iBAArB,EAAwC,WAAxC,CAA3B;AACA,gBAAI,eAAe,IAAI,IAAJ,CAAS,YAAT,CAAnB;AACA,gBAAI,kBAAkB,IAAI,IAAJ,CAAS,eAAT,CAAtB;AACA,gBAAI,eAAe,IAAI,IAAJ,CAAS,YAAT,CAAnB;AACA,oBAAQ,GAAR,CAAY,YAAZ;;AAEA,eAAG,EAAH,CAAM,EAAN,CAAS,WAAT,EAAsB,YAAW;AAC7B;AACH,aAFD;AAGA,eAAG,EAAH,CAAM,EAAN,CAAS,aAAT,EAAwB,YAAW;AAC/B;AACH,aAFD;;AAIA,yBAAa,EAAb,CAAgB,OAAhB,EAAyB,UAAC,CAAD,EAAO;AAC5B,kBAAE,eAAF;AACA,mBAAG,EAAH,CAAM,YAAN;AACH,aAHD;;AAKA,4BAAgB,EAAhB,CAAmB,OAAnB,EAA4B,UAAC,CAAD,EAAO;AAC/B,kBAAE,eAAF;AACA,mBAAG,EAAH,CAAM,cAAN;AACH,aAHD;;AAKN,qBAAS,uBAAT,GAAmC;AACzB,oBAAI,WAAW,GAAG,EAAH,CAAM,KAAN,CAAY,MAA3B;AACA,6BAAa,QAAb,CAAsB,YAAtB;AACA,oBAAI,aAAa,CAAjB,EAAoB;AAChB,iCAAa,WAAb,CAAyB,YAAzB;AACA,oCAAgB,WAAhB,CAA4B,YAA5B;AACH,iBAHD,MAGO,IAAI,YAAY,CAAhB,EAAmB;AACtB,iCAAa,QAAb,CAAsB,YAAtB;AACA,iCAAa,QAAb,CAAsB,YAAtB;AACA,oCAAgB,WAAhB,CAA4B,YAA5B;AACH,iBAJM,MAIA,IAAI,WAAW,CAAf,EAAkB;AACrB,iCAAa,QAAb,CAAsB,YAAtB;AACA,oCAAgB,QAAhB,CAAyB,YAAzB;AACH;AACJ;AACJ;;AAED,iBAAS,IAAT,CAAc,MAAd,EAAsB;AAClB,gBAAI,iBAAiB,OAAO,QAAP,CAAgB,IAAhB,CAAqB,cAA1C;AACA,gBAAG,GAAG,EAAH,CAAM,KAAN,CAAY,MAAZ,KAAuB,CAAvB,IAA4B,CAAC,CAAC,CAAC,cAAlC,EAAkD;AAC9C;AACH;AACD,gBAAI,oCAAkC,cAAlC,OAAJ;AACA,gBAAI,GAAG,GAAH,CAAO,IAAP,CAAY,aAAZ,EAA2B,MAA/B,EAAuC;AACtC,wBAAQ,KAAR,CAAc,GAAG,GAAH,CAAO,QAAP,CAAgB,CAAhB,CAAd,EAAiC,CAAjC;AACA;AACJ;AAEJ;AAGA,CAlJD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,eADZ,EAEK,MAFL,CAEY,CAAC,gBAAD,EAAmB,oBAAnB,EAAyC,eAAzC,CAFZ;;AAIA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,aADX,EAC0B;AAClB,iBAAK,SADa;AAElB,mBAAO;;;;;AAKH,2BAAW;AACP,8BAAU;AADH;AALR,aAFW;AAWlB,kBAAM;AACF,4BAAY,IADV;AAEF,8BAAc;AAFZ;AAXY,SAD1B;AAiBH;;AAED,aAAS,aAAT,GAAyB,CAExB;;;;;AAGJ,CA/BD;;;ACAA,CAAC,YAAW;;AAEZ,YAAQ,MAAR,CAAe,cAAf,EAA+B,CAC3B,cAD2B,EAE3B,WAF2B,EAG3B,WAH2B,CAA/B;AAMC,CARD;;;ACAA,CAAC,YAAW;;AAER,YACK,MADL,CACY,cADZ,EAEK,OAFL,CAEa,aAFb,EAE4B,CACpB,IADoB,EAEpB,QAFoB,EAGpB,UAHoB,EAIpB,YAJoB,EAKpB,YALoB,EAMpB,aANoB,EAOpB,WAPoB,CAF5B;;AAYA,aAAS,WAAT,CAAqB,EAArB,EAAyB,MAAzB,EAAiC,QAAjC,EAA2C,UAA3C,EAAuD,UAAvD,EAAmE,WAAnE,EAAgF;AAC5E,YAAI,UAAU,EAAd;;AAEA,gBAAQ,mBAAR,GAA8B,mBAA9B;AACA,gBAAQ,eAAR,GAA0B,eAA1B;AACA,gBAAQ,gBAAR,GAA2B,gBAA3B;AACA,gBAAQ,YAAR,GAAuB,YAAvB;AACA,gBAAQ,mBAAR,GAA8B,mBAA9B;AACA,gBAAQ,aAAR,GAAwB,aAAxB;AACA,gBAAQ,OAAR,GAAkB,OAAlB;;AAEA,eAAO,OAAP;;AAEA,iBAAS,mBAAT,GAA+B;AAC3B,oBAAQ,MAAR,CAAe,UAAf,EAA2B;AACvB,sBAAM;AADiB,aAA3B;;AAIA,iBAAK,MAAL,CAAY,eAAZ;;AAEA,uBAAW,GAAX,CAAe,mBAAf,EAAoC,UAAS,KAAT,EAAgB,IAAhB,EAAsB,MAAtB,EAA8B;AAC9D,wBAAQ,GAAR,CAAY,IAAZ;AACA,oBAAI,cAAc,KAAK,IAAvB;;;AAGA,oBAAI,iBAAiB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAA4B,WAA5B,MAA6C,CAAC,CAAnE;;AAEA,wBAAQ,eAAR,GACK,IADL,CACU,eAAO;;AAET,wBAAI,KAAK,UAAT,EAAqB;AACjB,8BAAM,cAAN;AACA,+BAAO,EAAP,CAAU,KAAK,UAAf,EAA2B,MAA3B,EAAmC;AAC/B,sCAAU;AADqB,yBAAnC;AAGH;;AAED,wBAAI,cAAJ,EAAoB;AAChB,gCAAQ,IAAR;AACH,qBAFD,MAEO;AACH,8BAAM,cAAN;AACA,+BAAO,EAAP,CAAU,gBAAgB,OAAhB,GAA0B,MAA1B,GAAmC,WAA7C,EAA0D,MAA1D,EAAkE;AAC9D,sCAAU;AADoD,yBAAlE;AAGH;AACJ,iBAlBL,EAmBK,KAnBL,CAmBW,cAAM;;AAET,wBAAI,YAAY,WAAhB,EAA6B;AACzB,8BAAM,cAAN;AACA,+BAAO,EAAP,CAAU,OAAV,EAAmB,MAAnB,EAA2B;AACvB,oCAAQ;AADe,yBAA3B;AAGH;AACJ,iBA3BL;AA4BH,aAnCD;AAoCH;;AAID,iBAAS,eAAT,GAA2B;AACvB,gBAAI,IAAI,WAAW,IAAnB;AACA,gBAAI,CAAC,CAAC,CAAN,EAAS;AACL,uBAAO,GAAG,IAAH,CAAQ,IAAR,CAAP;AACH,aAFD,MAEO;AACH,uBAAO,WAAW,WAAX,GACF,IADE,CACG;AAAA,2BAAY,SAAS,GAAT,CAAa,cAAb,EAAZ;AAAA,iBADH,EAEF,IAFE,CAEG;AAAA,2BAAK,YAAY,OAAZ,CAAoB,CAApB,CAAL;AAAA,iBAFH,EAGF,IAHE,CAGG,mBAAW;AACb,+BAAW,IAAX,GAAkB,OAAlB;AACA,2BAAO,IAAP;AACH,iBANE,CAAP;;AAQH;AACJ;;AAED,iBAAS,OAAT,GAAmB;AACf,uBAAW,IAAX,GAAkB,IAAlB;;;;AAIA,mBAAO,EAAP,CAAU,OAAV;AACH;;AAED,iBAAS,YAAT,CAAsB,QAAtB,EAAgC,QAAhC,EAA0C,WAA1C,EAAuD;AACnD,mBAAO,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3B,2BAAW,WAAX,GACK,IADL,CACU;AAAA,2BAAY,SAAS,YAAT,CAAsB,QAAtB,EAAgC,QAAhC,EAA0C,WAA1C,CAAZ;AAAA,iBADV,EAEK,IAFL,CAEU,mBAAW;AACb,4BAAQ,QAAQ,IAAhB;AACH,iBAJL,EAKK,KALL,CAKW,mBAAW;AACd,4BAAQ,GAAR,CAAY,OAAZ;AACA,2BAAO,OAAP;AACH,iBARL;AASH,aAVM,CAAP;AAWH;;AAED,iBAAS,mBAAT,CAA6B,IAA7B,EAAmC,IAAnC,EAAyC;AACrC,gBAAI,UAAU,IAAI,WAAW,8BAAX,CAA0C,WAA9C,CAA0D;AACpE,0BAAU,KAAK,QADqD;AAEpE,sBAAM,KAAK;AAFyD,aAA1D,CAAd;;AAKA,mBAAO,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3B,wBAAQ,mBAAR,CAA4B,IAA5B,EAAkC,IAAlC,EAAwC,UAAC,GAAD,EAAM,MAAN,EAAiB;AACrD,wBAAI,GAAJ,EAAS;AACL,+BAAO,GAAP;AACH;AACD,4BAAQ,MAAR;AACH,iBALD;AAMH,aAPM,CAAP;AAQH;;AAED,iBAAS,gBAAT,CAA0B,QAA1B,EAAoC,QAApC,EAA8C;AAC1C,mBAAO,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3B,2BAAW,WAAX,GACK,IADL,CACU;AAAA,2BAAY,SAAS,gBAAT,CAA0B,QAA1B,EAAoC,QAApC,CAAZ;AAAA,iBADV,EAEK,IAFL,CAEU,gBAAQ;AACV,gCAAY,OAAZ,CAAoB,IAApB;AACA,+BAAW,IAAX,GAAkB,IAAlB;AACA,4BAAQ,IAAR;AACA,2BAAO,EAAP,CAAU,MAAV,EAAkB,EAAlB;AACH,iBAPL,EAQK,KARL,CAQW,UAAC,GAAD;AAAA,2BAAS,OAAO,GAAP,CAAT;AAAA,iBARX;AASH,aAVM,CAAP;AAWH;;AAED,iBAAS,aAAT,CAAuB,KAAvB,EAA8B;;AAE1B,mBAAO,WAAW,WAAX,GAAyB,IAAzB,CAA8B,gBAAQ;AACzC,wBAAQ,GAAR,CAAY,IAAZ;AACA,oBAAI,UAAU,IAAI,WAAW,8BAAX,CAA0C,WAA9C,CAA0D;AACpE,8BAAU,KAD0D;AAEpE,0BAAM,KAAK;AAFyD,iBAA1D,CAAd;;AAKA,uBAAO,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3B,4BAAQ,MAAR,CAAe,cAAf,CAA8B;AAC1B,kCAAU,KAAK,GAAL,CAAS,WAAT,EADgB;AAE1B,kCAAU;AAFgB,qBAA9B,EAGG,UAAS,GAAT,EAAc,IAAd,EAAoB;AACnB,4BAAI,GAAJ,EAAS;AACL,oCAAQ,GAAR,CAAY,GAAZ;AACA,mCAAO,IAAP;AACH,yBAHD,MAGO;AACH,oCAAQ,GAAR,CAAY,IAAZ;AACA,oCAAQ,OAAR;AACH;AACJ,qBAXD;AAYH,iBAbM,CAAP;AAcH,aArBM,CAAP;AAsBH;AACJ;AAEJ,CAzKD;ACAA;;AACA,CAAC,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AACf,MAAE,MAAF,CAAS,cAAT,EAAyB,QAAzB,CAAkC,KAAlC,EAAyC,CAAzC,EAA4C,QAA5C,CAAqD,YAArD,EAAmE,CAAnE,EAAsE,QAAtE,CAA+E,YAA/E,EAA6F,CAAC,KAAD,EAAQ,YAAR,EACzF,UAAS,CAAT,EAAY,CAAZ,EAAe;AACX,YAAI,IAAI,IAAR;AACA,UAAE,MAAF,CAAS,MAAT,GAAkB,WAAlB;AACA,UAAE,CAAF,GAAM,IAAN;AACA,UAAE,CAAF,GAAM,IAAN;AACA,UAAE,CAAF,GAAM,EAAN;AACA,UAAE,MAAF,GAAW,UAAS,CAAT,EAAY;AACnB,kBAAM,EAAE,CAAF,GAAM,CAAZ;AACH,SAFD;AAGA,UAAE,eAAF,GAAoB,UAAS,CAAT,EAAY;AAC5B,kBAAM,EAAE,CAAF,GAAM,CAAZ;AACH,SAFD;AAGA,UAAE,SAAF,GAAc,UAAS,CAAT,EAAY;AACtB,kBAAM,EAAE,MAAF,GAAW,CAAX,EAAc,EAAE,MAAF,CAAS,MAAT,GAAkB,CAAhC,EAAmC,EAAE,MAAF,CAAS,MAAT,GAAkB,CAA3D;AACH,SAFD;AAGA,UAAE,SAAF,GAAc,UAAS,CAAT,EAAY;AACtB,kBAAM,EAAE,MAAF,CAAS,MAAT,GAAkB,CAAxB;AACH,SAFD;AAGA,UAAE,aAAF,GAAkB,UAAS,CAAT,EAAY;AAC1B,kBAAM,EAAE,CAAF,GAAM,CAAZ;AACH,SAFD;AAGA,UAAE,kBAAF,GAAuB,UAAS,CAAT,EAAY;AAC/B,kBAAM,EAAE,CAAF,CAAI,CAAJ,GACF,EAAE,UADA,EACY,EAAE,CAAF,CAAI,CAAJ,GAAQ,EAAE,QAD5B;AAEH,SAHD;AAIA,UAAE,IAAF,GAAS,CAAC,IAAD,EAAO,eAAP,EAAwB,MAAxB,EACL,UAAS,CAAT,EAAY,CAAZ,EAAe;AACX,qBAAS,CAAT,CAAW,CAAX,EAAc;AACV,oBAAI,IAAI;AACA,yBAAK,KADL;AAEA,yBAAK,KAFL;AAGA,4BAAQ,QAHR;AAIA,0BAAM,UAJN;AAKA,4BAAQ,YALR;AAMA,2BAAO;AANP,iBAAR;oBAQI,IAAI,EAAE,KAAF,EARR;AASA,kBAAE,IAAF,CAAO,YAAW;AACd,wBAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;AACA,0BAAM,IAAI,IAAI,EAAE,QAAF,CAAW,cAAf,CAA8B,CAA9B,CAAJ,EAAsC,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAA5C;AACA,wBAAI,IAAI,EAAR;AACA,sBAAE,GAAF,GAAQ,EAAE,EAAF,GAAO,CAAf;AACA,sBAAE,IAAF,IAAU,UAAS,CAAT,EAAY,CAAZ,EAAe;AACrB,4BAAI,CAAJ;AACA,yBAAC,IAAI,EAAE,CAAF,CAAL,KAAc,EAAE,MAAF,CAAS,8BAA8B,CAAvC,CAAd;AACA,+BAAO,IAAI,KAAK,EAAL,CAAQ,CAAR,EAAW,CAAX,EAAc,OAAd,EAAJ,GAA8B,IAArC;AACH,qBAJD;AAKA,sBAAE,OAAF,CAAU,CAAV;AACH,iBAXD;AAYA,uBAAO,EAAE,OAAT;AACH;AACD,gBAAI,IAAI,EAAE,SAAF,CAAR;gBACI,IAAI,EAAE,KAAF,CADR;gBAEI,IAAI,EAAE,KAAF,CAFR;gBAGI,IAAI,EAAE,KAAF,CAHR;gBAII,IAAI,EAAE,KAAF,CAJR;AAKA,cAAE,KAAF;AACA,gBAAI,IAAI,EAAE,KAAF,CAAR;gBACI,IAAI,EAAE,KAAF,CADR;gBAEI,IAAI,EAAE,QAAF,CAFR;AAGA,cAAE,UAAF;AACA,gBAAI,IAAI,EAAE,KAAF,EAAR;gBACI,IAAI,EAAE,OADV;AAEA,gBAAI;AACA,yBAAS,mBAAW;AAChB,wBAAI,IAAI,EAAE,KAAF,EAAR;AACA,yBAAK,CAAL,KAAW,EAAE,MAAF,CAAS,WAApB,IAAmC,SAAS,EAAE,MAAF,CAAS,WAArD,GAAmE,EAAE,MAAF,CAAS,WAAT,CAAqB,aAArB,EAAnE,GAA0G,EAAE,OAAF,EAA1G;AACA,2BAAO,EAAE,OAAT;AACH,iBALD;AAMA,6BAAa,uBAAW;AACpB,2BAAO,CAAP;AACH,iBARD;AASA,0BAAU,kBAAS,CAAT,EAAY,CAAZ,EAAe;AACrB,wBAAI,IAAI,EAAE,KAAF,EAAR;AACA,wBAAI;AACA,wCAAgB,EAAE,CADlB;AAEA,iCAAS,EAAE,CAFX;AAGA,gCAAQ;AACJ,mDAAuB;AADnB;AAHR,qBAAJ;AAOA,0BAAM,EAAE,CAAF,GAAM,CAAZ;AACA,sBAAE,MAAF,GAAW,CAAX;AACA,sBAAE,MAAF,CAAS,WAAT,GAAuB,IAAI,EAAE,0BAAN,CAAiC,CAAjC,CAAvB;AACA,sBAAE,MAAF,CAAS,WAAT,CAAqB,GAArB,CAAyB,YAAW;AAChC,0BAAE,OAAF,CAAU,EAAE,MAAF,CAAS,WAAnB;AACA,0BAAE,OAAF,CAAU,CAAC,CAAX;AACH,qBAHD;AAIA,2BAAO,EAAE,OAAT;AACH,iBA1BD;AA2BA,iCAAiB,yBAAS,CAAT,EAAY;AACzB,wBAAI,IAAI,EAAE,KAAF,EAAR;wBACI,IAAI,EADR;AAEA,sBAAE,yCAAyC,EAAE,CAAF,CAAI,CAA/C,IAAoD,CAApD;AACA,wBAAI,EAAJ;AACA,sBAAE,cAAF,GAAmB,EAAE,MAAF,CAAS,WAAT,CAAqB,MAArB,CAA4B,cAA/C;AACA,sBAAE,UAAF,GAAe,EAAE,MAAF,CAAS,WAAT,CAAqB,MAArB,CAA4B,UAA3C;AACA,sBAAE,OAAF,GAAY,EAAE,CAAd;AACA,sBAAE,MAAF,GAAW,CAAX;AACA,sBAAE,MAAF,GAAW,CAAX;AACA,sBAAE,MAAF,CAAS,WAAT,GAAuB,IAAI,EAAE,0BAAN,CAAiC,CAAjC,CAAvB;AACA,sBAAE,MAAF,CAAS,WAAT,CAAqB,aAArB;AACA,sBAAE,MAAF,CAAS,WAAT,CAAqB,GAArB,CAAyB,UAAS,CAAT,EAAY;AACjC,6BAAK,QAAQ,GAAR,CAAY,CAAZ,GACD,EAAE,MAAF,CAAS,CAAT,CADJ,KACoB,EAAE,OAAF,CAAU,EAAE,MAAF,CAAS,WAAnB,GAAiC,EAAE,MAAF,CAAS,WAAT,GAAuB,EAAE,MAAF,CAAS,WAAjE,EAA8E,EAAE,OAAF,CAAU,CAAC,CAAX,CADlG;AAEH,qBAHD;AAIA,2BAAO,EAAE,OAAT;AACH,iBA5CD;AA6CA,wBAAQ,gBAAS,CAAT,EAAY;AAChB,wBAAI,IAAI,EAAE,KAAF,EAAR;AACA,sBAAE,IAAF,CAAO,YAAW;AACd,4BAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;AACA,8BAAM,IAAI,IAAI,EAAE,MAAN,CAAa,CAAb,CAAJ,EAAqB,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAA3B;AACA,0BAAE,OAAF,CAAU,CAAV;AACH,qBAJD;AAKA,2BAAO,EAAE,OAAT;AACH,iBArDD;AAsDA,qBAAK,aAAS,CAAT,EAAY;AACb,wBAAI,IAAI,EAAE,KAAF,EAAR;AACA,sBAAE,IAAF,CAAO,YAAW;AACd,4BAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;AACA,8BAAM,IAAI,IAAI,IAAI,OAAR,CAAgB,EAAE,CAAlB,CAAJ,EAA0B,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAAhC;AACA,0BAAE,OAAF,CAAU,CAAV;AACH,qBAJD;AAKA,2BAAO,EAAE,OAAT;AACH,iBA9DD;AA+DA,oBAAI,YAAS,CAAT,EAAY;AACZ,wBAAI,IAAI,EAAE,KAAF,EAAR;AACA,sBAAE,IAAF,CAAO,YAAW;AACd,4BAAI,IACA,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CADJ;AAEA,8BAAM,IAAI,IAAI,EAAE,EAAN,CAAS,CAAT,CAAJ,EAAiB,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAAvB;AACA,0BAAE,OAAF,CAAU;AACN,+BAAG,CADG;AAEN,uCAAW,mBAAS,CAAT,EAAY;AACnB,uCAAO,EAAE,SAAF,CAAY,CAAZ,EAAe,OAAf,EAAP;AACH,6BAJK;AAKN,uCAAW,mBAAS,CAAT,EAAY;AACnB,uCAAO,EAAE,SAAF,CAAY,CAAZ,EAAe,OAAf,EAAP;AACH,6BAPK;AAQN,0CAAc,sBAAS,CAAT,EAAY,CAAZ,EAAe;AACzB,uCAAO,EAAE,YAAF,CAAe,CAAf,EAAkB,CAAlB,CAAP;AACH;AAVK,yBAAV;AAYH,qBAhBD;AAiBA,2BAAO,EAAE,OAAT;AACH;AAnFD,aAAJ;AAqFA,cAAE,MAAF,GAAW,CAAX;AACA,cAAE,IAAF,IAAU,YAAW,CAAE,CAAvB;AACA,cAAE,GAAF,GAAQ,UAAS,CAAT,EAAY;AAChB,oBAAI,IAAI,EAAE,KAAF,EAAR;AACA,kBAAE,IAAF,CAAO,UAAS,CAAT,EAAY;AACf,wBAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;AACA,0BAAM,IAAI,IAAI,EAAE,WAAN,CAAkB;AACxB,oCAAY,EAAE,UADU;AAExB,wCAAgB,EAAE;AAFM,qBAAlB,CAAJ,EAGF,EAAE,MAAF,CAAS,MAAT,GAAkB,OAHhB,EAGyB,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAC3B,CAD2B,CAH/B;AAKA,sBAAE,OAAF,CAAU,EAAE,CAAZ;AACH,iBARD;AASA,uBAAO,EAAE,OAAT;AACH,aAZD;AAaA,cAAE,GAAF,GAAQ,UAAS,CAAT,EAAY;AAChB,uBAAO,KAAK,CAAL,GAAS,IAAT,CAAc,YAAW;AAC5B,wBAAI,IAAI,EAAE,KAAF,EAAR;AACA,sBAAE,IAAF,CAAO,YAAW;AACd,4BAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;AACA,8BAAM,IAAI,IAAI,EAAE,kBAAN,CAAyB,CAAzB,CAAJ,EAAiC,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAAvC;AACA,0BAAE,OAAF,CAAU;AACN,+BAAG,CADG;AAEN,+BAAG,WAAS,CAAT,EAAY;AACX,oCAAI,IAAI,EAAE,KAAF,EAAR;AACA,kCAAE,CAAF,CAAI,CAAJ,EAAO,UAAS,CAAT,EAAY,CAAZ,EAAe;AAClB,wCAAI,EAAE,MAAF,CAAS,CAAT,CAAJ,GAAkB,QAAQ,GAAR,CAAY,CAAZ,CAAlB;AACA,sCAAE,OAAF,CAAU,CAAV;AACH,iCAHD;AAIA,uCAAO,EAAE,OAAT;AACH,6BATK;AAUN,+BAAG,aAAW;AACV,uCAAO,EAAE,IAAF,CAAO,EAAE,CAAF,EAAP,CAAP;AACH;AAZK,yBAAV;AAcH,qBAjBD;AAkBA,2BAAO,EAAE,OAAT;AACH,iBArBM,CAAP;AAsBH,aAvBD;AAwBA,cAAE,WAAF,GAAgB,YAAW;AACvB,oBAAI,CAAJ;AACA,oBAAI,CAAC,CAAL,EAAQ;AACJ,sBAAE,MAAF,CAAS,MAAT,GAAkB,EAAE,MAApB;AACA,sBAAE,MAAF,CAAS,WAAT,GAAuB,IAAI,EAAE,0BAAN,CAAiC;AACpD,wCAAgB,EAAE;AADkC,qBAAjC,CAAvB;AAGA,sBAAE,MAAF,CAAS,WAAT,KAAyB,EAAE,MAAF,CAAS,MAAT,GAAkB,EAAE,MAApB,EAA4B,EAAE,MAAF,CAAS,WAAT,GAAuB,IAAI,EAAE,0BAAN,CAAiC;AACzG,wCAAgB,EAAE;AADuF,qBAAjC,CAA5E;AAGA,wBAAI,IAAI,EAAR;AACA,sBAAE,UAAF,GAAe,EAAE,CAAF,CAAI,CAAnB;AACA,sBAAE,QAAF,GAAa,EAAE,CAAF,CAAI,CAAjB;AACA,wBAAI,IAAI,EAAE,8BAAF,CAAiC,eAArC,CAAqD,CAArD,CAAJ;AACA,sBAAE,MAAF,CAAS,MAAT,CAAgB;AACZ,qCAAa,QADD;AAEZ,yCAAiB;AAFL,qBAAhB;AAIH;AACD,oBAAI,EAAJ;AACA,kBAAE,GAAF,GAAQ,CAAR;AACA,kBAAE,YAAF,GAAiB,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAC/B,wBAAI,IAAI,EAAE,KAAF,EAAR;wBACI,IAAI,EADR;AAEA,sBAAE,OAAF,CAAU,CAAV,EAAa,UAAS,CAAT,EAAY,CAAZ,EAAe;AACxB,4BAAI,IAAI,EAAR;AACA,0BAAE,IAAF,GAAS,CAAT;AACA,0BAAE,KAAF,GAAU,CAAV;AACA,0BAAE,IAAF,CAAO,IAAI,EAAE,8BAAF,CAAiC,oBAArC,CAA0D,CAA1D,CAAP;AACH,qBALD;AAMA,sBAAE,MAAF,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,IAAlB,EACI,UAAS,CAAT,EAAY,CAAZ,EAAe;AACX,6BAAK,EAAE,MAAF,CAAS,CAAT,GAAa,QAAQ,GAAR,CAAY,CAAZ,CAAlB,KAAqC,QAAQ,GAAR,CAAY,CAAZ,GAAgB,EAAE,OAAF,CAAU,CAAV,CAArD;AACH,qBAHL;AAIA,2BAAO,EAAE,OAAT;AACH,iBAdD;AAeA,kBAAE,gBAAF,GAAqB,UAAS,CAAT,EAAY,CAAZ,EAAe;AAChC,wBAAI,IAAI,EAAR;AACA,sBAAE,QAAF,GAAa,CAAb;AACA,sBAAE,QAAF,GAAa,CAAb;AACA,wBAAI,IAAI,IAAI,EAAE,8BAAF,CAAiC,qBAArC,CAA2D,CAA3D,CAAR;wBACI,IAAI,IAAI,EAAE,8BAAF,CAAiC,WAArC,CAAiD;AACjD,kCAAU,CADuC;AAEjD,8BAAM,KAAK;AAFsC,qBAAjD,CADR;AAKA,2BAAO,EAAE,UAAS,CAAT,EAAY,CAAZ,EAAe;AACpB,0BAAE,gBAAF,CAAmB,CAAnB,EAAsB;AAClB,uCAAW,qBAAW;AAClB,kCAAE,CAAF;AACH,6BAHiB;AAIlB,uCAAW,mBAAS,CAAT,EAAY;AACnB,uCAAO,EAAE,CAAF,CAAP;AACH;AANiB,yBAAtB;AAQH,qBATM,CAAP;AAUH,iBAnBD;AAoBA,kBAAE,aAAF,GAAkB,YAAW;AACzB,2BAAO,EAAE,KAAF,GAAU,MAAV,CAAiB,wCAAjB,CAAP;AACH,iBAFD;AAGA,uBAAO,EAAE,IAAF,CAAO,CAAP,CAAP;AACH,aA5DD;AA6DA,cAAE,GAAF,GAAQ,UAAS,CAAT,EAAY;AAChB,oBAAI,IAAI,EAAE,KAAF,EAAR;AACA,kBAAE,IAAF,CAAO,YAAW;AACd,wBAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;AACA,0BAAM,IAAI,IAAI,EAAE,GAAN,CAAU,CAAV,CAAJ,EAAkB,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAAxB;AACA,sBAAE,OAAF,CAAU,CAAV;AACH,iBAJD;AAKA,uBAAO,EAAE,OAAT;AACH,aARD;AASA,cAAE,GAAF,GAAQ,UAAS,CAAT,EAAY;AAChB,oBAAI,IAAI,EAAE,KAAF,EAAR;AACA,kBAAE,IAAF,CAAO,YAAW;AACd,wBAAI,IAAI,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,CAAR;wBACI,IAAI,EAAE,KAAF,EADR;AAEA,wBAAI,EAAE,OAAF,CAAU,CAAV,CAAJ,GAAoB,IAAI,EAAE,GAAN,EAAD,CAAY,CAAZ,CAAc,CAAd,EAAiB,UAAS,CAAT,EAAY,CAAZ,EAAe;AAC/C,6BAAK,IAAI,EAAE,CAAN,EAAS,EAAE,GAAF,CAAM,KAAK,SAAL,CAAe,CAAf,CAAN,EAAyB,CAAzB,CAAT,EAAsC,EAAE,OAAF,CAAU,CAAV,CAA3C,IAA2D,EAAE,MAAF,CAAS,CAAT,CAA3D;AACH,qBAFkB,CAAnB;AAGA,sBAAE,OAAF,CAAU,IAAV,CAAe,UAAS,CAAT,EAAY;AACvB,4BAAI,IAAI,EAAE,GAAN,CAAU;AACV,oCAAQ;AACJ,mCAAG;AADC;AADE,yBAAV,CAAJ;AAKA,0BAAE,OAAF,CAAU,CAAV;AACH,qBAPD;AAQH,iBAdD;AAeA,uBAAO,EAAE,OAAT;AACH,aAlBD;AAmBA,mBAAO,CAAP;AACH,SA5PI,CAAT;AA8PH,KAxRwF,CAA7F;AA0RH,CA3RD,EA2RG,OAAO,OA3RV,EA4RI,OAAO,GA5RX,EA4RgB,OAAO,UA5RvB;;;;ACDA,CAAC,YAAU;AACP,YAAQ,MAAR,CAAe,cAAf,EACK,UADL,CACgB,sBADhB,EACwC,CAChC,QADgC,EAEhC,mBAFgC,EAGhC,aAHgC,EAIhC,oBAJgC,CADxC;;AAOA,aAAS,oBAAT,CAA8B,MAA9B,EAAsC,iBAAtC,EAAyD,WAAzD,EAAsE;AAClE,eAAO,MAAP,GAAgB,UAAS,IAAT,EAAe;AAC3B,oBAAQ,GAAR,CAAY,IAAZ;AACA,wBAAY,UAAZ,CAAuB,IAAvB;AACA,8BAAkB,KAAlB;AACH,SAJD;AAKA,eAAO,MAAP,GAAgB,YAAW;AACvB,8BAAkB,OAAlB,CAA0B,QAA1B;AACH,SAFD;AAGH;AACJ,CAlBD;;;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,cADZ,EAEK,OAFL,CAEa,aAFb,EAE4B,CACpB,IADoB,EAEpB,OAFoB,EAGpB,QAHoB,EAIpB,eAJoB,EAKpB,YALoB,EAMpB,WANoB,CAF5B;;AAWA,aAAS,WAAT,CAAqB,EAArB,EAAyB,KAAzB,EAAgC,MAAhC,EAAwC,aAAxC,EAAuD,UAAvD,EAAmE;;AAE/D,YAAI,YAAY,GAAG,KAAH,EAAhB;AACA,YAAI,cAAc,UAAU,OAA5B;;AAEA,YAAI,YAAY,GAAG,KAAH,EAAhB;AACA,YAAI,cAAc,UAAU,OAA5B;;AAEA,YAAI,YAAY,cAAc,MAAd,CAAhB;;AAEA,YAAI,UAAU;AACV,mBAAO,IADG;AAEV,wBAAY,iBAFF;AAGV,sBAAU,eAHA;AAIV,uBAAW,gBAJD;AAKV,yBAAa,aALH;AAMV,0BAAc,kBANJ;AAOV,yBAAa,cAPH;AAQV,oBAAQ,qBARE;AASV,yBAAa,SATH;AAUV,4BAAgB,CAAC,WAAD,EAAc,UAAd,EAA0B,OAA1B,EAAmC,WAAnC,EAAgD,QAAhD,EAA0D,SAA1D,CAVN;AAWV,qBAAS,OAXC;AAYV,qBAAS,OAZC;AAaV,qBAAS,OAbC;AAcV,oBAAQ,MAdE;AAeV,sBAAU,QAfA;AAgBV,4BAAgB,cAhBN;AAiBV,wBAAY,UAjBF;AAkBV,2BAAe,aAlBL;AAmBV,6BAAiB,eAnBP;AAoBV,iCAAqB,mBApBX;AAqBV,yBAAa;AArBH,SAAd;;AAwBA,eAAO,OAAP;;AAEA,iBAAS,OAAT,GAAmB;AACf,oBAAQ,KAAR,CAAc,OAAd;AACA,oBAAQ,KAAR,GAAgB,IAAhB;AACH;;AAED,iBAAS,OAAT,CAAiB,IAAjB,EAAuB;AACnB,mBAAO,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC3B,oBAAI,CAAC,CAAC,IAAN,EAAY;AACR,yBAAK,UAAL,CAAgB,UAAC,GAAD,EAAM,OAAN,EAAkB;AAC9B,4BAAI,QAAQ,OAAR,EAAJ,EAAuB;AACnB,uCAAW,eAAX,CAA2B,QAAQ,UAAR,GAAqB,WAArB,EAA3B;AACA,uCAAW,GAAX;AACA,oCAAQ,GAAR,CAAY,6BAAZ;AACA,oCAAQ,KAAR,GAAgB,IAAhB;AACA,iCAAK,iBAAL,CAAuB,UAAC,GAAD,EAAM,UAAN,EAAqB;AACxC,oCAAI,GAAJ,EAAS;AACL,4CAAQ,GAAR,CAAY,GAAZ;AACA,2CAAO,GAAP;AACH;;;AAGD,oCAAI,cAAc,aAAa,UAAb,CAAlB;AACA,4CAAY,UAAZ,GAAyB,IAAI,MAAJ,CAAW,WAAX,CAAuB,MAAvB,CAA8B,UAAvD;AACA,0CAAU,OAAV,CAAkB,WAAlB;AACH,6BAVD;AAWA,oCAAQ,IAAR;AACH,yBAjBD,MAiBO;AACH,mCAAO,mBAAP;AACA,sCAAU,MAAV,CAAiB,oBAAjB;AACH;AAEJ,qBAvBD;AAwBH,iBAzBD,MAyBO;AACH,2BAAO,UAAP;AACH;AACJ,aA7BM,CAAP;AA8BH;;AAED,iBAAS,OAAT,GAAmB;AACf,mBAAO,WAAP;AACH;;AAED,iBAAS,WAAT,CAAqB,QAArB,EAA+B;AAC3B,oBAAQ,OAAR,GACK,IADL,CACU,gBAAQ;AACV,2BAAW,MAAX,GAAoB,IAApB,CAAyB,kBAAU;;AAE/B,2BAAO,EAAP,CAAU,KAAV,EAAiB;AACb,mCAAW,QAAQ,UADN;AAEb,6BAAK;AACD,0CAAc,KAAK;AADlB;AAFQ,qBAAjB,EAMK,IANL,CAMU;AAAA,+BAAQ,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;;AAElC,mCAAO,EAAP,CAAU,KAAV,EAAiB;AACb,2CAAW,QAAQ,UADN;AAEb,sCAAM;AACF,kDAAc,KAAK,KADjB;AAEF,+CAAW,KAAK,OAFd;AAGF,+CAAW,KAAK,UAHd;AAIF,4CAAQ,CAAC,QAAD;AAJN;AAFO,6BAAjB,EAUC,IAVD,CAUM,gBAAQ;;AAEV,wCAAQ,GAAR,CAAY,aAAZ,EAA2B,KAAK,IAAhC;AACH,6BAbD,EAaG,eAAO;;;AAGN,wCAAQ,GAAR,CAAY,UAAZ;AACH,6BAjBD;AAkBH,yBApBa,CAAR;AAAA,qBANV;AA4BH,iBA9BD;AA+BH,aAjCL;AAkCH;;AAED,iBAAS,MAAT,GAAkB;AACd,oBAAQ,OAAR,GACK,IADL,CACU,gBAAQ;;AAEV,oBAAI,MAAM,UAAU,GAAV,CAAc,KAAK,SAAL,CAAe,IAAf,CAAd,CAAV;AACA,oBAAI,CAAC,CAAC,GAAN,EAAW;AACP,2BAAO,UAAU,OAAV,CAAkB,GAAlB,CAAP;AACH;;AAED,2BAAW,MAAX,GAAoB,IAApB,CAAyB,kBAAU;;AAE/B,2BAAO,EAAP,CAAU,KAAV,EAAiB;AACb,mCAAW,QAAQ,UADN;AAEb,6BAAK;AACD,0CAAc,KAAK;AADlB;AAFQ,qBAAjB,EAMK,IANL,CAMU;AAAA,+BAAQ,GAAG,UAAC,OAAD,EAAU,MAAV,EAAqB;AAClC,gCAAI,OAAO,IAAP,CAAY,IAAZ,EAAkB,MAAlB,KAA6B,CAAjC,EAAoC;;;AAGhC,uCAAO,EAAP,CAAU,KAAV,EAAiB;AACb,+CAAW,QAAQ,UADN;AAEb,0CAAM;AACF,sDAAc,KAAK,KADjB;AAEF,mDAAW,KAAK,OAFd;AAGF,mDAAW,KAAK;AAHd;AAFO,iCAAjB,EAQK,IARL,CAQU,gBAAQ;AACV,4CAAQ,KAAK,IAAb;AACH,iCAVL,EAUO,eAAO;AACN,+CAAW,gBAAX,EAA6B,IAAI,KAAJ,CAAU,GAAV,CAA7B;AACA,2CAAO,GAAP;AACH,iCAbL;AAcH,6BAjBD,MAiBO;AACH,wCAAQ,KAAK,IAAb;AACH;AACJ,yBArBa,CAAR;AAAA,qBANV,EA6BC,IA7BD,CA6BM,oBAAY;;AAEd,4BAAI,OAAO,SAAS,IAAT,CAAc,MAAzB;AACA,4BAAI,eAAe,EAAnB;AACA,qCAAa,QAAQ,SAArB,IAAkC;AAClC,kCAAM,KAAK,GAAL,CAAS;AAAA,uCAAQ;AACnB,8CAAU;AADS,iCAAR;AAAA,6BAAT;AAD4B,yBAAlC;;AAMA,+BAAO,EAAP,CAAU,MAAV,EAAkB;AACd,0CAAc,YADA;AAEd,oDAAwB;AAFV,yBAAlB,EAIK,IAJL,CAIU,oBAAY;;AAEd,gCAAI,MAAM,SAAS,SAAT,CAAmB,QAAQ,SAA3B,EAAsC,GAAtC,CAA0C,eAAO;AACvD,oCAAI,IAAI,EAAR;AACA,wCAAQ,OAAR,CAAgB,GAAhB,EAAqB,UAAC,GAAD,EAAM,GAAN,EAAc;;AAE/B,sCAAE,UAAU,GAAV,CAAF,IAAoB,CAAC,CAAC,IAAI,MAAN,IAAgB,OAAO,IAAI,MAAX,KAAsB,UAAtC,GAAmD,MAAM,IAAN,CAAW,IAAI,MAAJ,EAAX,CAAnD,GAA8E,GAAlG;AACH,iCAHD;AAIA,uCAAO,CAAP;AACH,6BAPS,CAAV;AAQA,sCAAU,GAAV,CAAc,KAAK,SAAL,CAAe,IAAf,CAAd,EAAoC,IAAI,CAAJ,CAApC;AACA,sCAAU,OAAV,CAAkB,IAAI,CAAJ,CAAlB;AACH,yBAhBL,EAiBK,KAjBL,CAiBW;AAAA,mCAAO,UAAU,MAAV,CAAiB,GAAjB,CAAP;AAAA,yBAjBX;AAkBH,qBAzDD;AA0DH,iBA5DD;AA6DH,aArEL;AAsEA,mBAAO,WAAP;AACH;;AAGD,iBAAS,QAAT,CAAkB,IAAlB,EAAwB;AACpB,qBAAS,YAAT,CAAsB,KAAtB,EAA6B;AACzB,qBAAK,IAAI,IAAI,MAAM,MAAN,GAAe,CAA5B,EAA+B,IAAI,CAAnC,EAAsC,GAAtC,EAA2C;AACvC,wBAAI,IAAI,KAAK,KAAL,CAAW,KAAK,MAAL,MAAiB,IAAI,CAArB,CAAX,CAAR;AACA,wBAAI,OAAO,MAAM,CAAN,CAAX;AACA,0BAAM,CAAN,IAAW,MAAM,CAAN,CAAX;AACA,0BAAM,CAAN,IAAW,IAAX;AACH;AACD,uBAAO,KAAP;AACH;;AAED,gBAAI,SAAS,KAAK,MAAL,CAAY,CAAZ,EAAe,QAA5B;AACA,gBAAI,YAAY,UAAU,GAAV,CAAc;AAAA,uBAAM;AAChC,uBAAG,EAAE,GAD2B;AAEhC,uBAAG,EAAE;AAF2B,iBAAN;AAAA,aAAd,CAAhB;;AAKA,gBAAI,WAAW,aAAa,SAAb,CAAf;AACA,uBAAW,MAAX,GAAoB,IAApB,CAAyB,UAAS,MAAT,EAAiB;AACtC,oBAAI,IAAI,GAAG,KAAH,EAAR;AACA,uBAAO,MAAP,CAAc;AACV,6BAAS;AACL,gCAAQ,KAAK;AADR,qBADC;AAIV,kCAAc,6DAJJ;AAKV,oCAAgB;AALN,iBAAd,EAMG,UAAS,GAAT,EAAc,QAAd,EAAwB;AACvB,wBAAI,GAAJ,EACI,EAAE,MAAF,CAAS,GAAT,EADJ,KAGI,EAAE,OAAF,CAAU,QAAV;AACP,iBAXD;AAYA,uBAAO,EAAE,OAAT;AACH,aAfD,EAgBK,IAhBL,CAgBU,UAAS,QAAT,EAAmB;AACrB,wBAAQ,GAAR,CAAY,QAAZ;AACH,aAlBL,EAkBO,UAAS,IAAT,EAAe;AACd,wBAAQ,GAAR,CAAY,IAAZ;AACH,aApBL;AAqBH;;AAED,iBAAS,cAAT,CAAwB,IAAxB,EAA8B;AAC1B,gBAAI,IAAI,GAAG,KAAH,EAAR;;;AAGA,oBAAQ,GAAR,CAAY,IAAZ;;;;;;;;;;;;;;;;AAgBA,oBAAQ,GAAR,CAAY,IAAZ;AACA,kBAAM,IAAN,CACI,WADJ,EAEI,QAAQ,MAAR,CAAe,IAAf,CAFJ,EAGI,MAHJ,EAIE,IAJF,CAIO,UAAS,OAAT,EAAkB;;AAErB,oBAAI,OAAO,QAAQ,QAAR,CAAiB,OAAjB,EAA0B,IAArC;;AAEA,kBAAE,OAAF,CAAU,IAAV;AACH,aATD;AAUA,mBAAO,EAAE,OAAT;AACH;;AAED,iBAAS,UAAT,CAAoB,IAApB,EAA0B;AACtB,oBAAQ,aAAR,CAAsB,IAAtB,EAA4B,KAAK,MAAL,GAAc,YAA1C;AACH;;AAED,iBAAS,aAAT,CAAuB,IAAvB,EAA6B,GAA7B,EAAkC;AAC9B,oBAAQ,GAAR,CAAY,IAAZ;AACA,uBAAW,EAAX,GAAgB,IAAhB,CAAqB,UAAS,EAAT,EAAa;AAC9B,mBAAG,SAAH,CAAa;AACT,yBAAK,GADI;AAET,4BAAQ,QAAQ,MAFP;AAGT,0BAAM,QAAQ,MAAR,CAAe,IAAf,CAHG;AAIT,yBAAK,2BAJI;AAKT,kCAAc;AALL,iBAAb,EAOK,IAPL,CAOU,QAAQ,GAPlB,EAOuB,QAAQ,GAP/B;AAQH,aATD;AAUH;;AAED,iBAAS,eAAT,GAA2B,CAG1B;;AAED,iBAAS,mBAAT,CAA6B,MAA7B,EAAqC,KAArC,EAA4C,OAA5C,EAAqD;AACjD,mBAAQ,OAAD,GAAY,wCAA0B,SAA1B,CAAZ,GAAmD,iCAAmB,SAAnB,CAA1D;AACH;;AAED,iBAAS,sBAAT,CAAgC,IAAhC,EAAsC,SAAtC,EAAiD;AAC7C,gBAAI,SAAS,EAAb;AACA,mBAAO,SAAP,IAAoB;AAChB,4BAAY;AACR,0BAAM;AADE;AADI,aAApB;AAKA,mBAAO,MAAP;AACH;;AAED,iBAAS,eAAT,CAAyB,IAAzB,EAA+B,SAA/B,EAA0C;AACtC,gBAAI,SAAS,EAAb;AACA,qBAAS;AACL,2BAAW,SADN;AAEL,sBAAM;AAFD,aAAT;AAIA,mBAAO,MAAP;AACH;;;AAGD,iBAAS,aAAT,CAAuB,eAAvB,EAAwC,SAAxC,EAAmD;AAC/C,mBAAO,YAAW;AACd,gCAAgB,MAAhB,CAAuB,SAAvB;AACH,aAFD;AAGH;;AAED,iBAAS,YAAT,CAAsB,GAAtB,EAA2B;AACvB,mBAAO,IAAI,MAAJ,CACH,UAAS,aAAT,EAAwB,YAAxB,EAAsC,YAAtC,EAAoD,KAApD,EAA2D;AACvD,8BAAc,UAAU,aAAa,IAAvB,CAAd,IAA8C,aAAa,KAA3D;AACA,uBAAO,aAAP;AACH,aAJE,EAIA,EAJA,KAIO,EAJd;AAKH;;;;;AAMD,iBAAS,QAAT,CAAkB,CAAlB,EAAqB;AACjB,2BAAe,CAAf,yCAAe,CAAf;AACI,qBAAK,QAAL;AACI,2BAAO,OAAO,EAAE,OAAF,CAAU,CAAV,CAAP,CAAP;AACA;AACJ,qBAAK,QAAL;AACI,wBAAI,CAAC,CAAL,EAAQ;AACJ,+BAAO,GAAP;AACH;AACD,yBAAK,IAAI,CAAT,IAAc,CAAd,EAAiB;AACb,0BAAE,CAAF,IAAO,SAAS,EAAE,CAAF,CAAT,CAAP;AACH;AACD;AAXR;AAaA,mBAAO,CAAP;AACH;;AAED,iBAAS,SAAT,CAAmB,IAAnB,EAAyB;AACrB,gBAAI,uBAAuB,iBAA3B;AACA,gBAAI,kBAAkB,aAAtB;AACA,mBAAO,KACP,OADO,CACC,oBADD,EACuB,UAAS,CAAT,EAAY,SAAZ,EAAuB,MAAvB,EAA+B,MAA/B,EAAuC;AACjE,uBAAO,SAAS,OAAO,WAAP,EAAT,GAAgC,MAAvC;AACH,aAHM,EAIP,OAJO,CAIC,eAJD,EAIkB,OAJlB,CAAP;AAKH;AAIJ;AACJ,CApXD;;;ACAA,CAAC,YAAW;AACR,QAAI,cAAc,QAAQ,MAAR,CAAe,cAAf,EAA+B,EAA/B,CAAlB;;AAEA,gBAAY,SAAZ,CAAsB,cAAtB,EAAsC,qBAAtC;;AAEA,aAAS,qBAAT,GAAiC;AAC7B,YAAI,aAAa,SAAb,UAAa,CAAS,MAAT,EAAiB;AAC9B,mBAAO,iBAAP,GAA2B,YAAW;AAClC,uBAAO,OAAP,GAAiB,CAAC,OAAO,OAAzB;AACH,aAFD;AAGH,SAJD;;AAMA,eAAO;AACH,sBAAU,GADP;AAEH,wBAAY,CAAC,QAAD,EAAW,UAAX,CAFT;AAGH,kBAAM,cAAS,MAAT,EAAiB,OAAjB,EAA0B,KAA1B,EAAiC;AACnC,uBAAO,OAAP,GAAiB,MAAM,gBAAN,IAA0B,IAA3C;AACH,aALE;AAMH,wBAAY,IANT;AAOH,yBAAa;AAPV,SAAP;AASH;AAEJ,CAvBD;;;;;;;;;;;;;;ACSC,WAAU,IAAV,EAAgB,OAAhB,EAAyB;;AAExB;;AACA,MAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,OAAO,OAA5C,EAAqD;;AAEnD,WAAO,OAAP,GAAiB,QAAQ,QAAQ,SAAR,CAAR,CAAjB;AACD,GAHD,MAGO,IAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EAAgD;;AAErD,WAAO,CAAC,SAAD,CAAP,EAAoB,OAApB;AACD,GAHM,MAGA;;AAEL,YAAQ,KAAK,OAAb;AACD;;AAEF,CAdA,EAcC,MAdD,EAcS,UAAU,OAAV,EAAmB;AAC3B;;AAEA,UAAQ,MAAR,CAAe,kBAAf,EAAmC,EAAnC,EAAuC,SAAvC,CAAiD,iBAAjD,EAAoE,CAAC,IAAD,EAAO,QAAP,EAAiB,OAAjB,EAA0B,MAA1B,EAAkC,UAAlC,EAA8C,gBAA9C,EAAgE,cAAhE,EAAgF,UAAU,EAAV,EAAc,MAAd,EAAsB,KAAtB,EAA6B,IAA7B,EAAmC,QAAnC,EAA6C,cAA7C,EAA6D,YAA7D,EAA2E;;AAE7N,QAAI,SAAU,EAAd;AACA,QAAI,SAAU,EAAd;AACA,QAAI,SAAU,EAAd;AACA,QAAI,SAAU,EAAd;AACA,QAAI,SAAU,EAAd;AACA,QAAI,SAAU,EAAd;AACA,QAAI,UAAW,CAAf;;AAEA,QAAI,aAAa,CAAjB;AACA,QAAI,aAAa,MAAjB;AACA,QAAI,QAAQ,GAAZ;AACA,QAAI,eAAe,GAAnB;;;AAGA,QAAI,iBAAiB,uBAArB;AACA,QAAI,iBAAiB,cAArB;AACA,QAAI,iBAAiB,kBAArB;AACA,QAAI,eAAe,8BAAnB;;;AAGA,mBAAe,GAAf,CAAmB,YAAnB,EACI,mGACA,wdADA,GAEA,mFAFA,GAGA,4FAHA,GAIA,kIAJA,GAKA,sMALA,GAMA,kEANA,GAOA,kHAPA,GAQA,sGARA,GASA,cATA,GAUA,6FAVA,GAWA,oFAXA,GAYA,6JAZA,GAaA,kJAbA,GAcA,YAdA,GAeA,UAfA,GAgBA,QAjBJ;;AAoBA,aAAS,IAAT,CAAc,KAAd,EAAqB,IAArB,EAA2B,KAA3B,EAAkC,IAAlC,EAAwC;AACtC,UAAI,aAAa,KAAK,IAAL,CAAU,OAAV,CAAjB;AACA,UAAI,YAAY,UAAhB;AACA,UAAI,cAAc,IAAlB;AACA,UAAI,SAAJ;AACA,UAAI,oBAAoB,cAAxB;AACA,UAAI,iBAAJ;AACA,UAAI,aAAa,IAAjB;AACA,UAAI,gBAAgB,IAApB;AACA,UAAI,KAAK,KAAK,CAAL,EAAQ,aAAR,CAAsB,wBAAtB,CAAT;AACA,UAAI,aAAa,KAAjB;AACA,UAAI,cAAc,IAAlB;AACA,UAAI,kBAAJ;AACA,UAAI,gBAAJ;AACA,UAAI,gBAAJ;;AAEA,WAAK,EAAL,CAAQ,WAAR,EAAqB,UAAS,KAAT,EAAgB;AACnC,YAAI,MAAM,MAAN,CAAa,EAAjB,EAAqB;AACnB,wBAAc,MAAM,MAAN,CAAa,EAA3B;AACA,cAAI,gBAAgB,MAAM,EAAN,GAAW,WAA/B,EAA4C;AAC1C,qBAAS,IAAT,CAAc,gBAAd,CAA+B,OAA/B,EAAwC,0BAAxC;AACD;AACF,SALD,MAMK;AACH,wBAAc,MAAM,MAAN,CAAa,SAA3B;AACD;AACF,OAVD;;AAYA,YAAM,YAAN,GAAqB,MAAM,UAAN,GAAmB,CAAnB,GAAuB,IAA5C;AACA,YAAM,SAAN,GAAkB,KAAlB;AACA,2BAAqB,MAAM,MAAN,CAAa,cAAb,EAA6B,UAAS,MAAT,EAAiB;AACjE,YAAI,MAAJ,EAAY;;AAEV;;AAEA,4BAAkB,MAAlB,EAA0B,IAA1B;AACD;AACF,OAPoB,CAArB;;AASA,YAAM,MAAN,CAAa,eAAb,EAA8B,UAAS,MAAT,EAAiB,MAAjB,EAAyB;AACrD,YAAI,WAAW,MAAf,EAAuB;AACrB,cAAI,CAAC,MAAL,EAAa;AACX,iBAAK,MAAM,SAAX,EAAsB,YAAtB,CAAmC,iBAAnC,EAAsD,IAAtD;AACD,WAFD,MAGK,IAAI,CAAC,UAAD,IAAe,MAAM,YAAN,KAAuB,CAAC,CAA3C,EAA8C;AACjD,2BAAe,KAAf;AACD,WAFI,MAGA;AACH,2BAAe,IAAf;AACD;AACF;AACF,OAZD;;AAcA,YAAM,GAAN,CAAU,6BAAV,EAAyC,UAAU,KAAV,EAAiB,SAAjB,EAA4B;AACnE,YAAI,CAAC,SAAD,IAAc,cAAc,MAAM,EAAtC,EAA0C;AACxC,gBAAM,SAAN,GAAkB,IAAlB;AACA;AACA,yBAAe,KAAf;AACA;AACD;AACF,OAPD;;AASA,YAAM,GAAN,CAAU,8BAAV,EAA0C,UAAU,KAAV,EAAiB,SAAjB,EAA4B,MAA5B,EAAoC;AAC5E,YAAI,CAAC,CAAC,SAAF,IAAe,cAAc,MAAM,EAAvC,EAA2C;AACzC,4BAAkB,MAAlB;AACD;AACF,OAJD;;AAMA,eAAS,iBAAT,CAA2B,MAA3B,EAAmC,OAAnC,EAA4C;AAC1C,YAAI,MAAJ,EAAY;AACV,cAAI,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAAtB,EAAgC;AAC9B,kBAAM,SAAN,GAAkB,aAAa,MAAb,CAAlB;AACA,yBAAa,EAAC,gBAAgB,MAAjB,EAAb;AACD,WAHD,MAGO,IAAI,OAAO,MAAP,KAAkB,QAAlB,IAA8B,OAAO,MAAP,GAAgB,CAAlD,EAAqD;AAC1D,kBAAM,SAAN,GAAkB,MAAlB;AACD,WAFM,MAEA;AACL,gBAAI,WAAW,QAAQ,KAAvB,EAA8B;AAC5B,sBAAQ,KAAR,CAAc,mBAAmB,CAAC,CAAC,OAAF,GAAY,SAAZ,GAAwB,EAA3C,IAAiD,2BAA/D,EAA4F,MAA5F,EAAoG,2BAApG;AACD;AACF;;AAED,yBAAe,IAAf;AACD;AACF;;;AAGD,eAAS,0BAAT,CAAoC,KAApC,EAA2C;AACzC,sBAAc,IAAd;AACA,cAAM,WAAN,CAAkB,KAAlB;AACA,iBAAS,IAAT,CAAc,mBAAd,CAAkC,OAAlC,EAA2C,0BAA3C;AACD;;;AAGD,eAAS,kBAAT,CAA4B,KAA5B,EAAmC;AACjC,eAAO,MAAM,KAAN,GAAc,MAAM,KAApB,GAA4B,MAAM,OAAzC;AACD;;AAED,eAAS,YAAT,CAAsB,KAAtB,EAA6B;AAC3B,YAAI,OAAO,MAAM,cAAb,KAAgC,UAApC,EAAgD;AAC9C,gBAAM,cAAN,CAAqB,KAArB,EAA4B,MAAM,kBAAlC;AACD,SAFD,MAGK;AACH,gBAAM,cAAN,GAAuB,KAAvB;AACD;;AAED,YAAI,KAAJ,EAAW;AACT,yBAAe,IAAf;AACD,SAFD,MAGK;AACH,yBAAe,KAAf;AACD;AACF;;AAED,eAAS,sBAAT,CAAgC,EAAhC,EAAoC;AAClC,eAAO,UAAS,IAAT,EAAe;AACpB,iBAAO,MAAM,EAAN,IAAY,MAAM,EAAN,EAAU,IAAV,CAAZ,GAA8B,IAArC;AACD,SAFD;AAGD;;AAED,eAAS,cAAT,CAAwB,GAAxB,EAA6B;AAC3B,qBAAa,EAAC,gBAAgB,GAAjB,EAAb;;AAEA,YAAI,MAAM,aAAV,EAAyB;AACvB,gBAAM,SAAN,GAAkB,IAAlB;AACD;AACD;AACD;;AAED,eAAS,YAAT,CAAsB,IAAtB,EAA4B;;AAE1B,eAAO,MAAM,UAAN,CAAiB,KAAjB,CAAuB,GAAvB,EACJ,GADI,CACA,UAAS,KAAT,EAAgB;AACnB,iBAAO,aAAa,IAAb,EAAmB,KAAnB,CAAP;AACD,SAHI,EAIJ,IAJI,CAIC,GAJD,CAAP;AAKD;;AAED,eAAS,YAAT,CAAsB,GAAtB,EAA2B,GAA3B,EAAgC;AAC9B,YAAI,IAAJ,EAAU,MAAV;AACA,YAAI,GAAJ,EAAS;AACP,iBAAM,IAAI,KAAJ,CAAU,GAAV,CAAN;AACA,mBAAS,GAAT;AACA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAzB,EAAiC,GAAjC,EAAsC;AACpC,qBAAS,OAAO,KAAK,CAAL,CAAP,CAAT;AACD;AACF,SAND,MAOK;AACH,mBAAS,GAAT;AACD;AACD,eAAO,MAAP;AACD;;AAED,eAAS,eAAT,CAAyB,MAAzB,EAAiC,GAAjC,EAAsC;AACpC,YAAI,MAAJ,EAAY,OAAZ,EAAqB,EAArB;;;AAGA,aAAK,IAAI,MAAJ,CAAW,IAAI,OAAJ,CAAY,qBAAZ,EAAmC,MAAnC,CAAX,EAAuD,GAAvD,CAAL;AACA,YAAI,CAAC,MAAL,EAAa;AAAE;AAAS;AACxB,YAAI,CAAC,OAAO,KAAR,IAAiB,CAAC,OAAO,OAA7B,EAAsC;AAAE,mBAAS,OAAO,QAAP,EAAT;AAA6B;AACrE,kBAAU,OAAO,KAAP,CAAa,EAAb,CAAV;AACA,YAAI,OAAJ,EAAa;AACX,mBAAS,OAAO,OAAP,CAAe,EAAf,EACL,kBAAiB,MAAM,UAAvB,GAAmC,IAAnC,GAAyC,QAAQ,CAAR,CAAzC,GAAqD,SADhD,CAAT;AAED,SAHD,MAIK;AACH,mBAAS,MAAT;AACD;AACD,eAAO,KAAK,WAAL,CAAiB,MAAjB,CAAP;AACD;;AAED,eAAS,cAAT,CAAwB,KAAxB,EAA+B;AAC7B,cAAM,QAAN,GAAiB,KAAjB;AACA,qBAAa,MAAM,SAAnB;AACA,YAAI,MAAM,aAAN,IAAuB,IAAvB,IAA+B,MAAM,SAAzC,EAAoD;AAClD,eAAK,MAAM,SAAX,EAAsB,YAAtB,CAAmC,iBAAnC,EAAsD,KAAtD;AACD;AACF;;AAED,eAAS,YAAT,CAAsB,KAAtB,EAA6B;AAC3B,YAAI,QAAQ,mBAAmB,KAAnB,CAAZ;AACA,YAAI,UAAU,MAAV,IAAoB,UAAU,MAAlC,EAA0C;;AAExC;AACD;;AAED,YAAI,UAAU,MAAV,IAAoB,UAAU,MAAlC,EAA0C;AACxC,gBAAM,cAAN;AACD,SAFD,MAGK,IAAI,UAAU,MAAd,EAAsB;AACzB,gBAAM,cAAN;AACA,cAAI,CAAC,MAAM,YAAP,IAAuB,MAAM,SAA7B,IAA0C,MAAM,SAAN,CAAgB,MAAhB,IAA0B,SAAxE,EAAmF;AACjF;AACA,kBAAM,SAAN,GAAkB,IAAlB;AACA,gCAAoB,MAAM,SAA1B;AACD;AACF,SAPI,MAQA,IAAI,UAAU,MAAd,EAAsB;AACzB;AACA,gBAAM,MAAN,CAAa,YAAW;AACtB,uBAAW,GAAX,CAAe,MAAM,SAArB;AACD,WAFD;AAGD,SALI,MAMA;AACH,cAAI,cAAc,CAAd,IAAmB,CAAC,MAAM,SAA9B,EAAyC;AACvC;AACD;;AAED,cAAI,CAAC,MAAM,SAAP,IAAoB,MAAM,SAAN,KAAoB,EAA5C,EAAgD;AAC9C,kBAAM,YAAN,GAAqB,KAArB;AACD,WAFD,MAEO,IAAI,MAAM,SAAN,CAAgB,MAAhB,IAA0B,SAA9B,EAAyC;AAC9C;;AAEA,gBAAI,WAAJ,EAAiB;AACf,uBAAS,MAAT,CAAgB,WAAhB;AACD;;AAED,kBAAM,SAAN,GAAkB,IAAlB;;AAEA,0BAAc,SAAS,YAAW;AAChC,kCAAoB,MAAM,SAA1B;AACD,aAFa,EAEX,MAAM,KAFK,CAAd;AAGD;;AAED,cAAI,cAAc,eAAe,MAAM,SAAnC,IAAgD,CAAC,MAAM,aAA3D,EAA0E;AACxE,kBAAM,MAAN,CAAa,YAAW;AACtB;AACD,aAFD;AAGD;AACF;AACF;;AAED,eAAS,yBAAT,CAAmC,KAAnC,EAA0C;AACxC,YAAI,MAAM,mBAAN,IACA,EAAE,MAAM,cAAN,IAAwB,MAAM,cAAN,CAAqB,cAArB,KAAwC,MAAM,SAAxE,CADJ,EACwF;AACtF,cAAI,KAAJ,EAAW;AACT,kBAAM,cAAN;AACD;;;AAGD,mBAAS,MAAT,CAAgB,WAAhB;;AAEA;;AAEA,yBAAe,MAAM,SAArB;AACD;AACF;;AAED,eAAS,uBAAT,CAAiC,GAAjC,EAAsC;AACpC,YAAI,MAAM,iBAAiB,GAAjB,CAAV;AACA,eAAO,IAAI,YAAJ,GACL,SAAS,IAAI,SAAb,EAAwB,EAAxB,CADK,GACyB,SAAS,IAAI,YAAb,EAA2B,EAA3B,CADhC;AAED;;AAED,eAAS,cAAT,GAA0B;AACxB,eAAO,GAAG,qBAAH,GAA2B,GAA3B,GACL,SAAS,iBAAiB,EAAjB,EAAqB,SAA9B,EAAyC,EAAzC,CADF;AAED;;AAED,eAAS,WAAT,GAAuB;AACrB,eAAO,KAAK,CAAL,EAAQ,gBAAR,CAAyB,mBAAzB,EAA8C,MAAM,YAApD,CAAP;AACD;;AAED,eAAS,cAAT,GAA0B;AACxB,eAAO,cAAc,qBAAd,GAAsC,GAAtC,IACJ,GAAG,qBAAH,GAA2B,GAA3B,GACA,SAAS,iBAAiB,EAAjB,EAAqB,UAA9B,EAA0C,EAA1C,CAFI,CAAP;AAGD;;AAED,eAAS,mBAAT,CAA6B,MAA7B,EAAqC;AACnC,WAAG,SAAH,GAAe,GAAG,SAAH,GAAe,MAA9B;AACD;;AAED,eAAS,gBAAT,GAA2B;AACzB,YAAI,UAAU,MAAM,OAAN,CAAc,MAAM,YAApB,CAAd;AACA,YAAI,MAAM,UAAV,EAAsB;AACpB,qBAAW,GAAX,CAAe,aAAa,QAAQ,cAArB,CAAf;AACD,SAFD,MAGK;AACH,qBAAW,GAAX,CAAe,QAAQ,KAAvB;AACD;AACF;;AAED,eAAS,cAAT,CAAwB,KAAxB,EAA+B;AAC7B,YAAI,QAAQ,mBAAmB,KAAnB,CAAZ;AACA,YAAI,MAAM,IAAV;AACA,YAAI,SAAS,IAAb;;AAEA,YAAI,UAAU,MAAV,IAAoB,MAAM,OAA9B,EAAuC;AACrC,cAAI,MAAM,YAAN,IAAsB,CAAtB,IAA2B,MAAM,YAAN,GAAqB,MAAM,OAAN,CAAc,MAAlE,EAA0E;AACxE,kBAAM,cAAN;AACA,kBAAM,YAAN,CAAmB,MAAM,OAAN,CAAc,MAAM,YAApB,CAAnB;AACD,WAHD,MAGO;AACL,sCAA0B,KAA1B;AACA;AACD;AACD,gBAAM,MAAN;AACD,SATD,MASO,IAAI,UAAU,MAAV,IAAoB,MAAM,OAA9B,EAAuC;AAC5C,gBAAM,cAAN;AACA,cAAK,MAAM,YAAN,GAAqB,CAAtB,GAA2B,MAAM,OAAN,CAAc,MAAzC,IAAmD,MAAM,YAA7D,EAA2E;AACzE,kBAAM,MAAN,CAAa,YAAW;AACtB,oBAAM,YAAN;AACA;AACD,aAHD;;AAKA,gBAAI,UAAJ,EAAgB;AACd,oBAAM,aAAN;AACA,kBAAI,mBAAmB,IAAI,qBAAJ,GAA4B,MAAnD,EAA2D;AACzD,oCAAoB,wBAAwB,GAAxB,CAApB;AACD;AACF;AACF;AACF,SAfM,MAeA,IAAI,UAAU,MAAV,IAAoB,MAAM,OAA9B,EAAuC;AAC5C,gBAAM,cAAN;AACA,cAAI,MAAM,YAAN,IAAsB,CAA1B,EAA6B;AAC3B,kBAAM,MAAN,CAAa,YAAW;AACtB,oBAAM,YAAN;AACA;AACD,aAHD;;AAKA,gBAAI,UAAJ,EAAgB;AACd,uBAAS,gBAAT;AACA,kBAAI,SAAS,CAAb,EAAgB;AACd,oCAAoB,SAAS,CAA7B;AACD;AACF;AACF,WAZD,MAaK,IAAI,MAAM,YAAN,KAAuB,CAA3B,EAA8B;AACjC,kBAAM,MAAN,CAAa,YAAW;AACtB,oBAAM,YAAN,GAAqB,CAAC,CAAtB;AACA,yBAAW,GAAX,CAAe,MAAM,SAArB;AACD,aAHD;AAID;AACF,SArBM,MAqBA,IAAI,UAAU,OAAd,EAAuB;AAC5B,cAAI,MAAM,OAAN,IAAiB,MAAM,OAAN,CAAc,MAAd,GAAuB,CAAxC,IAA6C,MAAM,YAAvD,EAAqE;AACnE,gBAAI,MAAM,YAAN,KAAuB,CAAC,CAAxB,IAA6B,MAAM,mBAAvC,EAA4D;;;AAG1D;AACD,aAJD,MAKK;AACH,kBAAI,MAAM,YAAN,KAAuB,CAAC,CAA5B,EAA+B;AAC7B,sBAAM,YAAN,GAAqB,CAArB;AACD;AACD,oBAAM,YAAN,CAAmB,MAAM,OAAN,CAAc,MAAM,YAApB,CAAnB;AACA,oBAAM,OAAN;AACD;AACF,WAbD,MAcK;;;;AAIH,gBAAI,MAAM,SAAN,IAAmB,MAAM,SAAN,CAAgB,MAAhB,GAAyB,CAAhD,EAAmD;AACjD;AACD;AACF;AACF,SAvBM,MAuBA,IAAI,UAAU,MAAd,EAAsB;;;AAG3B,gBAAM,cAAN;AACD;AACF;;AAED,eAAS,sBAAT,CAAgC,GAAhC,EAAqC;AACnC,eAAO,UAAS,YAAT,EAAuB,MAAvB,EAA+B,OAA/B,EAAwC,MAAxC,EAAgD;;AAErD,cAAI,CAAC,MAAD,IAAW,CAAC,OAAZ,IAAuB,CAAC,MAAxB,IAAkC,aAAa,IAAnD,EAAyD;AACvD,2BAAe,aAAa,IAA5B;AACD;AACD,gBAAM,SAAN,GAAkB,KAAlB;AACA,yBACE,aAAa,kBAAkB,YAAlB,CAAb,EAA8C,MAAM,kBAApD,CADF,EAEE,GAFF;AAGD,SATD;AAUD;;AAED,eAAS,iBAAT,CAA2B,QAA3B,EAAqC,MAArC,EAA6C,OAA7C,EAAsD,MAAtD,EAA8D;AAC5D,cAAM,SAAN,GAAkB,KAAlB;;;AAGA,YAAI,WAAW,CAAX,IAAgB,WAAW,CAAC,CAAhC,EAAmC;AAAE;AAAS;;;AAG9C,YAAI,CAAC,MAAD,IAAW,CAAC,OAAZ,IAAuB,CAAC,MAA5B,EAAoC;AAClC,mBAAS,SAAS,MAAlB;AACD;AACD,YAAI,MAAM,sBAAV,EAAkC;AAChC,gBAAM,sBAAN,CAA6B,QAA7B,EAAuC,MAAvC,EAA+C,OAA/C,EAAwD,MAAxD;AACD,SAFD,MAGK;AACH,cAAI,WAAW,QAAQ,KAAvB,EAA8B;AAC5B,oBAAQ,KAAR,CAAc,YAAd;AACD;AACF;AACF;;AAED,eAAS,iBAAT,GAA6B;AAC3B,YAAI,aAAJ,EAAmB;AACjB,wBAAc,OAAd;AACD;AACF;;AAED,eAAS,gBAAT,CAA0B,GAA1B,EAA+B;AAC7B,YAAI,SAAS,EAAb;YACI,MAAM,MAAM,SAAN,GAAkB,mBAAmB,GAAnB,CAD5B;AAEA,YAAI,MAAM,yBAAV,EAAqC;AACnC,mBAAS,EAAC,QAAQ,MAAM,yBAAN,CAAgC,GAAhC,CAAT,EAAT;AACA,gBAAM,MAAM,SAAZ;AACD;AACD,YAAI,CAAC,CAAC,MAAM,+BAAZ,EAA6C;AAC3C,iBAAO,eAAP,GAAyB,IAAzB;AACD;AACD;AACA,wBAAgB,GAAG,KAAH,EAAhB;AACA,eAAO,OAAP,GAAiB,cAAc,OAA/B;AACA,cAAM,GAAN,CAAU,GAAV,EAAe,MAAf,EACG,OADH,CACW,uBAAuB,GAAvB,CADX,EAEG,KAFH,CAES,iBAFT;AAGD;;AAED,eAAS,iCAAT,CAA2C,GAA3C,EAAgD;AAC9C;;AAEA,wBAAgB,GAAG,KAAH,EAAhB;;AAEA,cAAM,gBAAN,CAAuB,GAAvB,EAA4B,cAAc,OAA1C,EACG,IADH,CACQ,uBAAuB,GAAvB,CADR,EAEG,KAFH,CAES,iBAFT;;;;;;;AASD;;AAED,eAAS,YAAT,GAAwB;AACtB,cAAM,YAAN,GAAqB,KAArB;AACA,cAAM,OAAN,GAAgB,EAAhB;AACA,YAAI,EAAJ,EAAQ;AACN,aAAG,SAAH,GAAe,CAAf;AACD;AACF;;AAED,eAAS,WAAT,GAAuB;AACrB,cAAM,YAAN,GAAqB,gBAArB;AACA,cAAM,YAAN,GAAqB,MAAM,UAAN,GAAmB,CAAnB,GAAuB,CAAC,CAA7C;AACA,cAAM,OAAN,GAAgB,EAAhB;AACD;;AAED,eAAS,eAAT,CAAyB,GAAzB,EAA8B;AAC5B,YAAI,CAAJ;YAAO,KAAP;YAAc,CAAd;YAAiB,KAAjB;YACI,eAAe,MAAM,YAAN,CAAmB,KAAnB,CAAyB,GAAzB,CADnB;YAEI,UAAU,EAFd;AAGA,YAAI,OAAO,MAAM,UAAN,EAAP,KAA8B,WAAlC,EAA+C;AAC7C,gBAAM,MAAM,UAAN,GAAmB,GAAnB,CAAN;AACD;AACD,aAAK,IAAI,CAAT,EAAY,IAAI,MAAM,SAAN,CAAgB,MAAhC,EAAwC,GAAxC,EAA6C;AAC3C,kBAAQ,KAAR;;AAEA,eAAK,IAAI,CAAT,EAAY,IAAI,aAAa,MAA7B,EAAqC,GAArC,EAA0C;AACxC,oBAAQ,aAAa,MAAM,SAAN,CAAgB,CAAhB,CAAb,EAAiC,aAAa,CAAb,CAAjC,KAAqD,EAA7D;AACA,oBAAQ,SAAU,MAAM,QAAN,GAAiB,WAAjB,GAA+B,OAA/B,CAAuC,IAAI,QAAJ,GAAe,WAAf,EAAvC,KAAwE,CAA1F;AACD;;AAED,cAAI,KAAJ,EAAW;AACT,oBAAQ,QAAQ,MAAhB,IAA0B,MAAM,SAAN,CAAgB,CAAhB,CAA1B;AACD;AACF;AACD,eAAO,OAAP;AACD;;AAED,eAAS,eAAT,CAAyB,MAAzB,EAAiC,GAAjC,EAAsC,GAAtC,EAA0C;AACxC,YAAI,CAAC,GAAL,EAAU;AAAE,iBAAO,KAAP;AAAe;AAC3B,aAAI,IAAI,GAAR,IAAe,GAAf,EAAmB;AACjB,cAAG,IAAI,GAAJ,EAAS,WAAT,OAA2B,IAAI,WAAJ,EAA9B,EAAgD;AAC9C,kBAAM,YAAN,CAAmB,MAAnB;AACA,mBAAO,IAAP;AACD;AACF;AACD,eAAO,KAAP;AACD;;AAED,eAAS,mBAAT,CAA6B,GAA7B,EAAkC;;AAEhC,YAAI,CAAC,GAAD,IAAQ,IAAI,MAAJ,GAAa,SAAzB,EAAoC;AAClC;AACD;AACD,YAAI,MAAM,SAAV,EAAqB;AACnB,gBAAM,MAAN,CAAa,YAAW;AACtB,gBAAI,OAAJ;AACA,gBAAI,OAAO,MAAM,WAAN,EAAP,KAA+B,WAAnC,EAAgD;AAC9C,wBAAU,MAAM,WAAN,GAAoB,GAApB,EAAyB,MAAM,SAA/B,CAAV;AACD,aAFD,MAEO;AACL,wBAAU,gBAAgB,GAAhB,CAAV;AACD;AACD,kBAAM,SAAN,GAAkB,KAAlB;AACA,2BAAe,OAAf,EAAwB,GAAxB;AACD,WATD;AAUD,SAXD,MAYK,IAAI,MAAM,gBAAV,EAA4B;AAC/B,4CAAkC,GAAlC;AACD,SAFI,MAEE;AACL,2BAAiB,GAAjB;AACD;AACF;;AAED,eAAS,cAAT,CAAwB,YAAxB,EAAsC,GAAtC,EAA2C;AACzC,YAAI,CAAJ,EAAO,WAAP,EAAoB,KAApB,EAA2B,IAA3B,EAAiC,aAAjC,EAAgD,aAAhD;;AAEA,YAAI,gBAAgB,aAAa,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,gBAAM,OAAN,GAAgB,EAAhB;;AAEA,eAAK,IAAI,CAAT,EAAY,IAAI,aAAa,MAA7B,EAAqC,GAArC,EAA0C;AACxC,gBAAI,MAAM,UAAN,IAAoB,MAAM,UAAN,KAAqB,EAA7C,EAAiD;AAC/C,qBAAO,gBAAgB,aAAa,aAAa,CAAb,CAAb,CAAvB;AACD;;AAED,0BAAc,EAAd;AACA,gBAAI,MAAM,gBAAV,EAA4B;AAC1B,4BAAc,gBAAgB,aAAa,aAAa,CAAb,CAAb,EAA8B,MAAM,gBAApC,CAA9B;AACD;;AAED,oBAAQ,EAAR;AACA,gBAAI,MAAM,UAAV,EAAsB;AACpB,sBAAQ,aAAa,aAAa,CAAb,CAAb,EAA8B,MAAM,UAApC,CAAR;AACD;;AAED,gBAAI,MAAM,UAAV,EAAsB;AACpB,8BAAgB,gBAAgB,IAAhB,EAAsB,GAAtB,CAAhB;AACA,8BAAgB,gBAAgB,WAAhB,EAA6B,GAA7B,CAAhB;AACD;;AAED,kBAAM,OAAN,CAAc,MAAM,OAAN,CAAc,MAA5B,IAAsC;AACpC,qBAAO,aAD6B;AAEpC,2BAAa,aAFuB;AAGpC,qBAAO,KAH6B;AAIpC,8BAAgB,aAAa,CAAb;AAJoB,aAAtC;AAMD;AAEF,SA/BD,MA+BO;AACL,gBAAM,OAAN,GAAgB,EAAhB;AACD;;AAED,YAAI,MAAM,SAAN,IAAmB,MAAM,OAAN,CAAc,MAAd,KAAyB,CAA5C,IACA,gBAAgB,MAAM,OAAN,CAAc,CAAd,CAAhB,EACE,EAAC,OAAO,IAAR,EAAc,MAAM,eAAe,EAAnC,EADF,EAC0C,MAAM,SADhD,CADJ,EAEgE;AAC9D,gBAAM,YAAN,GAAqB,KAArB;AACD,SAJD,MAIO,IAAI,MAAM,OAAN,CAAc,MAAd,KAAyB,CAAzB,IAA8B,CAAC,gBAAnC,EAAqD;AAC1D,gBAAM,YAAN,GAAqB,KAArB;AACD,SAFM,MAEA;AACL,gBAAM,YAAN,GAAqB,IAArB;AACD;AACF;;AAED,eAAS,OAAT,GAAmB;AACjB,YAAI,MAAM,SAAV,EAAqB;AACnB,yBAAe,MAAM,SAArB,EAAgC,EAAhC;AACD,SAFD,MAGK,IAAI,MAAM,gBAAV,EAA4B;AAC/B,4CAAkC,EAAlC;AACD,SAFI,MAGA;AACH,2BAAiB,EAAjB;AACD;AACF;;AAED,YAAM,cAAN,GAAuB,YAAW;AAChC,YAAI,MAAM,OAAV,EAAmB;AACjB,gBAAM,OAAN;AACD;AACD,YAAI,cAAc,CAAd,KAAoB,CAAC,MAAM,SAAP,IAAoB,MAAM,SAAN,CAAgB,MAAhB,KAA2B,CAAnE,CAAJ,EAA2E;AACzE,gBAAM,YAAN,GAAqB,MAAM,UAAN,GAAmB,CAAnB,GAAuB,MAAM,YAAlD;AACA,gBAAM,YAAN,GAAqB,IAArB;AACA;AACD;AACF,OATD;;AAWA,YAAM,WAAN,GAAoB,YAAW;AAC7B,YAAI,gBACC,gBAAgB,MAAM,EAAN,GAAW,WAA3B,IACA,YAAY,OAAZ,CAAoB,cAApB,KAAuC,CAFxC,CAAJ,EAEgD;AAC9C,wBAAc,IAAd;AACD,SAJD,MAKK;AACH,sBAAY,SAAS,YAAW;AAC9B;AACA,kBAAM,MAAN,CAAa,YAAW;AACtB,kBAAI,MAAM,SAAN,IAAmB,MAAM,SAAN,CAAgB,MAAhB,GAAyB,CAAhD,EAAmD;AACjD,2BAAW,GAAX,CAAe,MAAM,SAArB;AACD;AACF,aAJD;AAKD,WAPW,EAOT,YAPS,CAAZ;AAQA;;AAEA,cAAI,MAAM,QAAV,EAAoB;AAClB,kBAAM,QAAN;AACD;;AAED,cAAI,MAAM,mBAAV,EAA+B;AAC7B,gBAAI,MAAM,SAAN,IAAmB,MAAM,SAAN,CAAgB,MAAhB,GAAyB,CAA5C,IAAiD,MAAM,YAAN,KAAuB,CAAC,CAA7E,EAAgF;AAC9E;AACD;AACF;AACF;AACF,OA3BD;;AA6BA,YAAM,gBAAN,GAAyB,YAAW;AAClC,YAAI,SAAJ,EAAe;AACb,mBAAS,MAAT,CAAgB,SAAhB;AACD;AACF,OAJD;;AAMA,YAAM,QAAN,GAAiB,UAAS,KAAT,EAAgB;AAC/B,cAAM,YAAN,GAAqB,KAArB;AACD,OAFD;;AAIA,YAAM,YAAN,GAAqB,UAAS,MAAT,EAAiB;;AAEpC,YAAI,MAAM,UAAV,EAAsB;AACpB,iBAAO,KAAP,GAAe,aAAa,OAAO,cAApB,CAAf;AACA,iBAAO,WAAP,GAAqB,aAAa,OAAO,cAApB,EAAoC,MAAM,gBAA1C,CAArB;AACD;;AAED,YAAI,MAAM,aAAV,EAAyB;AACvB,gBAAM,SAAN,GAAkB,IAAlB;AACD,SAFD,MAGK;AACH,gBAAM,SAAN,GAAkB,OAAO,KAAzB;AACD;AACD,qBAAa,MAAb;AACA;AACD,OAfD;;AAiBA,YAAM,kBAAN,GAA2B,UAAS,GAAT,EAAc;AACvC,YAAI,IAAI,MAAJ,GAAa,SAAjB,EAA4B;AAC1B;AACA;AACD,SAHD,MAIK,IAAI,IAAI,MAAJ,KAAe,CAAf,IAAoB,cAAc,CAAtC,EAAyC;AAC5C,gBAAM,SAAN,GAAkB,KAAlB;AACA;AACD;;AAED,YAAI,MAAM,YAAV,EAAwB;AACtB,gBAAM,MAAM,YAAN,CAAmB,GAAnB,CAAN;AACD;AACD,eAAO,GAAP;AACD,OAdD;;;AAiBA,UAAI,MAAM,kBAAN,IAA4B,MAAM,kBAAN,KAA6B,EAA7D,EAAiE;AAC/D,4BAAoB,MAAM,kBAA1B;AACD;;;AAGD,UAAI,MAAM,SAAN,IAAmB,MAAM,SAAN,KAAoB,EAA3C,EAA+C;AAC7C,oBAAY,SAAS,MAAM,SAAf,EAA0B,EAA1B,CAAZ;AACD;;;AAGD,UAAI,CAAC,MAAM,KAAX,EAAkB;AAChB,cAAM,KAAN,GAAc,KAAd;AACD;;;AAGD,UAAI,CAAC,MAAM,aAAX,EAA0B;AACxB,cAAM,aAAN,GAAsB,KAAtB;AACD;;;AAGD,UAAI,CAAC,MAAM,mBAAX,EAAgC;AAC9B,cAAM,mBAAN,GAA4B,KAA5B;AACD;;;AAGD,UAAI,MAAM,aAAN,IAAuB,IAA3B,EAAiC;;AAE/B,YAAI,MAAM,YAAV,EAAwB;AACtB,yBAAe,IAAf;AACD,SAFD,MAGK;AACH,yBAAe,KAAf;AACD;AACF;;AAED,YAAM,SAAN,GAAkB,MAAM,IAAN,GAAa,MAAM,IAAnB,GAA0B,MAA5C;;;AAGA,YAAM,aAAN,GAAsB,MAAM,aAAN,GAAsB,MAAM,aAA5B,GAA4C,cAAlE;AACA,YAAM,aAAN,GAAsB,MAAM,aAAN,GAAsB,MAAM,aAA5B,GAA4C,cAAlE;AACA,yBAAmB,MAAM,aAAN,KAAwB,OAAxB,GAAkC,KAAlC,GAA0C,IAA7D;AACA,yBAAmB,MAAM,aAAN,KAAwB,OAAxB,GAAkC,KAAlC,GAA0C,IAA7D;;;AAGA,YAAM,SAAN,GAAkB,MAAM,SAAN,GAAkB,MAAM,SAAxB,GAAoC,UAAtD;;;AAGA,iBAAW,EAAX,CAAc,SAAd,EAAyB,cAAzB;AACA,iBAAW,EAAX,CAAc,OAAd,EAAuB,YAAvB;;;AAGA,0BAAoB,uBAAuB,4BAAvB,CAApB;;;AAGA,eAAS,YAAW;AAClB,YAAI,MAAM,iBAAiB,EAAjB,CAAV;AACA,qBAAa,IAAI,SAAJ,IAAiB,IAAI,SAAJ,KAAkB,MAAhD;AACD,OAHD;AAID;;AAED,WAAO;AACL,gBAAU,IADL;AAEL,eAAS,QAFJ;AAGL,aAAO;AACL,wBAAgB,GADX;AAEL,4BAAoB,GAFf;AAGL,sBAAc,GAHT;AAIL,sBAAc,GAJT;AAKL,mBAAW,GALN;AAML,qBAAa,GANR;AAOL,mCAA2B,GAPtB;AAQL,yCAAiC,GAR5B;AASL,oCAA4B,GATvB;AAUL,gCAAwB,GAVnB;AAWL,0BAAkB,GAXb;AAYL,YAAI,GAZC;AAaL,cAAM,GAbD;AAcL,qBAAa,GAdR;AAeL,uBAAe,GAfV;AAgBL,uBAAe,GAhBV;AAiBL,mBAAW,GAjBN;AAkBL,4BAAoB,GAlBf;AAmBL,oBAAY,GAnBP;AAoBL,0BAAkB,GApBb;AAqBL,oBAAY,GArBP;AAsBL,oBAAY,GAtBP;AAuBL,eAAO,GAvBF;AAwBL,sBAAc,GAxBT;AAyBL,mBAAW,GAzBN;AA0BL,oBAAY,GA1BP;AA2BL,uBAAe,GA3BV;AA4BL,6BAAqB,GA5BhB;AA6BL,uBAAe,GA7BV;AA8BL,4BAAoB,GA9Bf;AA+BL,sBAAc,GA/BT;AAgCL,mBAAW,GAhCN;AAiCL,kBAAU,GAjCL;AAkCL,iBAAS,GAlCJ;AAmCL,uBAAe,GAnCV;AAoCL,mBAAW,GApCN;AAqCL,oBAAY,GArCP;AAsCL,oBAAY;AAtCP,OAHF;AA2CL,mBAAa,qBAAS,OAAT,EAAkB,KAAlB,EAAyB;AACpC,eAAO,MAAM,WAAN,IAAqB,YAA5B;AACD,OA7CI;AA8CL,eAAS,iBAAS,QAAT,EAAmB;AAC1B,YAAI,WAAW,aAAa,WAAb,EAAf;AACA,YAAI,SAAS,aAAa,SAAb,EAAb;AACA,YAAI,EAAE,aAAa,IAAb,IAAqB,WAAW,IAAlC,CAAJ,EAA6C;AAC3C,cAAI,mBAAmB,SAAS,IAAT,GACpB,OADoB,CACZ,OADY,EACH,QADG,EAEpB,OAFoB,CAEZ,OAFY,EAEH,MAFG,CAAvB;AAGA,mBAAS,IAAT,CAAc,gBAAd;AACD;AACD,eAAO,IAAP;AACD;AAxDI,KAAP;AA0DD,GA3yBmE,CAApE;AA6yBD,CA9zBA,CAAD;ACTA;;AAEA,QAAQ,MAAR,CAAe,UAAf,EAA2B,EAA3B,EACG,OADH,CACW,UADX,EACuB,CAAC,UAAD,EAAa,UAAU,QAAV,EAAoB;AACpD,SAAO,UAAU,IAAV,EAAgB,IAAhB,EAAsB,SAAtB,EAAiC,WAAjC,EAA8C;AACnD,QAAI,OAAJ,EAAa,IAAb,EAAmB,OAAnB,EAA4B,MAA5B;AACA,aAAS,QAAT,GAAoB;;AAElB,gBAAU,IAAV;AACA,aAAO,SAAP;AACA,UAAI,QAAQ,SAAR,KAAQ,GAAY;AACtB,kBAAU,IAAV;AACA,YAAI,CAAC,SAAL,EAAgB;AACd,mBAAS,KAAK,KAAL,CAAW,OAAX,EAAoB,IAApB,CAAT;AACD;AACF,OALD;AAMA,UAAI,UAAU,aAAa,CAAC,OAA5B;AACA,UAAI,OAAJ,EAAa;AACX,iBAAS,MAAT,CAAgB,OAAhB;AACD;AACD,gBAAU,SAAS,KAAT,EAAgB,IAAhB,EAAsB,WAAtB,CAAV;AACA,UAAI,OAAJ,EAAa;AACX,iBAAS,KAAK,KAAL,CAAW,OAAX,EAAoB,IAApB,CAAT;AACD;AACD,aAAO,MAAP;AACD;AACD,aAAS,MAAT,GAAkB,YAAY;AAC5B,eAAS,MAAT,CAAgB,OAAhB;AACA,gBAAU,IAAV;AACD,KAHD;AAIA,WAAO,QAAP;AACD,GA3BD;AA4BD,CA7BoB,CADvB,EA+BG,SA/BH,CA+Ba,UA/Bb,EA+ByB,CAAC,UAAD,EAAa,QAAb,EAAuB,UAAU,QAAV,EAAoB,MAApB,EAA4B;AACxE,SAAO;AACL,aAAS,SADJ;AAEL,cAAU,GAFL;AAGL,UAAM,cAAU,MAAV,EAAkB,QAAlB,EAA4B,MAA5B,EAAoC,iBAApC,EAAuD;AAC3D,UAAI,mBAAmB,OAAO,OAAO,QAAd,EAAwB,MAAxB,CAAvB;AACA,UAAI,YAAY,CAAC,CAAC,OAAO,OAAO,SAAd,EAAyB,MAAzB,CAAlB;AACA,UAAI,cAAJ,EAAoB,IAApB;AACA,UAAI,aAAa,kBAAkB,OAAlB,CAA0B,IAA1B,CAA+B,iBAA/B,CAAjB;AACA,UAAI,aAAa,SAAS,UAAU,SAAV,EAAqB;AAC7C,eAAO,IAAP;AACA,0BAAkB,wBAAlB,GAA6C,cAA7C;AACA,0BAAkB,aAAlB,CAAgC,SAAhC;AACA,eAAO,KAAP;AACD,OALgB,EAKd,SAAS,gBAAT,EAA2B,EAA3B,CALc,EAKkB,SALlB,CAAjB;AAMA,wBAAkB,OAAlB,GAA4B,YAAY;AACtC;AACA,mBAAW,MAAX;;;AAGA,yBAAiB,KAAK,UAAtB;AACD,OAND;AAOA,wBAAkB,QAAlB,CAA2B,OAA3B,CAAmC,UAAU,KAAV,EAAiB;AAClD,YAAI,IAAJ,EAAU;AACR,2BAAiB,KAAjB;AACA,iBAAO,KAAP;AACD,SAHD,MAGO;AACL,qBAAW,kBAAkB,UAA7B;AACA,iBAAO,cAAP;AACD;AACF,OARD;AASD;AA9BI,GAAP;AAgCD,CAjCsB,CA/BzB;;;ACFA,CAAC,YAAW;AACR,YACK,MADL,CACY,cADZ,EAEK,SAFL,CAEe,kBAFf,EAEmC,CAAC,oBAAD,CAFnC;;AAKA,aAAS,oBAAT,GAAgC;;AAE5B,eAAO;AACH,sBAAU,IADP;AAEH,sBAAU,6IAFP;AAGH,mBAAO;AACH,sBAAM;AADH,aAHJ;AAMH,kBAAM,cAAS,KAAT,EAAgB,GAAhB,EAAqB,KAArB,EAA4B;AAC9B,sBAAM,MAAN,CAAa,MAAb,EAAqB,UAAS,MAAT,EAAiB,MAAjB,EAAyB;AAC1C,wBAAI,UAAU,MAAd,EAAsB;AAClB,8BAAM,IAAN,GAAa,CAAC,CAAC,MAAf;AACH;AACJ,iBAJD;AAKH;AAZE,SAAP;AAcH;AAEJ,CAxBD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,cADZ,EAEK,SAFL,CAEe,YAFf,EAE6B,CACrB,WADqB,EAErB,OAFqB,EAGrB,QAHqB,EAIrB,cAJqB,EAKrB,aALqB,CAF7B;;AAWA,aAAS,aAAT,CAAuB,SAAvB,EAAkC,KAAlC,EAAyC,MAAzC,EAAiD,YAAjD,EAA+D;;AAE3D,eAAO;AACH,sBAAU,GADP;AAEH,wBAAY,IAFT;AAGH,sBAAU,yCAHP;AAIH,mBAAO;AACH,yBAAS;AADN,aAJJ;AAOH,kBAAM,cAAS,KAAT,EAAgB,GAAhB,EAAqB,KAArB,EAA4B;;AAE9B,sBAAM,IAAN,GAAa,UAAS,IAAT,EAAe;;AAExB,wBAAI,gBAAgB,UAAU,IAAV,CAAe;AAC/B,qCAAa,eAAe,MAAM,gBADH;AAE/B,oCAAY,mBAFmB;AAG/B,8BAAM,IAHyB;AAI/B,kCAAU,KAJqB;AAK/B,kCAAU,IALqB;AAM/B,qCAAa;AANkB,qBAAf,CAApB;;AASA,kCAAc,MAAd,CAAqB,IAArB,CAA0B,UAAS,MAAT,EAAiB;AACvC;AACA,gCAAQ,GAAR,CAAY,UAAZ;AAEH,qBAJD;AAOH,iBAlBD;AAmBH;AA5BE,SAAP;AA8BH;AACD,YACK,MADL,CACY,cADZ,EAEK,UAFL,CAEgB,mBAFhB,EAEqC,CAC7B,QAD6B,EAE7B,mBAF6B,EAG7B,OAH6B,EAI7B,SAJ6B,EAK7B,iBAL6B,CAFrC;;AAUA,aAAS,iBAAT,CAA2B,MAA3B,EAAmC,iBAAnC,EAAsD,KAAtD,EAA6D,OAA7D,EAAsE;AAClE,eAAO,MAAP,GAAgB,YAAW;AACvB,8BAAkB,OAAlB,CAA0B,QAA1B;AACH,SAFD;AAGH;AACJ,CA5DD;;;ACAA,CAAC,YAAU;;AAEX,UAAQ,MAAR,CAAe,gBAAf,EAAgC,EAAhC;AAEC,CAJD;;;ACAA,CAAC,YAAU;;AAEX,YACK,MADL,CACY,gBADZ,EAEK,UAFL,CAEgB,mBAFhB,EAEoC,iBAFpC;;AAIA,sBAAkB,OAAlB,GAA4B,CACxB,IADwB,EAExB,QAFwB,EAGxB,MAHwB,EAIxB,gBAJwB,EAKxB,aALwB,EAMxB,mBANwB,EAOxB,WAPwB,CAA5B;;;AAUA,aAAS,iBAAT,CAA2B,EAA3B,EAA+B,MAA/B,EAAuC,IAAvC,EAA6C,cAA7C,EAA6D,WAA7D,EAA0E,iBAA1E,EAA6F,SAA7F,EAAwG;AACpG,YAAI,KAAK,IAAT;AACA,WAAG,QAAH,GAAc,QAAd;AACA,WAAG,YAAH,GAAkB,YAAlB;AACA,YAAI,WAAW,GAAG,KAAH,EAAf;AACA,WAAG,MAAH,GAAY,SAAS,OAArB;;AAEA,WAAG,QAAH;;AAEA,iBAAS,QAAT,GAAoB;;AAEhB,oBAAQ,MAAR,CAAe,MAAf,EAAuB;;AAEnB,8BAAc,YAFK;;;;AAMnB,sBAAM;AACF,0BAAM,IAAI,IAAJ;AADJ;AANa,aAAvB;;AAWA,wBAAY,MAAZ,GACC,IADD,CACO;AAAA,uBAAO,kBAAkB,aAAlB,CAAgC,IAAI,KAApC,CAAP;AAAA,aADP,EAEC,IAFD,CAEO;AAAA,uBAAO,IAAI,MAAJ,CAAY,UAAC,CAAD,EAAG,CAAH,EAAS;AAC/B,2BAAO,EAAE,EAAE,IAAJ,IAAY,CAAZ,EAAe,CAAtB;AACH,iBAFa,EAEX,EAFW,CAAP;AAAA,aAFP,EAKC,IALD,CAKM,SAAS,OALf;AAMH;;AAED,iBAAS,YAAT,CAAuB,SAAvB,EAAmC;;AAE/B,eAAG,MAAH,CAAU,IAAV,CAAe,kBAAU;AACrB,wBAAQ,GAAR,CAAY,MAAZ;AACA,uBAAO,OAAO,SAAP,CAAP;AACH,aAHD,EAIC,IAJD,CAIO,cAAM;AACT,wBAAQ,GAAR,CAAY,EAAZ;AACA,uBAAO,QAAP,GAAkB;AACd,0BAAM,GAAG,MADK;AAEd,yBAAK,GAAG,SAAH,CAAa,GAFJ;AAGd,yBAAK,GAAG,SAAH,CAAa;AAHJ,iBAAlB;AAKA,uBAAO,GAAG,SAAH,IAAgB;AACnB,yBAAK,CAAC,GAAG,IAAH,CAAQ,CAAR,IAAW,GAAG,IAAH,CAAQ,CAAR,CAAZ,IAAwB,CADV;AAEnB,yBAAK,CAAC,GAAG,IAAH,CAAQ,CAAR,IAAW,GAAG,IAAH,CAAQ,CAAR,CAAZ,IAAwB;AAFV,iBAAvB;AAIH,aAfD,EAgBC,IAhBD,CAgBO,eAAe,WAhBtB,EAiBC,IAjBD,CAiBM,UAAS,SAAT,EAAmB;AACrB,oBAAI,WAAW,UAAU,CAAV,CAAf;AACA,uBAAO,WAAP,GAAqB,QAArB;AACH,aApBD,EAqBC,KArBD,CAqBO;AAAA,uBAAO,QAAQ,GAAf;AAAA,aArBP;AAsBH;;AAED,iBAAS,YAAT,CAAsB,KAAtB,EAA6B,MAA7B,EAAqC,SAArC,EAAgD,OAAhD,EAAyD,UAAzD,EAAqE;AACjE,oBAAQ,IAAR;AACH;AAGJ;AAEA,CA/ED;;;;;ACAA,CAAC,YAAU;;AAEX,YACK,MADL,CACY,gBADZ,EAEK,QAFL,CAEc,gBAFd,EAE+B,CAAC,sBAAD,CAF/B;;AAIA,aAAS,sBAAT,GAAkC;;AAE9B,YAAM,YAAY,QAAlB;;AAEA,YAAI,OAAO,IAAX;AACA,aAAK,EAAL,GAAU,IAAV;AACA,aAAK,KAAL,GAAa,UAAS,GAAT,EAAc;AACvB,iBAAK,EAAL,GAAU,GAAV;AACH,SAFD;;AAIA,aAAK,IAAL,GAAY,CAAC,OAAD,EAAS,IAAT,EAAc,eAAd,EAA8B,MAA9B,EAAsC,UAAS,KAAT,EAAgB,EAAhB,EAAoB,aAApB,EAAkC,IAAlC,EAAwC;AACtF,gBAAI,gBAAgB,cAAc,UAAd,EAAyB,EAAC,UAAS,CAAV,EAAzB,CAApB;AACA,gBAAI,UAAU;AACV,6BAAa,WADH;AAEV,+BAAe,aAFL;AAGV,8BAAc,YAHJ;AAIV,8BAAc;AAJJ,aAAd;;AAOA,mBAAO,OAAP;;AAEA,qBAAS,aAAT,GAAyB;AACrB,uBAAO,MAAM;AACT,4BAAQ,KADC;AAET,yBAAK;AAFI,iBAAN,EAIN,IAJM,CAIA;AAAA,2BACH,SAAS,IAAT,CAAc,SAAd,CACK,GADL,CACS,iBADT,EAEK,MAFL,CAEa,UAAC,CAAD,EAAG,CAAH;AAAA,+BAAS,EAAE,MAAF,CAAS,CAAT,CAAT;AAAA,qBAFb,EAEoC,EAFpC,CADG;AAAA,iBAJA,CAAP;AASH;;AAED,qBAAS,YAAT,CAAsB,QAAtB,EAAgC;AACxB,oBAAI,iBAAiB,iBAAiB,QAAjB,CAArB;;AAEA,uBAAO,eAAe,IAAf,CAAqB;AAAA,2BAAQ,MAAM;AACtC,gCAAQ,KAD8B;AAEtC,6BAAI,0EAAwE,SAAS,GAAjF,GAAqF,GAArF,GAAyF,SAAS,GAFhE;AAGtC,iCAAS;AACL,yCAAa,KAAK,EAAL,IAAW;AADnB;AAH6B,qBAAN,CAAR;AAAA,iBAArB,EAON,IAPM,CAOA,oBAAY;AACf,2BAAO,QAAP;AACH,iBATM,EAUN,IAVM,CAUA,eAAO;AACV,2BAAO,MAAM;AACT,gCAAQ,MADC;AAET,6BAAK,sEAFI;AAGT,8BAAM,cAHG;AAIT,iCAAS;AACL,yCAAa,KAAK,EAAL,IAAW;AADnB;AAJA,qBAAN,CAAP;AAQH,iBAnBM,CAAP;AAoBP;;AAED,qBAAS,gBAAT,CAA0B,QAA1B,EAAoC;AAChC,uBAAO,GAAI,UAAC,OAAD,EAAS,MAAT,EAAoB;AAC3B,wBAAI,OAAO,EAAC,WAAU,EAAX,EAAX;AACA,mCAAe,QAAf,yCAAe,QAAf;AACI,6BAAK,QAAL;AACI,gCAAI,CAAC,CAAC,CAAC,SAAS,GAAZ,IAAmB,CAAC,CAAC,CAAC,SAAS,GAAnC,EAAwC;AACpC,uCAAO,6DAAP;AACH;AACD,iCAAK,OAAL,CAAa,IAAb,CACM;AAAA,uCACG,CAAC,EAAE,GAAH,EAAO,EAAE,GAAT,CADH;AAAA,6BAAF,CAEE,QAFF,CADJ;AAKA,oCAAQ,IAAR;AACA;AACJ,6BAAK,OAAL;AACI,iCAAK,OAAL,CAAa,IAAb,CAAkB,SAAS,MAAT,CAAgB;AAAA,uCAC7B,CAAC,CAAC,EAAE,GAAJ,IAAW,CAAC,CAAC,EAAE,GAAhB,GAAuB,IAAvB,GAA8B,KADA;AAAA,6BAAhB,EAGjB,GAHiB,CAId;AAAA,uCAAO,CAAC,EAAE,GAAH,EAAO,EAAE,GAAT,CAAP;AAAA,6BAJc,CAAlB;AAMA,oCAAQ,IAAR;AACA;AACJ,6BAAK,WAAL;AACA;AACI,mCAAO,6DAAP;AAvBR;AAyBA,4BAAQ,IAAR;AACH,iBA5BM,CAAP;AA6BH;;AAED,qBAAS,YAAT,CAAsB,SAAtB,EAAiC;AAC7B,uBAAO,GAAG,GAAH,CAAO,UAAU,GAAV,CAAc,WAAd,CAAP,CAAP;AACH;;AAED,qBAAS,WAAT,CAAqB,QAArB,EAA8B;AAC1B,uBAAO,GAAI,UAAC,OAAD,EAAS,MAAT,EAAoB;;;;;AAM3B,0BAAM;AACF,gCAAQ,KADN;AAEF,sGAA4E,SAAS,GAArF,SAA4F,SAAS,GAFnG;AAGF,iCAAS,EAAE,aAAa,KAAK,EAApB,EAHP;AAIF,+BAAO;AAJL,qBAAN,EAMC,IAND,CAMO,oBAAY;AACf,+BAAO,QAAQ,SAAS,IAAT,CAAc,QAAtB,CAAP;AACH,qBARD,EASC,KATD,CASQ,eAAO;AACX,gCAAQ,GAAR,CAAY,GAAZ;AACA,+BAAO,GAAP;AACH,qBAZD;AAcH,iBApBM,CAAP;AAqBH;;;;;;;;;;;;;;;;AAgBD,qBAAS,iBAAT,CAA2B,QAA3B,EAAqC;AACjC,oBAAI,UAAU,SAAS,OAAvB;oBACM,QAAQ,SAAS,KADvB;oBAEO,OAAO,SAAS,IAFvB;oBAGO,OAAO,SAAS,IAHvB;oBAIQ,MAAM,SAAS,GAJvB;oBAKQ,MAAM,SAAS,GALvB;AAMA,iBAAC,CAAC,CAAC,CAAC,GAAH,IAAU,CAAC,CAAC,CAAC,GAAd,KAAsB,QAAQ,GAAR,CAAY,YAAZ,EAAyB,QAAzB,CAAtB;;AAEA,oBAAI,cAAc,IAAI,IAAJ,CAAS,KAAT,EAAgB,OAAhB,EAAlB;AACA,oBAAI,aAAa,IAAI,IAAJ,CAAS,IAAT,EAAe,OAAf,EAAjB;;AAEA,oBAAI,OAAO,EAAX,CAAgB,QAAQ,OAAR,CAAgB,OAAhB,EAAyB,UAAC,CAAD,EAAG,GAAH;AAAA,2BAAW,KAAK,IAAL,CAAU,GAAV,CAAX;AAAA,iBAAzB;AAChB,oBAAI,aAAa,KAAK,GAAL,CAAU;AAAA,2BAAK,QAAQ,CAAR,CAAL;AAAA,iBAAV,CAAjB;AACA,oBAAI,IAAI,WAAW,MAAnB;;AAEA,oBAAI,SAAS,WAAW,GAAX,CAAgB;AAAA,2BAAK,EAAE,MAAP;AAAA,iBAAhB,EAAgC,MAAhC,CAAwC,UAAC,CAAD,EAAG,CAAH;AAAA,2BAAS,IAAE,IAAE,CAAb;AAAA,iBAAxC,EAAyD,CAAzD,CAAb;;;AAGA,uBAAO,QAAQ,GAAR,CAAY,GAAZ,CAAiB,UAAC,GAAD,EAAM,QAAN,EAAmB;;AAEvC,wBAAI,SAAS;AACT,8BAAM,IAAI,IAAJ,CAAS,cAAY,WAAS,SAA9B,CADG;AAET,8BAAM,IAFG;AAGT,6BAAK,GAHI;AAIT,6BAAK;AAJI,qBAAb;;;;;;;;;;;;;;;;;AAsBA,yBAAK,OAAL,CAAc,aAAK;AACf,+BAAO,QAAQ,OAAR,CAAgB,SAAhB,CAA0B,EAAE,OAAF,CAAU,GAAV,EAAc,GAAd,CAA1B,CAAP,IAAwD,QAAQ,CAAR,EAAW,QAAX,CAAxD;AACH,qBAFD;AAGA,2BAAO,MAAP;AACH,iBA5BM,EA4BJ,MA5BI,CA4BI,UAAC,CAAD;AAAA,2BAAQ,QAAQ,EAAE,IAAF,CAAO,cAAP,EAAhB;AAAA,iBA5BJ,CAAP;AA6BH;;AAED,qBAAS,YAAT,CAAsB,MAAtB,EAA8B;AAC1B,uBAAO,GAAG,GAAH,CAAO,OAAO,GAAP,CAAY;AAAA,2BAAK,cAAc,CAAd,CAAL;AAAA,iBAAZ,CAAP,CAAP;AACH;;AAED,qBAAS,aAAT,CAAuB,MAAvB,EAA+B;;AAE3B,uBAAO,QAAQ,WAAR,CAAoB,OAAO,QAA3B,EACN,IADM,CACA,iBAAS;AACZ,wBAAI,WAAW,MAAM,CAAN,EAAS,KAAT,CAAe,IAA9B;wBACI,KAAK,OAAO,OADhB;wBAEI,KAAK,OAAO,OAFhB;;AAIA,6BAAS,aAAT,CAAuB,GAAvB,EAA2B,CAA3B,EAA8B;AAC1B,+BAAO,UAAS,KAAT,EAAgB;AACnB,oCAAO,IAAI,OAAJ,CAAY,CAAZ,EAAe,KAAtB;AACI,qCAAK,gBAAL;AACA,qCAAK,gBAAL;AACA,qCAAK,wBAAL;AACA,qCAAK,wBAAL;AACI,2CAAQ,IAAI,IAAJ,KAAa,GAAb,IAAoB,MAAM,CAAN,EAAS,KAAT,CAAe,KAAf,KAAyB,IAA9C,GAAsD,OAAQ,CAAC,QAAM,CAAN,GAAQ,CAAR,GAAU,EAAX,EAAe,OAAf,CAAuB,CAAvB,CAAR,CAAtD,GAA4F,KAAnG;AACA;AACJ,qCAAK,mBAAL;AACA,qCAAK,UAAL;AACA,qCAAK,YAAL;AACI,2CAAQ,IAAI,IAAJ,KAAa,GAAd,GAAqB,KAAK,KAAL,CAAW,QAAM,GAAjB,CAArB,GAA6C,OAAQ,MAAM,WAAN,CAAkB,CAAlB,CAAR,CAApD;AACA;AACJ;AACI,2CAAO,KAAP;AAbR;AAeH,yBAhBD;AAiBH;;AAGD,2BAAO,SAAP,GAAmB,GAAG,OAAH,CAAW,GAAX,CAAgB,UAAC,CAAD,EAAG,CAAH,EAAS;AACxC,4BAAI,YAAY,SAAS,GAAT,CAAc;AAAA,mCAAM;AAChC,mCAAE,EAAE,GAAG,KAAL,CAD8B;AAEhC,mCAAE,cAAc,EAAd,EAAiB,CAAjB,EAAoB,EAAE,EAAE,KAAJ,CAApB;AAF8B,6BAAN;AAAA,yBAAd,CAAhB;AAIA,+BAAO,QAAQ,MAAR,CAAe,CAAf,EAAkB;AACrB,oCAAQ;AADa,yBAAlB,CAAP;AAGH,qBARkB,CAAnB;AASA,2BAAO,MAAP;AACH,iBArCM,CAAP;AAsCH;AAEJ,SA1NW,CAAZ;AA4NH;AAEA,CA9OD;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,gBADZ,EAEK,MAFL,CAEY,YAFZ,EAEyB,YAAW;AAC5B,eAAO,UAAS,QAAT,EAAmB;;AAEtB,qBAAS,MAAT,CAAgB,KAAhB,EAAuB;AACnB,oBAAI,MAAM,QAAQ,IAAR,CAAa,KAAb,CAAV;AACA,oBAAI,cAAJ,GAAqB,MAAM,cAAN,GAAuB,CAAvB,GAA2B,CAA3B,GAA+B,EAApD;AACA,oBAAI,sBAAJ,GAA6B,MAAM,sBAAN,GAA+B,CAA/B,GAAmC,CAAnC,GAAuC,EAApE;AACA,oBAAI,cAAJ,GAAqB,MAAM,cAAN,GAAuB,CAAvB,GAA2B,CAA3B,GAA+B,EAApD;AACA,oBAAI,sBAAJ,GAA6B,MAAM,sBAAN,GAA+B,CAA/B,GAAmC,CAAnC,GAAuC,EAApE;AACA,oBAAI,WAAJ,GAAkB,MAAM,WAAN,GAAoB,CAApB,GAAsB,CAAtB,GAA0B,EAA5C;AACA,uBAAO,GAAP;AACH;;AAED,oBAAQ,OAAR,CAAgB,QAAhB,EAAyB,UAAS,KAAT,EAAe,GAAf,EAAoB;AACzC,oBAAI,IAAI,QAAJ,CAAa,IAAb,CAAJ,EAAwB;AACpB,wBAAI,CAAC,CAAC,MAAM,IAAZ,EAAkB;AACd,iCAAS,GAAT,EAAc,IAAd,GAAqB,MAAM,IAAN,CAAW,GAAX,CAAe,MAAf,CAArB;AACH,qBAFD,MAEO;AACH,iCAAS,GAAT,IAAgB,OAAO,KAAP,CAAhB;AACH;AACJ;AACJ,aARD;AASA,mBAAO,QAAP;AACH,SAtBD;AAuBH,KA1BL,EA2BK,SA3BL,CA2Be,gBA3Bf,EA2BiC,CAAC,iBAAD,EAAoB,kBAApB,EAAwC,cAAxC,EAAwD,cAAxD,CA3BjC;;AA6BA,aAAS,cAAT,CAAwB,eAAxB,EAAyC,gBAAzC,EAA2D,YAA3D,EAAyE;AACrE,iCAAyB,OAAzB,GAAmC,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,CAAnC;;AAEA,eAAO;AACH,sBAAU,GADP;AAEH,yBAAa,eAAe,6BAFzB;AAGH,kBAAM;AAHH,SAAP;;AAMA,iBAAS,wBAAT,CAAkC,KAAlC,EAAyC,OAAzC,EAAkD,KAAlD,EAAyD;AACrD,gBAAI,eAAe,KAAnB;;AAEA,4BAAgB,cAAhB,CAA+B;AAC3B,uBAAO,IADoB;AAE3B,uBAAO,EAFoB;AAG3B,qBAAK,MAAM,QAAN,CAAe,GAHO,EAGF,KAAK,MAAM,QAAN,CAAe;AAHlB,aAA/B;;AAMA,gBAAI,UAAU,MAAM,MAAN,CAAa,aAAb,EAA4B,UAAS,QAAT,EAAmB,QAAnB,EAA6B;;AAEnE,oBAAI,aAAa,QAAb,IAAyB,CAAC,CAAC,CAAC,YAAH,IAAmB,CAAC,CAAC,QAAlD,EAA4D;AACxD,mCAAe,IAAf;AACA,wBAAI,gBAAgB,iBAAiB,QAAjB,CAApB;AACA,wBAAI,KAAK,gBAAgB,WAAhB,CAA4B,QAA5B,CAAT;AACA;AACH;AACJ,aARa,CAAd;;AAUA,qBAAS,KAAT,CAAe,GAAf,EAAoB;AAChB,wBAAQ,IAAR,CAAa,WAAW,IAAI,IAAf,GAAsB,KAAtB,GAA8B,IAAI,OAA/C;AACH;AACJ;AACJ;AAGA,CAlED;;;ACAA,CAAC,YAAW;;AAEZ,YACK,MADL,CACY,gBADZ,EAEK,OAFL,CAEa,iBAFb,EAEgC,CAAC,OAAD,EAAU,MAAV,EAAkB,eAAlB,CAFhC;;AAIA,aAAS,eAAT,CAAyB,KAAzB,EAAgC,IAAhC,EAAsC;;AAElC,YAAI,UAAU,EAAd;;;AAGA,gBAAQ,cAAR,GAAyB,cAAzB;AACA,gBAAQ,WAAR,GAAsB,WAAtB;;AAEA,YAAI,OAAJ;AACA,SAAC,UAAS,CAAT,EAAY;AACT;;AACA,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB;AACnB,kBAAE,SAAF,IAAe,EAAE,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAAC,CAAtB,CAAf,EAAyC,EAAE,IAAF,EAAzC;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B;AACtB,kBAAE,SAAF,IAAe,EAAE,MAAF,CAAS,CAAT,EAAY,CAAZ,CAAf,EAA+B,EAAE,MAAF,CAAS,CAAT,EAAY,CAAZ,CAA/B,EAA+C,EAAE,MAAF,EAA/C;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC,EAAmC;AAC/B,oBAAI,IAAI,KAAK,GAAL,CAAS,IAAI,CAAb,CAAR;oBAAyB,IAAI,KAAK,GAAL,CAAS,IAAI,CAAb,CAA7B;AACA,qBAAK,CAAL,EAAQ,EAAE,CAAF,EAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,CAAR,GAAY,IAAI,EAAhC,EAAoC,IAAI,CAAC,IAAI,IAAI,EAAT,IAAe,CAAvD,CAAR;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC,EAAmC;AAC/B,oBAAI,CAAJ;AACA,qBAAK,IAAI,CAAT,EAAY,GAAZ;AACI,sBAAE,CAAF,EAAK,IAAI,IAAI,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B;AADJ;AAEH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,GAAH;AACA,oBAAI,IAAI,IAAI,GAAZ;oBAAiB,IAAI,IAAI,GAAzB;oBAA8B,IAAI,IAAI,GAAtC;oBAA2C,IAAI,IAAI,GAAnD;AACA,kBAAE,SAAF,GAAc,CAAd,EAAiB,EAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAAjB,EAA4C,EAAE,wBAAF,GAA6B,iBAAzE,EAA4F,EAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAAI,CAAxB,EAA2B,IAAI,CAA/B,CAA5F,EAA+H,EAAE,wBAAF,GAA6B,aAA5J;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,IAAH;AACA,oBAAI,IAAI,IAAI,GAAJ,GAAU,IAAI,EAAtB;oBAA0B,IAAI,IAAI,GAAJ,GAAU,IAAI,EAA5C;oBAAgD,IAAI,IAAI,EAAJ,GAAS,IAAI,EAAjE;oBAAqE,CAArE;oBAAwE,CAAxE;oBAA2E,CAA3E;oBAA8E,CAA9E;AACA,kBAAE,WAAF,GAAgB,CAAhB,EAAmB,EAAE,SAAF,GAAc,CAAjC,EAAoC,EAAE,OAAF,GAAY,OAAhD,EAAyD,EAAE,QAAF,GAAa,OAAtE,EAA+E,EAAE,SAAF,EAA/E,EAA8F,EAAE,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAAC,CAAtB,CAA9F,EAAwH,EAAE,MAAF,EAAxH;AACA,qBAAK,IAAI,CAAT,EAAY,GAAZ;AACI,wBAAI,CAAC,IAAI,IAAI,CAAT,IAAc,CAAlB,EAAqB,IAAI,KAAK,GAAL,CAAS,CAAT,CAAzB,EAAsC,IAAI,KAAK,GAAL,CAAS,CAAT,CAA1C,EAAuD,EAAE,CAAF,EAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,CAAxB,EAA2B,IAAI,IAAI,CAAnC,EAAsC,IAAI,IAAI,CAA9C,CAAvD;AADJ;AAEH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,IAAH;AACA,oBAAI,IAAI,IAAI,GAAJ,GAAU,IAAI,EAAtB;oBAA0B,IAAI,IAAI,GAAlC;oBAAuC,IAAI,KAAK,GAAL,CAAS,IAAI,CAAb,CAA3C;oBAA4D,IAAI,IAAI,CAAJ,GAAM,CAAC,EAAvE;AACA,kBAAE,WAAF,GAAgB,CAAhB,EAAmB,EAAE,SAAF,GAAc,CAAjC,EAAoC,EAAE,OAAF,GAAY,OAAhD,EAAyD,EAAE,QAAF,GAAa,OAAtE,EAA+E,KAAK,IAAI,CAAxF,EAA2F,EAAE,SAAF,EAA3F,EAA0G,EAAE,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,EAAe,IAAI,IAAI,CAAvB,EAA0B,IAAI,IAAI,CAAJ,GAAQ,CAAtC,EAAyC,CAAC,CAA1C,CAA1G,EAAwJ,EAAE,GAAF,CAAM,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAAd,GAAkB,CAA5B,EAA+B,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAAd,GAAkB,CAArD,EAAwD,CAAxD,EAA2D,IAAI,IAAI,CAAJ,GAAQ,CAAvE,EAA0E,IAAI,IAAI,CAAJ,GAAQ,CAAtF,EAAyF,CAAC,CAA1F,CAAxJ,EAAsP,EAAE,SAAF,EAAtP,EAAqQ,EAAE,MAAF,EAArQ;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,IAAH;AACA,oBAAI,IAAI,IAAI,GAAZ;oBAAiB,IAAI,IAAI,EAAJ,GAAS,EAA9B;oBAAkC,IAAI,IAAI,CAAJ,GAAQ,EAA9C;oBAAkD,CAAlD;oBAAqD,CAArD;oBAAwD,CAAxD;oBAA2D,CAA3D;AACA,kBAAE,SAAF,GAAc,CAAd;AACA,qBAAK,IAAI,CAAT,EAAY,GAAZ;AACI,wBAAI,CAAC,IAAI,IAAI,CAAT,IAAY,CAAhB,EAAmB,IAAI,IAAI,CAAC,IAAI,GAAL,IAAY,GAAZ,IAAmB,MAAM,CAAN,IAAW,MAAM,CAAjB,GAAmB,CAAC,CAApB,GAAwB,CAA3C,IAAgD,CAA3E,EAA8E,IAAI,IAAI,IAAI,CAAJ,GAAQ,CAA9F,EAAiG,EAAE,SAAF,EAAjG,EAAgH,EAAE,MAAF,CAAS,CAAT,EAAY,IAAI,IAAI,GAApB,CAAhH,EAA0I,EAAE,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,IAAI,GAAhB,EAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAAC,CAA5B,CAA1I,EAA0K,EAAE,IAAF,EAA1K;AADJ;AAEH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,GAAH;AACA,oBAAI,IAAI,IAAI,KAAZ;oBAAmB,IAAI,IAAI,EAAJ,GAAS,EAAhC;oBAAoC,IAAI,IAAI,CAAJ,GAAQ,EAAhD;oBAAoD,CAApD;oBAAuD,CAAvD;oBAA0D,CAA1D;oBAA6D,CAA7D;AACA,kBAAE,WAAF,GAAgB,CAAhB,EAAmB,EAAE,SAAF,GAAc,IAAI,EAArC,EAAyC,EAAE,OAAF,GAAY,OAArD,EAA8D,EAAE,QAAF,GAAa,OAA3E;AACA,qBAAK,IAAI,CAAT,EAAY,GAAZ;AACI,wBAAI,CAAC,IAAI,IAAI,CAAT,IAAY,CAAhB,EAAmB,IAAI,KAAK,KAAL,CAAW,IAAI,CAAC,IAAI,GAAL,IAAY,GAAZ,IAAmB,MAAM,CAAN,IAAW,MAAM,CAAjB,GAAmB,CAAC,CAApB,GAAwB,CAA3C,IAAgD,CAA/D,IAAoE,EAA3F,EAA+F,IAAI,IAAI,IAAI,CAA3G,EAA8G,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,IAAI,GAAhB,EAAqB,CAArB,EAAwB,IAAI,IAAI,GAAhC,CAA9G;AADJ;AAEH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,GAAH;AACA,oBAAI,IAAI,IAAI,GAAZ;oBAAiB,IAAI,IAAI,GAAzB;oBAA8B,IAAI,IAAI,CAAJ,GAAQ,EAA1C;oBAA8C,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAAhE;oBAAmE,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAArF;oBAAwF,IAAI,IAAI,IAAI,CAApG;oBAAuG,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAAzH;oBAA4H,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAA9I;oBAAiJ,IAAI,IAAI,IAAI,CAAJ,GAAQ,CAAjK;oBAAoK,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAAtL;oBAAyL,IAAI,KAAK,GAAL,CAAS,CAAT,IAAc,CAA3M;oBAA8M,CAA9M;oBAAiN,CAAjN;oBAAoN,CAApN;oBAAuN,CAAvN;AACA,kBAAE,WAAF,GAAgB,CAAhB,EAAmB,EAAE,SAAF,GAAc,IAAI,EAArC,EAAyC,EAAE,OAAF,GAAY,OAArD,EAA8D,EAAE,QAAF,GAAa,OAA3E;AACA,qBAAK,IAAI,CAAT,EAAY,GAAZ;AACI,wBAAI,CAAC,IAAI,IAAI,CAAT,IAAY,CAAhB,EAAmB,IAAI,IAAI,KAAK,GAAL,CAAS,CAAC,IAAI,IAAI,CAAT,IAAc,CAAvB,IAA4B,CAAvD,EAA0D,IAAI,IAAI,IAAI,CAAtE,EAAyE,EAAE,CAAF,EAAK,IAAI,CAAT,EAAY,IAAI,CAAhB,EAAmB,IAAI,CAAvB,EAA0B,IAAI,CAA9B,CAAzE,EAA2G,EAAE,CAAF,EAAK,IAAI,CAAT,EAAY,IAAI,CAAhB,EAAmB,IAAI,CAAvB,EAA0B,IAAI,CAA9B,CAA3G,EAA6I,EAAE,CAAF,EAAK,IAAI,CAAT,EAAY,IAAI,CAAhB,EAAmB,IAAI,CAAvB,EAA0B,IAAI,CAA9B,CAA7I;AADJ;AAEH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,qBAAG,GAAH;AACA,oBAAI,IAAI,IAAI,GAAZ;oBAAiB,IAAI,IAAI,GAAzB;oBAA8B,IAAI,IAAI,GAAtC;oBAA2C,IAAI,IAAI,GAAnD;AACA,kBAAE,SAAF,GAAc,CAAd,EAAiB,EAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAAjB,EAA4C,EAAE,wBAAF,GAA6B,iBAAzE,EAA4F,EAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,IAAI,CAAxB,EAA2B,IAAI,CAA/B,CAA5F,EAA+H,EAAE,wBAAF,GAA6B,aAA5J;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC;AAC5B,oBAAI,IAAI,IAAI,CAAZ;oBAAe,IAAI,IAAI,CAAvB;oBAA0B,IAAI,IAAI,CAAlC;oBAAqC,IAAI,IAAE,CAAF,GAAM,CAA/C;oBAAkD,IAAI,KAAK,GAAL,CAAS,CAAT,CAAtD;oBAAmE,IAAI,KAAK,GAAL,CAAS,CAAT,CAAvE;AACA,kBAAE,SAAF,GAAc,CAAd,EAAiB,EAAE,WAAF,GAAgB,CAAjC,EAAoC,EAAE,SAAF,GAAc,CAAlD,EAAqD,EAAE,OAAF,GAAY,OAAjE,EAA0E,EAAE,QAAF,GAAa,OAAvF,EAAgG,EAAE,SAAF,EAAhG,EAA+G,EAAE,GAAF,CAAM,CAAN,EAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,IAAI,KAAK,EAA3B,EAA+B,CAAC,CAAhC,CAA/G,EAAmJ,EAAE,GAAF,CAAM,IAAI,IAAI,CAAd,EAAiB,IAAI,IAAI,CAAzB,EAA4B,CAA5B,EAA+B,IAAI,KAAK,EAAxC,EAA4C,CAA5C,EAA+C,CAAC,CAAhD,CAAnJ,EAAuM,EAAE,GAAF,CAAM,IAAI,IAAI,CAAd,EAAiB,IAAI,IAAI,CAAzB,EAA4B,CAA5B,EAA+B,IAAI,KAAK,EAAxC,EAA4C,CAA5C,EAA+C,CAAC,CAAhD,CAAvM,EAA2P,EAAE,wBAAF,GAA6B,iBAAxR,EAA2S,EAAE,IAAF,EAA3S,EAAqT,EAAE,wBAAF,GAA6B,aAAlV,EAAiW,EAAE,MAAF,EAAjW;AACH;AACD,qBAAS,CAAT,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC,EAAmC,CAAnC,EAAsC;AAClC,qBAAG,IAAH;AACA,oBAAI,IAAI,EAAE,CAAF,CAAR;oBAAc,IAAI,CAAC,IAAI,CAAJ,GAAQ,EAAE,CAAF,EAAK,KAAd,IAAqB,CAAvC;oBAA0C,IAAI,CAAC,IAAI,CAAJ,GAAQ,EAAE,CAAF,EAAK,GAAd,IAAmB,CAAjE;oBAAoE,IAAI,CAAC,IAAI,CAAL,IAAQ,CAAhF;oBAAmF,CAAnF;oBAAsF,CAAtF;oBAAyF,CAAzF;oBAA4F,CAA5F;AACA,kBAAE,WAAF,GAAgB,CAAhB,EAAmB,EAAE,SAAF,GAAc,CAAjC,EAAoC,EAAE,OAAF,GAAY,OAAhD,EAAyD,EAAE,QAAF,GAAa,OAAtE;AACA,oBAAI,IAAI,CAAR,EAAW;AACP,sBAAE,SAAF,IAAe,KAAG,EAAE,MAAF,GAAW,CAAX,GAAe,CAAjC,EAAoC,IAAI,KAAK,KAAL,CAAW,CAAX,CAAxC,EAAuD,KAAK,CAA5D,EAA+D,KAAG,CAAlE,EAAqE,KAAK,CAA1E,EAA6E,EAAE,MAAF,CAAS,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,CAAF,IAAO,CAA7B,IAAkC,CAA/C,EAAkD,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,IAAI,CAAN,IAAW,CAAjC,IAAsC,CAA5F,CAA7E;AACA,wBAAI,IAAI,CAAR,EAAW;AACP,6BAAG,EAAE,MAAF,GAAW,CAAX,GAAe,CAAlB,EAAqB,IAAI,KAAK,KAAL,CAAW,CAAX,CAAzB,EAAwC,KAAK,CAA7C,EAAgD,KAAG,CAAnD,EAAsD,KAAK,CAA3D;AACA,6BAAK,IAAI,CAAT,EAAY,MAAM,CAAlB,EAAqB,KAAK,CAA1B;AACI,8BAAE,MAAF,CAAS,IAAI,EAAE,CAAF,IAAO,CAApB,EAAuB,IAAI,EAAE,IAAI,CAAN,IAAW,CAAtC;AADJ,yBAEA,EAAE,MAAF,CAAS,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,CAAF,IAAO,CAA7B,IAAkC,CAA/C,EAAkD,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,IAAI,CAAN,IAAW,CAAjC,IAAsC,CAA5F;AACH,qBALD,MAMI,KAAK,IAAI,CAAT,EAAY,MAAM,EAAE,MAApB,EAA4B,KAAK,CAAjC;AACI,0BAAE,MAAF,CAAS,IAAI,EAAE,CAAF,IAAO,CAApB,EAAuB,IAAI,EAAE,IAAI,CAAN,IAAW,CAAtC;AADJ,qBAEJ,EAAE,MAAF;AACH,iBAXD,MAWO,IAAI,IAAI,CAAR,EAAW;AACd,sBAAE,SAAF,IAAe,KAAG,EAAE,MAAF,GAAW,CAAX,GAAe,CAAjC,EAAoC,IAAI,KAAK,KAAL,CAAW,CAAX,CAAxC,EAAuD,KAAK,CAA5D,EAA+D,KAAG,CAAlE,EAAqE,KAAK,CAA1E,EAA6E,EAAE,MAAF,CAAS,IAAI,EAAE,CAAF,IAAO,CAApB,EAAuB,IAAI,EAAE,CAAF,IAAO,CAAlC,CAA7E;AACA,yBAAK,IAAI,CAAT,EAAY,MAAM,CAAlB,EAAqB,KAAK,CAA1B;AACI,0BAAE,MAAF,CAAS,IAAI,EAAE,CAAF,IAAO,CAApB,EAAuB,IAAI,EAAE,IAAI,CAAN,IAAW,CAAtC;AADJ,qBAEA,EAAE,MAAF,CAAS,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,CAAF,IAAO,CAA7B,IAAkC,CAA/C,EAAkD,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,IAAI,CAAN,IAAW,CAAjC,IAAsC,CAA5F,GAAgG,EAAE,MAAF,EAAhG;AACH;AACD,oBAAI,CAAJ,KAAU,KAAG,EAAE,MAAF,GAAW,CAAX,GAAe,CAAlB,EAAqB,IAAI,KAAK,KAAL,CAAW,CAAX,CAAzB,EAAwC,KAAK,CAA7C,EAAgD,KAAG,CAAnD,EAAsD,KAAK,CAA3D,EAA8D,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,CAAF,IAAO,CAA7B,IAAkC,CAA9C,EAAiD,IAAI,CAAC,EAAE,IAAI,CAAN,KAAY,IAAI,CAAhB,IAAqB,EAAE,IAAI,CAAN,IAAW,CAAjC,IAAsC,CAA3F,EAA8F,CAA9F,EAAiG,CAAjG,EAAoG,CAApG,CAAxE;AACH;AACD,gBAAI,CAAJ,EAAO,CAAP;AACA,aAAC,YAAW;AACR,oBAAI,IAAI,EAAE,qBAAF,IAA2B,EAAE,2BAA7B,IAA4D,EAAE,wBAA9D,IAA0F,EAAE,sBAA5F,IAAsH,EAAE,uBAAhI;oBAAyJ,IAAI,EAAE,oBAAF,IAA0B,EAAE,0BAA5B,IAA0D,EAAE,uBAA5D,IAAuF,EAAE,qBAAzF,IAAkH,EAAE,sBAAjR;AACA,qBAAK,CAAL,IAAU,IAAI,WAAS,CAAT,EAAY,EAAZ,EAAe;AACzB,6BAAS,CAAT,GAAa;AACT,0BAAE,KAAF,GAAU,EAAE,CAAF,CAAV,EAAgB,GAAhB;AACH;AACD,wBAAI,IAAI;AACJ,+BAAO;AADH,qBAAR;AAGA,2BAAO,KAAK,CAAZ;AACH,iBARS,EAQP,IAAI,WAAS,CAAT,EAAY;AACf,sBAAE,EAAE,KAAJ;AACH,iBAVD,KAUM,IAAI,WAAJ,EAAiB,IAAI,aAV3B;AAWH,aAbD;AAcA,gBAAI,IAAI,GAAR;gBAAa,IAAI,IAAjB;gBAAuB,IAAI,IAAI,KAAK,EAApC;gBAAwC,IAAI,IAAI,KAAK,IAAL,CAAU,CAAV,CAAhD;gBAA8D,IAAI,CAAC,CAAE,CAAE,IAAJ,EAAU,CAAE,IAAZ,EAAkB,CAAE,MAApB,EAA4B,CAAE,MAA9B,EAAsC,CAAE,MAAxC,EAAgD,CAAE,MAAlD,EAA0D,CAAE,MAA5D,EAAoE,CAAE,KAAtE,EAA6E,CAAE,MAA/E,EAAuF,CAAE,MAAzF,EAAiG,CAAE,MAAnG,EAA2G,CAAE,MAA7G,EAAqH,CAAE,MAAvH,EAA+H,MAA/H,EAAuI,CAAE,MAAzI,EAAiJ,MAAjJ,EAAyJ,CAAE,MAA3J,EAAmK,MAAnK,EAA2K,CAAE,MAA7K,EAAqL,MAArL,EAA6L,CAAE,MAA/L,EAAuM,MAAvM,EAA+M,CAAE,MAAjN,EAAyN,MAAzN,EAAiO,CAAE,MAAnO,EAA2O,MAA3O,EAAmP,CAAE,MAArP,EAA6P,KAA7P,EAAoQ,CAAE,MAAtQ,EAA8Q,MAA9Q,EAAsR,CAAE,MAAxR,EAAgS,MAAhS,EAAwS,CAAE,MAA1S,EAAkT,MAAlT,EAA0T,CAAE,MAA5T,EAAoU,MAApU,EAA4U,CAAE,MAA9U,EAAsV,MAAtV,EAA8V,CAAE,IAAhW,EAAsW,MAAtW,EAA8W,CAAE,KAAhX,EAAuX,MAAvX,EAA+X,CAAE,MAAjY,EAAyY,MAAzY,EAAiZ,CAAE,MAAnZ,EAA2Z,MAA3Z,EAAma,CAAE,MAAra,EAA6a,CAAE,KAA/a,EAAsb,CAAE,MAAxb,EAAgc,CAAE,MAAlc,EAA0c,CAAE,MAA5c,EAAod,CAAE,MAAtd,EAA8d,CAAE,MAAhe,EAAwe,CAAE,MAA1e,EAAkf,CAAE,MAApf,EAA4f,CAAE,MAA9f,EAAsgB,CAAE,MAAxgB,EAAghB,CAAE,MAAlhB,EAA0hB,CAAE,MAA5hB,EAAoiB,CAAE,MAAtiB,EAA8iB,CAAE,MAAhjB,EAAwjB,CAAE,MAA1jB,EAAkkB,CAAE,MAApkB,EAA4kB,CAAE,MAA9kB,EAAslB,CAAE,MAAxlB,EAAgmB,CAAE,MAAlmB,EAA0mB,CAAE,KAA5mB,EAAmnB,CAAE,MAArnB,EAA6nB,CAAE,MAA/nB,EAAuoB,CAAE,MAAzoB,EAAipB,CAAE,KAAnpB,EAA0pB,CAAE,MAA5pB,EAAoqB,CAAE,MAAtqB,EAA8qB,MAA9qB,EAAsrB,CAAE,MAAxrB,EAAgsB,MAAhsB,EAAwsB,CAAE,MAA1sB,EAAktB,MAAltB,EAA0tB,CAAE,KAA5tB,EAAmuB,MAAnuB,EAA2uB,CAAE,MAA7uB,EAAqvB,MAArvB,EAA6vB,CAAE,MAA/vB,EAAuwB,MAAvwB,EAA+wB,CAAE,MAAjxB,EAAyxB,MAAzxB,EAAiyB,MAAjyB,EAAyyB,KAAzyB,EAAgzB,MAAhzB,EAAwzB,MAAxzB,EAAg0B,MAAh0B,EAAw0B,MAAx0B,EAAg1B,MAAh1B,EAAw1B,MAAx1B,EAAg2B,MAAh2B,EAAw2B,MAAx2B,EAAg3B,MAAh3B,EAAw3B,IAAx3B,EAA83B,MAA93B,EAAs4B,MAAt4B,EAA84B,MAA94B,EAAs5B,MAAt5B,EAA85B,MAA95B,EAAs6B,MAAt6B,EAA86B,MAA96B,EAAs7B,MAAt7B,EAA87B,MAA97B,EAAs8B,MAAt8B,EAA88B,MAA98B,EAAs9B,MAAt9B,EAA89B,MAA99B,EAAs+B,MAAt+B,EAA8+B,MAA9+B,EAAs/B,MAAt/B,EAA8/B,MAA9/B,EAAsgC,MAAtgC,EAA8gC,MAA9gC,EAAshC,KAAthC,EAA6hC,MAA7hC,EAAqiC,MAAriC,EAA6iC,MAA7iC,EAAqjC,MAArjC,EAA6jC,MAA7jC,EAAqkC,KAArkC,EAA4kC,MAA5kC,EAAolC,KAAplC,EAA2lC,IAA3lC,EAAimC,IAAjmC,CAAD,EAAymC,CAAE,CAAE,IAAJ,EAAU,CAAV,EAAa,CAAE,MAAf,EAAuB,MAAvB,EAA+B,CAAE,MAAjC,EAAyC,MAAzC,EAAiD,CAAE,MAAnD,EAA2D,IAA3D,EAAiE,CAAE,MAAnE,EAA2E,MAA3E,EAAmF,CAAE,MAArF,EAA6F,MAA7F,EAAqG,CAAE,MAAvG,EAA+G,MAA/G,EAAuH,CAAE,MAAzH,EAAiI,MAAjI,EAAyI,CAAE,MAA3I,EAAmJ,MAAnJ,EAA2J,CAAE,MAA7J,EAAqK,MAArK,EAA6K,CAAE,MAA/K,EAAuL,MAAvL,EAA+L,CAAE,MAAjM,EAAyM,MAAzM,EAAiN,CAAE,MAAnN,EAA2N,MAA3N,EAAmO,CAAE,MAArO,EAA6O,MAA7O,EAAqP,CAAE,MAAvP,EAA+P,MAA/P,EAAuQ,CAAE,KAAzQ,EAAgR,MAAhR,EAAwR,MAAxR,EAAgS,MAAhS,EAAwS,MAAxS,EAAgT,MAAhT,EAAwT,MAAxT,EAAgU,MAAhU,EAAwU,MAAxU,EAAgV,MAAhV,EAAwV,MAAxV,EAAgW,MAAhW,EAAwW,MAAxW,EAAgX,CAAE,MAAlX,EAA0X,MAA1X,EAAkY,CAAE,MAApY,EAA4Y,MAA5Y,EAAoZ,CAAE,MAAtZ,EAA8Z,MAA9Z,EAAsa,CAAE,MAAxa,EAAgb,MAAhb,EAAwb,CAAE,MAA1b,EAAkc,MAAlc,EAA0c,CAAE,MAA5c,EAAod,MAApd,EAA4d,CAAE,KAA9d,EAAqe,MAAre,EAA6e,CAAE,KAA/e,EAAsf,MAAtf,EAA8f,CAAE,MAAhgB,EAAwgB,MAAxgB,EAAghB,CAAE,KAAlhB,EAAyhB,IAAzhB,EAA+hB,CAAE,IAAjiB,CAAzmC,CAAlE;gBAAotD,IAAI,CAAC;AACrtD,uBAAO,IAD8sD;AAErtD,qBAAK;AAFgtD,aAAD,EAGrtD;AACC,uBAAO,IADR;AAEC,qBAAK;AAFN,aAHqtD,CAAxtD;AAQA,sBAAU,iBAAS,CAAT,EAAY;AAClB,qBAAK,IAAL,GAAY,EAAZ,EAAgB,KAAK,QAAL,GAAgB,IAAhC,EAAsC,KAAK,KAAL,GAAa,KAAK,EAAE,KAAP,GAAe,EAAE,KAAjB,GAAyB,OAA5E,EAAqF,KAAK,WAAL,GAAiB,CAAC,CAAC,CAAF,IAAK,CAAC,CAAC,EAAE,WAA/G;AACH,aAFD,EAEG,QAAQ,SAAR,GAAoB,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AACrC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,EAApB,EAAwB,CAAxB,EAA2B,IAAI,CAA/B,EAAkC,CAAlC;AACH,aALD,EAKG,QAAQ,WAAR,GAAsB,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AACvC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,EAApB,EAAwB,CAAxB,EAA2B,IAAI,CAA/B,EAAkC,CAAlC;AACH,aARD,EAQG,QAAQ,iBAAR,GAA4B,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAC7C,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,IAAZ,EAAkB,IAAI,IAAtB,EAA4B,IAAI,GAAhC,EAAqC,IAAI,CAAzC,EAA4C,CAA5C,GAAgD,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,IAAZ,EAAkB,IAAI,IAAtB,EAA4B,IAAI,GAAhC,EAAqC,IAAI,CAAzC,EAA4C,CAA5C,CAAhD;AACH,aAXD,EAWG,QAAQ,mBAAR,GAA8B,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAC/C,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,IAAZ,EAAkB,IAAI,IAAtB,EAA4B,IAAI,GAAhC,EAAqC,IAAI,CAAzC,EAA4C,CAA5C,GAAgD,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,IAAZ,EAAkB,IAAI,IAAtB,EAA4B,IAAI,GAAhC,EAAqC,IAAI,CAAzC,EAA4C,CAA5C,CAAhD;AACH,aAdD,EAcG,QAAQ,MAAR,GAAiB,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAClC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,EAApB,EAAwB,CAAxB,EAA2B,IAAI,CAA/B,EAAkC,CAAlC;AACH,aAjBD,EAiBG,QAAQ,IAAR,GAAe,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAChC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,EAA7B,EAAiC,IAAI,CAArC,EAAwC,CAAxC,GAA4C,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,EAA7B,EAAiC,IAAI,CAArC,EAAwC,CAAxC,CAA5C;AACH,aApBD,EAoBG,QAAQ,KAAR,GAAgB,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AACjC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,EAA7B,EAAiC,IAAI,CAArC,EAAwC,CAAxC,GAA4C,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,EAA7B,EAAiC,IAAI,CAArC,EAAwC,CAAxC,CAA5C;AACH,aAvBD,EAuBG,QAAQ,IAAR,GAAe,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAChC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,EAA7B,EAAiC,IAAI,CAArC,EAAwC,CAAxC,GAA4C,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,EAA7B,EAAiC,IAAI,CAArC,EAAwC,CAAxC,CAA5C;AACH,aA1BD,EA0BG,QAAQ,IAAR,GAAe,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAChC,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,EAApB,EAAwB,CAAxB,EAA2B,IAAI,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,GAA4C,EAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,EAApB,EAAwB,CAAxB,EAA2B,IAAI,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,CAA5C;AACH,aA7BD,EA6BG,QAAQ,GAAR,GAAc,UAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB;AAC/B,oBAAI,IAAI,EAAE,MAAF,CAAS,KAAjB;oBAAwB,IAAI,EAAE,MAAF,CAAS,MAArC;oBAA6C,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ,CAAjD;oBAAiE,IAAI,IAAI,CAAzE;AACA,kBAAE,CAAF,EAAK,CAAL,EAAQ,IAAI,EAAZ,EAAgB,IAAI,GAApB,EAAyB,IAAI,GAA7B,EAAkC,CAAlC,EAAqC,CAArC,GAAyC,KAAG,GAA5C;AACA,oBAAI,IAAI,KAAK,GAAL,CAAS,IAAI,CAAb,IAAkB,CAAlB,GAAsB,GAA9B;oBAAmC,IAAI,KAAK,GAAL,CAAS,CAAC,IAAI,GAAL,IAAY,CAArB,IAA0B,CAA1B,GAA8B,GAArE;oBAA0E,IAAI,KAAK,GAAL,CAAS,CAAC,IAAI,EAAL,IAAW,CAApB,IAAyB,CAAzB,GAA6B,GAA3G;oBAAgH,IAAI,KAAK,GAAL,CAAS,CAAC,IAAI,GAAL,IAAY,CAArB,IAA0B,CAA1B,GAA8B,GAAlJ;oBAAuJ,IAAI,IAAI,IAA/J;oBAAqK,IAAI,KAAK,KAAL,CAAW,IAAI,IAAI,EAAnB,IAAyB,EAAlM;oBAAsM,IAAI,KAAK,KAAL,CAAW,IAAI,IAAI,GAAnB,IAA0B,EAApO;AACA,kBAAE,WAAF,GAAgB,CAAhB,EAAmB,EAAE,SAAF,GAAc,CAAjC,EAAoC,EAAE,OAAF,GAAY,OAAhD,EAAyD,EAAE,QAAF,GAAa,OAAtE,EAA+E,EAAE,CAAF,EAAK,IAAI,IAAI,EAAR,GAAa,IAAI,EAAtB,EAA0B,CAA1B,EAA6B,IAAI,IAAI,EAAR,GAAa,IAAI,EAA9C,EAAkD,CAAlD,CAA/E,EAAqI,EAAE,CAAF,EAAK,IAAI,IAAI,EAAR,GAAa,IAAI,EAAtB,EAA0B,CAA1B,EAA6B,IAAI,IAAI,EAAR,GAAa,IAAI,EAA9C,EAAkD,CAAlD,CAArI;AACH,aAlCD,EAkCG,QAAQ,SAAR,GAAoB;AACnB,qBAAK,aAAS,CAAT,EAAY,CAAZ,EAAe;AAChB,wBAAI,CAAJ;AACA,2BAAO,CAAP,IAAY,QAAZ,KAAyB,IAAI,SAAS,cAAT,CAAwB,CAAxB,CAA7B,GAA0D,IAAI;AAC1D,iCAAS,CADiD;AAE1D,iCAAS,EAAE,UAAF,CAAa,IAAb,CAFiD;AAG1D,iCAAS;AAHiD,qBAA9D,EAIG,KAAK,IAAL,CAAU,IAAV,CAAe,CAAf,CAJH,EAIsB,KAAK,IAAL,CAAU,CAAV,EAAa,CAAb,CAJtB;AAKH,iBARkB;AASnB,qBAAK,aAAS,CAAT,EAAY,CAAZ,EAAe;AAChB,wBAAI,CAAJ;AACA,2BAAO,CAAP,IAAY,QAAZ,KAAyB,IAAI,SAAS,cAAT,CAAwB,CAAxB,CAA7B;AACA,yBAAK,IAAI,KAAK,IAAL,CAAU,MAAnB,EAA2B,GAA3B;AACI,4BAAI,KAAK,IAAL,CAAU,CAAV,EAAa,OAAb,KAAyB,CAA7B,EAAgC;AAC5B,iCAAK,IAAL,CAAU,CAAV,EAAa,OAAb,GAAuB,CAAvB,EAA0B,KAAK,IAAL,CAAU,KAAK,IAAL,CAAU,CAAV,CAAV,EAAwB,CAAxB,CAA1B;AACA;AACH;AAJL,qBAKA,KAAK,GAAL,CAAS,CAAT,EAAY,CAAZ;AACH,iBAlBkB;AAmBnB,wBAAQ,gBAAS,CAAT,EAAY;AAChB,wBAAI,CAAJ;AACA,2BAAO,CAAP,IAAY,QAAZ,KAAyB,IAAI,SAAS,cAAT,CAAwB,CAAxB,CAA7B;AACA,yBAAK,IAAI,KAAK,IAAL,CAAU,MAAnB,EAA2B,GAA3B;AACI,4BAAI,KAAK,IAAL,CAAU,CAAV,EAAa,OAAb,KAAyB,CAA7B,EAAgC;AAC5B,iCAAK,IAAL,CAAU,MAAV,CAAiB,CAAjB,EAAoB,CAApB;AACA;AACH;AAJL;AAKH,iBA3BkB;AA4BnB,sBAAM,cAAS,CAAT,EAAY,CAAZ,EAAe;AACjB,wBAAI,IAAI,EAAE,OAAF,CAAU,MAAlB;AACA,yBAAK,WAAL,GAAmB,EAAE,KAAF,GAAU,EAAE,KAA/B,GAAuC,EAAE,OAAF,CAAU,SAAV,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,EAAE,KAA5B,EAAmC,EAAE,MAArC,CAAvC,EAAqF,EAAE,OAAF,CAAU,EAAE,OAAZ,EAAqB,CAArB,EAAwB,KAAK,KAA7B,CAArF;AACH,iBA/BkB;AAgCnB,sBAAM,gBAAW;AACb,wBAAI,IAAI,IAAR;AACA,yBAAK,KAAL,IAAc,KAAK,QAAL,GAAgB,EAAE,YAAW;AACvC,4BAAI,IAAI,KAAK,GAAL,EAAR;4BAAoB,CAApB;AACA,6BAAK,IAAI,EAAE,IAAF,CAAO,MAAhB,EAAwB,GAAxB;AACI,8BAAE,IAAF,CAAO,EAAE,IAAF,CAAO,CAAP,CAAP,EAAkB,CAAlB;AADJ;AAEH,qBAJ6B,EAI3B,MAAM,EAJqB,CAA9B;AAKH,iBAvCkB;AAwCnB,uBAAO,iBAAW;AACd,wBAAI,CAAJ;AACA,yBAAK,QAAL,KAAkB,EAAE,KAAK,QAAP,GAAkB,KAAK,QAAL,GAAgB,IAApD;AACH;AA3CkB,aAlCvB;AA+EH,SA7LD,EA6LG,MA7LH;AA8LA,YAAI,gBAAgB,SAAhB,aAAgB,GAAW;AAC3B,gBAAI,IAAI,EAAR;AACA,mBAAO,EAAE,IAAF,GAAS,EAAE,KAAF,GAAU,YAAW,CAAE,CAAhC,EAAkC,EAAE,GAAF,GAAQ,UAAS,CAAT,EAAY,CAAZ,EAAe;;;;;;AAM/D,aANM,EAMJ,CANH;AAOH,SATD;AAUA,sBAAc,IAAd,GAAqB,MAArB;AACA,sBAAc,IAAd,GAAqB,MAArB;AACA,sBAAc,KAAd,GAAsB,OAAtB;AACA,sBAAc,IAAd,GAAqB,MAArB;AACA,sBAAc,GAAd,GAAoB,KAApB;AACA,sBAAc,MAAd,GAAuB,QAAvB;AACA,sBAAc,iBAAd,GAAkC,mBAAlC;AACA,sBAAc,mBAAd,GAAoC,qBAApC;AACA,sBAAc,SAAd,GAA0B,WAA1B;AACA,sBAAc,WAAd,GAA4B,aAA5B;AACA,YAAI,gBAAgB,SAAhB,aAAgB,CAAS,CAAT,EAAY;AAC5B,gBAAI,IAAI,EAAR;gBACI,CADJ;gBACO,CADP;gBACU,CADV;gBACa,IAAI,aAAW;AACpB,oBAAI,EAAE,mxBAAF,CAAJ,EAA4xB,EAAE,IAAF,GAAS,CAAryB,EAAwyB,EAAE,cAAF,KAAqB,OAAO,OAAP,GAAiB,aAAtC,CAAxyB,EAA81B,IAAI,IAAI,OAAJ,CAAY;AAC12B,2BAAO,EAAE,UAAF,IAAgB;AADm1B,iBAAZ,CAAl2B,EAEI,EAAE,cAAF,KAAqB,OAAO,OAAP,GAAiB,aAAtC,CAFJ,EAE0D,IAAI,IAAI,aAAJ,CAAkB;AAC5E,2BAAO,EAAE,UAAF,IAAgB;AADqD,iBAAlB,CAF9D,EAII,IAAI,IAAI,OAAJ,CAAY;AAChB,2BAAO,EAAE,UAAF,IAAgB;AADP,iBAAZ,CAJR,GAMK,EAAE,IAAF,CAAO,6BAAP,EAAsC,IAAtC,CAA2C,EAAE,KAA7C,GAAqD,EAAE,IAAF,CAAO,WAAP,EAAoB,IAApB,EAN1D;AAOA,oBAAI,EAAE,OAAF,IAAa,EAAE,MAAnB,EAA2B;AACvB,wBAAI,IAAI,SAAS,aAAT,CAAuB,OAAvB,CAAR;AACA,sBAAE,IAAF,GAAS,UAAT,EAAqB,SAAS,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyC,WAAzC,CAAqD,CAArD,CAArB;AACA,wBAAI,IAAI,kBAAkB,EAAE,OAApB,GAA8B,aAA9B,GAA8C,EAAE,MAAhD,GAAyD,IAAjE;AACA,sBAAE,UAAF,GAAe,EAAE,UAAF,CAAa,OAAb,GAAuB,iBAAiB,CAAjB,GAAqB,GAA3D,GAAiE,EAAE,SAAF,GAAc,iBAAiB,CAAjB,GAAqB,GAApG;AACH,kBAAC,EAAE,IAAF,IAAU,EAAE,OAAb,KAAyB,EAAE,cAAF,EAAkB,GAAlB,CAAsB,aAAtB,EAAqC,EAAE,IAAF,IAAU,EAAE,OAAjD,CAAzB,EAAoF,EAAE,UAAF,KAAiB,EAAE,GAAF,CAAM,OAAN,EAAe,EAAE,UAAjB,GAA8B,EAAE,IAAF,CAAO,GAAP,EAAY,GAAZ,CAAgB,OAAhB,EAAyB,EAAE,UAA3B,CAA9B,EAAsE,EAAE,IAAF,CAAO,WAAP,EAAoB,GAApB,CAAwB,cAAxB,EAAwC,EAAE,UAA1C,CAAtE,EAA6H,EAAE,IAAF,CAAO,aAAP,EAAsB,GAAtB,CAA0B,OAA1B,EAAmC,EAAE,UAArC,CAA9I,CAApF,EAAqR,EAAE,MAAF,EAAU,IAAV,CAAe,QAAf,EAAyB,CAAzB,CAArR,EAAkT,GAAlT;AACJ,aAfL;gBAeO,IAAI,SAAJ,CAAI,CAAS,CAAT,EAAY;AACf,oBAAI,IAAI,KAAK,KAAL,CAAW,IAAI,EAAf,CAAR;AACA,uBAAO,CAAC,GAAD,EAAM,IAAN,EAAY,GAAZ,EAAiB,IAAjB,EAAuB,GAAvB,EAA4B,IAA5B,EAAkC,GAAlC,EAAuC,IAAvC,EAA6C,GAA7C,EAAkD,CAAlD,CAAP;AACH,aAlBL;gBAkBO,IAAI,SAAJ,CAAI,CAAS,CAAT,EAAY;AACf,uBAAO,MAAM,MAAN,GAAe,QAAQ,IAAvB,GAA8B,MAAM,MAAN,GAAe,QAAQ,IAAvB,GAA8B,MAAM,OAAN,GAAgB,QAAQ,KAAxB,GAAgC,MAAM,MAAN,GAAe,QAAQ,KAAvB,GAA+B,MAAM,MAAN,GAAe,QAAQ,IAAvB,GAA8B,MAAM,KAAN,GAAc,QAAQ,GAAtB,GAA4B,MAAM,QAAN,GAAiB,QAAQ,MAAzB,GAAkC,MAAM,mBAAN,GAA4B,QAAQ,iBAApC,GAAwD,MAAM,qBAAN,GAA8B,QAAQ,mBAAtC,GAA4D,MAAM,WAAN,GAAoB,QAAQ,SAA5B,GAAwC,MAAM,aAAN,GAAsB,QAAQ,WAA9B,GAA4C,QAAQ,MAA9a;AACH,aApBL;gBAoBO,IAAI,SAAJ,CAAI,GAAW;AACd,kBAAE,cAAF,EAAkB,KAAlB,KAA4B,GAA5B,IAAmC,EAAE,cAAF,EAAkB,QAAlB,CAA2B,YAA3B,GAA0C,EAAE,KAAF,EAA7E,KAA2F,EAAE,cAAF,EAAkB,WAAlB,CAA8B,YAA9B,GAA6C,EAAE,IAAF,EAAxI;AACH,aAtBL;gBAsBO,IAAI,WAAS,CAAT,EAAY;AACf,oBAAI,IAAK,IAAI,IAAJ,EAAD,CAAW,OAAX,KAAuB,GAA/B;oBACI,IAAI,EAAE,MAAF,CAAS,IADjB;oBAEI,IAAI,EAAE,SAAF,CAAY,OAFpB;oBAGI,IAAI,cAAc,WAAd,CAA0B,EAAE,KAAF,IAAW,IAArC,EAA2C,KAHnD;AAIA,kBAAE,QAAF,IAAc,CAAC,EAAE,QAAF,CAAW,OAAX,CAAmB,KAAnB,CAAyB,kBAAzB,CAAf,KAAgE,IAAI,EAAE,QAAF,CAAW,OAA/E;AACA,oBAAI,IAAI,CAAR;AACA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAAE,MAAtB,EAA8B,GAA9B,EAAmC;AAC/B,wBAAI,EAAE,CAAF,EAAK,IAAL,GAAY,CAAhB,EACI;AACJ,wBAAI,EAAE,CAAF,EAAK,WAAL,GAAmB,EAAE,SAAF,CAAY,WAA/B,GAA6C,CAA7C,GAAiD,CAAC,CAAtD;AACA;AACH;AACD,oBAAI,IAAI,KAAK,KAAL,CAAW,EAAE,SAAF,CAAY,WAAvB,IAAsC,OAA9C;AACA,oBAAI,CAAJ,GAAQ,KAAK,yCAAb,GAAyD,IAAI,CAAJ,KAAU,KAAK,0CAAf,CAAzD,EAAqH,EAAE,IAAF,CAAO,wBAAP,EAAiC,IAAjC,CAAsC,CAAtC,CAArH,EAA+J,EAAE,IAAF,CAAO,2BAAP,EAAoC,IAApC,CAAyC,CAAzC,CAA/J;AACA,oBAAI,EAAE,SAAF,CAAY,SAAhB,EAA2B;AACvB,wBAAI,IAAI,KAAK,KAAL,CAAW,EAAE,SAAF,CAAY,SAAvB,CAAR;AACA,yBAAK,CAAL,IAAU,EAAE,SAAF,CAAY,WAAtB,GAAoC,KAAK,MAAM,CAAN,GAAU,IAAV,GAAiB,EAAE,EAAE,SAAF,CAAY,WAAd,CAAjB,GAA8C,GAAvF,GAA6F,KAAK,MAAM,CAAxG,EAA2G,EAAE,IAAF,CAAO,wBAAP,EAAiC,IAAjC,CAAsC,WAAW,CAAjD,CAA3G;AACH;AACD,kBAAE,GAAF,CAAM,iBAAN,EAAyB,EAAE,EAAE,SAAF,CAAY,IAAd,CAAzB;AACH,aA1CL;gBA0CO,IAAI,WAAS,CAAT,EAAY;AACf,oBAAI,mBAAmB,EAAE,IAAF,CAAO,WAAP,EAAoB,KAApB,EAAvB;AACA,oBAAI,IAAI,EAAE,6UAAF,CAAR;oBACI,IAAI,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CADR;oBAEI,IAAK,IAAI,IAAJ,EAAD,CAAW,MAAX,EAFR;oBAGI,IAAI,EAAE,KAAF,CAAQ,IAHhB;oBAII,IAAI,KAAK,GAAL,CAAS,CAAT,EAAY,EAAE,MAAd,CAJR;oBAKI,CALJ;oBAKO,CALP;oBAKU,IAAI,CAAC,QALf;oBAMI,IAAI,QANR;AAOA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB;AACI,wBAAI,EAAE,CAAF,CAAJ,EAAU,EAAE,cAAF,GAAmB,CAAnB,KAAyB,IAAI,EAAE,cAA/B,CAAV,EAA0D,EAAE,cAAF,GAAmB,CAAnB,KAAyB,IAAI,EAAE,cAA/B,CAA1D;AADJ,iBAEA,IAAI,IAAI,EAAR;oBACI,IAAI,IAAI,CADZ;oBAEI,CAFJ;oBAEO,CAFP;AAGA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB;AAA2B,qBAAC,UAAS,CAAT,EAAW,gBAAX,EAA6B;AACrD,4BAAI,EAAE,KAAF,EAAJ,EAAe,IAAI,EAAE,CAAF,CAAnB,EAAyB,IAAI,KAAK,EAAE,cAAF,GAAmB,EAAE,cAA1B,IAA4C,CAAzE,EAA4E,IAAI,KAAK,IAAI,EAAE,cAAX,IAA6B,CAA7G,EAAgH,EAAE,IAAF,CAAO,WAAP,EAAoB,IAApB,CAAyB,KAAK,CAAL,GAAS,OAAT,GAAmB,EAAE,CAAC,IAAI,CAAL,IAAU,CAAZ,CAA5C,CAAhH,EAA6K,EAAE,IAAF,CAAO,eAAP,EAAwB,IAAxB,CAA6B,KAAK,KAAL,CAAW,EAAE,cAAb,IAA+B,OAA5D,CAA7K,EAAmP,EAAE,IAAF,CAAO,cAAP,EAAuB,IAAvB,CAA4B,KAAK,KAAL,CAAW,EAAE,cAAb,IAA+B,OAA3D,CAAnP,EAAwT,EAAE,IAAF,CAAO,cAAP,EAAuB,GAAvB,CAA2B;AAC/U,oCAAQ,CADuU;AAE/U,iCAAK,CAF0U;AAG/U,gDAAoB,EAAE,KAAF,IAAW;AAHgT,yBAA3B,CAAxT,EAII,OAAO,WAAP,IAAsB,WAAtB,IAAqC,YAAY,WAAZ,CAAwB,EAAE,IAAF,CAAO,QAAP,EAAiB,CAAjB,CAAxB,CAJzC,EAIuF,EAAE,IAAF,CAAO,UAAP,EAAmB,IAAnB,CAAwB,IAAxB,EAA8B,gBAAgB,CAA9C,CAJvF,EAIyI,WAAW,YAAW;AAC3J,8BAAE,GAAF,CAAM,gBAAgB,CAAtB,EAAyB,EAAE,EAAE,CAAF,EAAK,IAAP,CAAzB;AACH,yBAFwI,EAEtI,CAFsI,CAJzI,EAMO,EAAE,QAAF,CAAW,gBAAX,CANP;AAOH,qBAR0B,EAQxB,CARwB,EAQrB,gBARqB;AAA3B;AASH,aAjEL;gBAiEO,IAAI,SAAJ,CAAI,CAAS,CAAT,EAAY;AACf,oBAAI,SAAS,EAAE,IAAF,CAAO,WAAP,EAAoB,KAApB,EAAb;AACA,oBAAI,CAAC,EAAE,MAAH,IAAa,CAAC,EAAE,MAAF,CAAS,MAA3B,EAAmC;AAC/B,2BAAO,IAAP;AACA;AACH;;AAED,oBAAI,IAAI,EAAE,MAAF,CAAS,CAAT,CAAR;AACA,kBAAE,yBAAF,EAA6B,IAA7B,CAAkC,0CAA0C,EAAE,KAA9E,EAAqF,IAArF,CAA0F,MAA1F,EAAkG,EAAE,GAApG,EAAyG,QAAzG,CAAkH,MAAlH,GAA2H,OAAO,IAAP,EAA3H;AACH,aA1EL;;AA4EA,mBAAO,EAAE,OAAF,GAAY,UAAS,CAAT,EAAY;AACvB,qBAAK,EAAE,GAAF,CAAM,iBAAN,EAAyB,QAAQ,iBAAjC,GAAqD,EAAE,IAAF,EAArD,EAA+D,EAAE,IAAF,CAAO,aAAP,EAAsB,IAAtB,EAApE,KAAqG,EAAE,IAAF,CAAO,aAAP,EAAsB,IAAtB,IAA8B,EAAE,KAAF,EAAnI;AACH,aAFE,EAEA,EAAE,KAAF,GAAU,UAAS,YAAT,EAAuB;;AAEhC,kBAAE,YAAF;AACA,kBAAE,YAAF;AACA,kBAAE,YAAF;AACA,kBAAE,cAAF,EAAkB,QAAlB,CAA2B,YAA3B,KAA4C,EAAE,IAAF,EAA5C;AACH,aARE,EAQA,GARA,EAQK,CARZ;AASH,SAtFD;AAuFA,sBAAc,WAAd,GAA4B;AACxB,gBAAI;AACA,uBAAO;AADP,aADoB;AAIxB,gBAAI;AACA,uBAAO;AADP,aAJoB;AAOxB,gBAAI;AACA,uBAAO;AADP,aAPoB;AAUxB,gBAAI;AACA,uBAAO;AADP;AAVoB,SAA5B;;AAeA,iBAAS,cAAT,CAAwB,IAAxB,EAA8B;AAC1B,oBAAQ,KAAR,GAAgB,IAAI,aAAJ,CAAkB,IAAlB,CAAhB;AACA,oBAAQ,KAAR,CAAc,IAAd,CAAmB,SAAnB,CAA6B,EAAE,cAAF,CAA7B;AACA,oBAAQ,KAAR,CAAc,OAAd,CAAsB,IAAtB;AACH;;AAED,iBAAS,WAAT,CAAqB,QAArB,EAA+B;AAC3B,uBAAW,YAAU;AACjB,wBAAQ,GAAR,CAAY,kBAAZ;AACA,wBAAQ,KAAR,CAAc,KAAd,CAAoB,QAApB;AACA,wBAAQ,KAAR,CAAc,OAAd,CAAsB,KAAtB;AACH,aAJD,EAIG,GAJH;AAKH;;AAED,eAAO,OAAP;AACH;;;AAGA,CAzVD;;;ACAA,CAAC,YAAU;AACX,YACK,MADL,CACY,gBADZ,EAEK,UAFL,CAEgB,wBAFhB,EAEyC,CACjC,QADiC,EAEjC,UAFiC,EAGjC,cAHiC,EAIjC,eAJiC,EAKjC,IALiC,EAMjC,gBANiC,EAOjC,SAPiC,EAQjC,sBARiC,CAFzC;;AAcA,aAAS,sBAAT,CAAgC,MAAhC,EAAwC,QAAxC,EAAkD,YAAlD,EAAgE,aAAhE,EAA+E,EAA/E,EAAmF,cAAnF,EAAmG,OAAnG,EAA4G;AACxG,YAAI,OAAO,SAAS,cAAT,CAAwB,oBAAxB,CAAX;AACA,YAAI,OAAO,SAAS,cAAT,CAAwB,sBAAxB,CAAX;AACA,YAAI,OAAO,SAAS,cAAT,CAAwB,gBAAxB,CAAX;AACA,YAAI,OAAO,SAAS,cAAT,CAAwB,mBAAxB,CAAX;;AAIA,YAAI,KAAK,IAAT;;;;AAIA,gBAAQ,MAAR,CAAe,MAAf,EAAsB;;AAElB,uBAAW,EAFO;;AAIlB,6BAAiB;AACb,0BAAU,IADG;AAEb,yBAAS,CAAC,EAAD,EAAK,EAAL,CAFI;AAGb,yBAAS,CAHI;AAIb,mCAAmB,KAJN;AAKb,2BAAW;AACP,6BAAS;AADF,iBALE;;AASb,2BAAW;AACP,6BAAS,KADF;;AAGP,6BAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC,CAHF;;AAKP,2BAAO,eAAS,KAAT,EAAgB,QAAhB,EAA0B,MAA1B,EAAkC,CAAE,CALpC;;;AAQP,4BAAQ,gBAAS,KAAT,EAAgB,QAAhB,EAA0B,MAA1B,EAAkC;AACtC,4BAAI,OAAO,KAAP,CAAa,GAAjB,EAAsB,OAAO,KAAP,CAAa,GAAb,CAAiB,MAAjB;AACzB,qBAVM;;AAYP,0BAAM,cAAS,KAAT,EAAgB,QAAhB,EAA0B,MAA1B,EAAkC;AACpC,gCAAQ,GAAR,CAAY,KAAZ,EAAmB,QAAnB,EAA6B,MAA7B;AACA,iCAAS,YAAW;AAChB,oCAAQ,GAAR,CAAY,SAAZ;AACA,mCAAO,KAAP,CAAa,GAAb,CAAiB,MAAjB;AACH,yBAHD,EAGG,GAHH;AAIH;AAlBM;AATE,aAJC;;AAmClB,oBAAQ;AACJ,yBAAS;AADL,aAnCU;;AAuClB,oBAAQ;AACJ,wBAAQ,gBAAS,CAAT,EAAY,KAAZ,EAAmB;AACvB,6BAAS,YAAW;AAChB,4BAAI,MAAM,GAAN,IAAa,MAAM,GAAN,CAAU,MAA3B,EAAmC,MAAM,GAAN,CAAU,MAAV;AACtC,qBAFD,EAEG,GAFH;AAGH;AALG;;AAvCU,SAAtB;;AAmDA,uBAAe,YAAf,CAA6B,WAA7B,EACC,IADD,CACO;AAAA,mBAAa,aAAa,YAAb,CAA0B,SAA1B,CAAb;AAAA,SADP,EAEC,IAFD,CAEO;AAAA,mBAAa,cAAc,aAAd,CAA4B,MAA5B,CAAb;AAAA,SAFP,EAGC,IAHD,CAGO,mBAAa;AAChB,oBAAQ,GAAR,CAAY,OAAZ;AACA,mBAAO,SAAP,CAAiB,OAAjB,GAA2B,OAA3B;;AAEA,qBAAS,YAAU;AACf,uBAAO,MAAP,CAAc,OAAd,GAAwB,IAAxB;AACA;AACH,aAHD,EAGG,IAHH;AAIH,SAXD;;;;;;;;;AAoBA,iBAAS,UAAT,OAAwD;AAAA,gBAA/B,KAA+B,QAAlC,CAAkC;AAAA,gBAArB,EAAqB,QAAxB,CAAwB;AAAA,gBAAZ,CAAY,QAAjB,GAAiB;AAAA,gBAAJ,CAAI,QAAT,GAAS;;AACpD,kBACC,KADD,CAEI,EAAE,GAAG,WAAL,CAFJ,EAGE,MAHF,CAII,EAAE,GAAG,YAAL,CAJJ,EAKE,kBALF,CAKqB,CALrB;AAMH;;;;AAML,iBAAS,iBAAT,GAA6B;AACzB,2BAAe,aAAf,GACC,IADD,CACO;AAAA,uBAAK,GAAI,UAAC,OAAD,EAAS,MAAT,EAAoB;AAChC,uBAAG,IAAH,CAAQ,CAAR,EAAW,IAAX,CAAgB,OAAhB,EAAwB,MAAxB;AACH,iBAFW,CAAL;AAAA,aADP,EAIC,IAJD,CAIO,gBAAQ;AAAA;;AACX,oBAAI,aAAa,SAAS,cAAT,CAAwB,YAAxB,CAAjB;;AAEA,oBAAI,YAAY,GAAG,SAAH,CAAa,qBAAb,CAAhB;oBACI,YAAY,KAAK,WADrB;oBAEI,aAAa,KAAK,YAFtB;;AAIA,oBAAI,cAAc,GAAG,QAAH,CAAY,uBAAZ,CAAlB;oBACI,cAAc,KAAK,WADvB;oBAEI,eAAe,KAAK,YAFxB;;AAIA,oBAAI,gBAAgB,GAAG,WAAH,CAAe,iBAAf,CAApB;oBACI,gBAAgB,KAAK,WADzB;oBAEI,iBAAiB,KAAK,YAF1B;;AAIA,oBAAI,mBAAmB,GAAG,QAAH,CAAY,oBAAZ,CAAvB;oBACI,oBAAoB,KAAK,YAD7B;oBAEI,mBAAoB,KAAK,WAF7B;;AAIA,oBAAI,SAAS,CAAC;AACN,uBAAG,SADG;AAEN,uBAAG,UAFG;AAGN,yBAAK;AAAA,+BAAK,MAAI,CAAT;AAAA,qBAHC;AAIN,yBAAK;AAAA,+BAAK,CAAL;AAAA;AAJC,iBAAD,EAKP;AACE,uBAAG,WADL;AAEE,uBAAG,UAFL;AAGE,yBAAK;AAAA,+BAAK,OAAK,CAAV;AAAA,qBAHP;AAIE,yBAAK;AAAA,+BAAK,CAAL;AAAA;AAJP,iBALO,EAUP;AACE,uBAAG,aADL;AAEE,uBAAG,IAFL;AAGE,yBAAK;AAAA,+BAAK,CAAL;AAAA,qBAHP;AAIE,yBAAK;AAAA,+BAAK,CAAL;AAAA;AAJP,iBAVO,EAeP;AACE,uBAAG,gBADL;AAEE,uBAAG,IAFL;AAGE,yBAAK;AAAA,+BAAK,CAAL;AAAA,qBAHP;AAIE,yBAAK;AAAA,+BAAK,CAAL;AAAA;AAJP,iBAfO,CAAb;;AAsBA,wBAAQ,OAAR,CAAgB,OAAhB,EAAyB,EAAzB,CAA4B,QAA5B,EAAsC,aAAK;AACvC,2BAAO,GAAP,CAAW,UAAX;AACA,uBAAG,SAAH;;AAEA,2BAAO,GAAP,CAAY;AAAA,4BAAK,KAAL,SAAE,CAAF;AAAA,+BAAgB,MAAM,kBAAN,CAAyB,GAAzB,CAAhB;AAAA,qBAAZ;AACH,iBALD;;AAOA,oBAAI,oBAAoB,CAAC,MAAD,EAAQ,KAAR,EAAc,aAAd,EAA4B,WAA5B,EAAwC,YAAxC,EAAqD,aAArD,EAAmE,MAAnE,EAA0E,UAA1E,EAAqF,KAArF,EAA2F,KAA3F,CAAxB;AACA,oBAAI,aAAa,GAAG,IAAH,CAAQ,MAAR,CAAe,UAAf,CAAjB;AACA,oBAAI,eAAe,GAAG,MAAH,CAAU,KAAV,CAAnB;;AAEA,wBAAQ,OAAR,CAAgB,IAAhB,EAAsB,aAAK;AACvB,sBAAE,IAAF,GAAS,GAAG,IAAH,CAAQ,IAAR,CAAa,EAAE,IAAf,EAAqB,WAArB,EAAT;AACA,sBAAE,KAAF,GAAU,GAAG,IAAH,CAAQ,KAAR,CAAc,EAAE,IAAhB,CAAV;;AAEA,sCAAkB,OAAlB,CAA2B,aAAK;AAC5B,0BAAE,CAAF,IAAO,QAAQ,QAAR,CAAiB,EAAE,CAAF,CAAjB,IAAyB,WAAW,EAAE,CAAF,CAAX,CAAzB,GAA4C,IAAnD;AACH,qBAFD;AAGH,iBAPD;;;;;;;AAcA,oBAAI,MAAM,YAAY,IAAZ,CAAV;AACA,oBAAI,MAAM,IAAI,QAAJ,EAAV;;AAEA,oBAAI,gBAAgB,IAAI,SAAJ,CAAe;AAAA,2BAAK,EAAE,IAAP;AAAA,iBAAf,CAApB;AACA,oBAAI,eAAe,IAAI,SAAJ,CAAe;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAAf,CAAnB;oBACI,YAAY,aAAa,MAAb,CAAoB,CAApB,EAAuB,MAAvB,CAA8B,aAAa,GAAb,CAAiB,CAAjB,CAA9B,EAAmD,GAAnD,CAAwD;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAAxD,CADhB;AAEA,oBAAI,eAAe,IAAI,SAAJ,CAAe;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAAf,CAAnB;oBACI,YAAY,aAAa,MAAb,CAAoB,CAApB,EAAuB,MAAvB,CAA8B,aAAa,GAAb,CAAiB,CAAjB,CAA9B,EAAmD,GAAnD,CAAwD;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAAxD,CADhB;;;;AAOA,oBAAI,oBAAoB,IAAI,SAAJ,CAAe;AAAA,2BAAM,CAAC,EAAE,GAAH,EAAO,EAAE,GAAT,CAAN;AAAA,iBAAf,CAAxB;AACA,oBAAI,gBAAgB,kBAAkB,KAAlB,EAApB;AACA,wBAAQ,GAAR,CAAY,iBAAZ;;AAEA,oBAAI,gBAAgB,IAAI,SAAJ,CAAe;AAAA,2BAAK,EAAE,IAAP;AAAA,iBAAf,CAApB;AACA,oBAAI,mBAAmB,IAAI,SAAJ,CAAe;AAAA,2BAAK,EAAE,KAAP;AAAA,iBAAf,CAAvB;AACA,oBAAI,kBAAkB,IAAI,SAAJ,CAAe;AAAA,2BAAK,EAAE,IAAP;AAAA,iBAAf,CAAtB;;AAEA,oBAAI,aAAa,GAAG,MAAH,CAAU,KAAK,GAAL,CAAU;AAAA,2BAAK,EAAE,IAAP;AAAA,iBAAV,CAAV,CAAjB;AACA,oBAAI,aAAa,WAAW,GAAX,CAAgB;AAAA,2BAAK,IAAI,IAAJ,CAAS,CAAT,CAAL;AAAA,iBAAhB,CAAjB;;AAEA,oBAAI,eAAe,cAAc,KAAd,GAAsB,SAAtB,CAAiC;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAAjC,CAAnB;AACA,oBAAI,kBAAkB,cAAc,KAAd,GAAsB,SAAtB,CAAiC;AAAA,2BAAK,EAAE,WAAP;AAAA,iBAAjC,CAAtB;;AAEA,oBAAI,iBAAiB,iBAAiB,KAAjB,GAAyB,SAAzB,CAAoC;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAApC,CAArB;AACA,oBAAI,oBAAoB,iBAAiB,KAAjB,GAAyB,SAAzB,CAAoC;AAAA,2BAAK,EAAE,WAAP;AAAA,iBAApC,CAAxB;;AAEA,oBAAI,oBAAoB,cAAc,KAAd,GAAsB,MAAtB,CAA6B,qBAAqB,MAArB,EAA4B,MAA5B,CAA7B,EAAiE,wBAAwB,MAAxB,EAA+B,MAA/B,CAAjE,EAAwG,aAAxG,CAAxB;AACA,oBAAI,qBAAqB,cAAc,KAAd,GAAsB,MAAtB,CAA6B,aAAa,KAAb,CAA7B,EAAkD,gBAAgB,KAAhB,CAAlD,EAA0E,aAA1E,CAAzB;;AAGA,oBAAI,WAAW,CACX,UAAC,CAAD,EAAG,CAAH,EAAS;AACL,sBAAE,EAAE,KAAJ;AACA,sBAAE,GAAF,GAAQ,EAAE,GAAV;AACA,sBAAE,GAAF,GAAQ,EAAE,GAAV;AACA,sBAAE,IAAF,GAAS,EAAE,IAAX;AACA,sBAAE,OAAF,GAAY,EAAE,GAAd;AACA,sBAAE,MAAF,IAAY,EAAE,GAAd;AACA,sBAAE,MAAF,GAAW,EAAE,MAAF,GAAW,EAAE,KAAxB;AACA,sBAAE,cAAF,GAAmB,EAAE,MAAF,GAAY,EAAE,OAAF,GAAY,EAAE,MAAf,GAAyB,GAApC,GAA0C,CAA7D;AACA,2BAAO,CAAP;AACH,iBAXU;;AAaX,0BAAC,CAAD,EAAI,CAAJ,EAAU;AACN,sBAAE,EAAE,KAAJ;AACA,sBAAE,GAAF,GAAQ,EAAE,GAAV;AACA,sBAAE,GAAF,GAAQ,EAAE,GAAV;AACA,sBAAE,IAAF,GAAS,EAAE,IAAX;AACA,sBAAE,OAAF,GAAY,EAAE,GAAd;AACA,sBAAE,MAAF,IAAY,EAAE,GAAd;AACA,sBAAE,MAAF,GAAW,EAAE,KAAF,GAAU,EAAE,MAAF,GAAW,EAAE,KAAvB,GAA+B,CAA1C;AACA,sBAAE,cAAF,GAAmB,EAAE,MAAF,GAAY,EAAE,OAAF,GAAY,EAAE,MAAf,GAAyB,GAApC,GAA0C,CAA7D;AACA,2BAAO,CAAP;AACH,iBAvBU;;AAyBX;AAAA,2BAAO;AACH,+BAAO,CADJ;AAEH,6BAAK,CAFF;AAGH,6BAAK,CAHF;AAIH,8BAAM,EAJH;AAKH,iCAAS,CALN;AAMH,gCAAQ,CANL;AAOH,gCAAQ,CAPL;AAQH,wCAAgB;AARb,qBAAP;AAAA,iBAzBW,CAAf;;;;;;;;;;;;;AAgDA,oBAAI,mBAAmB,sCAAc,KAAd,IAAsB,MAAtB,6BAAgC,QAAhC,CAAvB;AACA,oBAAI,oBAAoB,cAAc,KAAd,GAAsB,SAAtB,CAAiC;AAAA,2BAAK,EAAE,GAAP;AAAA,iBAAjC,CAAxB;AACA,oBAAI,qBAAqB,GAAG,MAAH,CAAU,kBAAkB,GAAlB,CAAsB,CAAtB,EAAyB,IAAzB,CAA8B,kBAAkB,GAAlB,GAAwB,OAAxB,GAAkC,CAAlC,CAA9B,EAAoE;AAAA,2BAAM,GAAG,KAAT;AAAA,iBAApE,CAAV,CAAzB;;AAEA,wBAAQ,GAAR,CAAY,iBAAiB,GAAjB,EAAZ;AACA,wBAAQ,GAAR,CAAY,kBAAkB,GAAlB,EAAZ;;;AAGA,8BACK,KADL,CACW,aADX,EAEK,MAFL,CAEY,cAFZ,EAGK,kBAHL,CAGwB,IAHxB,EAIK,OAJL,CAIa,EAAC,KAAK,EAAN,EAAU,OAAO,EAAjB,EAAqB,QAAQ,EAA7B,EAAiC,MAAM,EAAvC,EAJb,EAKK,SALL,CAKe,aALf,EAMK,KANL,CAMW,gBANX,EAOK,CAPL,CAOO,GAAG,KAAH,CAAS,MAAT,GAAkB,MAAlB,CAAyB,SAAzB,CAPP,EAQK,CARL,CAQO,GAAG,KAAH,CAAS,MAAT,GAAkB,MAAlB,CAAyB,SAAzB,CARP;;AAAA,iBAUK,aAVL,CAUmB,IAVnB;;;;;AAAA,iBAeK,WAfL,CAekB;AAAA,2BAAK,EAAE,KAAF,CAAQ,GAAb;AAAA,iBAflB,EAgBK,aAhBL,CAgBoB;AAAA,2BAAK,EAAE,KAAF,CAAQ,GAAb;AAAA,iBAhBpB,EAiBK,mBAjBL,CAiB0B;AAAA,2BAAK,EAAE,KAAF,CAAQ,MAAb;AAAA,iBAjB1B,EAkBK,qBAlBL,CAkB2B,GAlB3B,EAmBK,YAnBL,CAmBkB,GAnBlB,EAoBK,YApBL,CAoBkB,GApBlB,EAqBK,QArBL,CAqBc,IArBd,EAsBK,QAtBL,CAsBc,IAtBd,EAuBK,UAvBL,CAuBgB,UAvBhB,EAwBK,UAxBL,CAwBgB,WAxBhB,EAyBK,WAzBL,CAyBiB,IAzBjB,EA0BK,KA1BL,CA0BY;AAAA,2BAAK,EAAE,GAAP;AAAA,iBA1BZ,EA2BK,WA3BL,CA2BiB,IA3BjB,EA4BK,KA5BL,CA4BW,UAAU,CAAV,EAAa;AAChB,2BAAO,CACH,EAAE,GADC,EAEH,iBAAiB,aAAa,EAAE,KAAF,CAAQ,OAArB,CAFd,EAGH,+BAA+B,aAAa,EAAE,KAAF,CAAQ,cAArB,CAA/B,GAAsE,GAHnE,EAIH,gCAAgC,aAAa,EAAE,KAAF,CAAQ,qBAArB,CAAhC,GAA8E,GAJ3E,EAKL,IALK,CAKA,IALA,CAAP;AAMH,iBAnCL;;;;;;;;AA2CA,oBAAI,gBAAiB,sCAAc,KAAd,IAAsB,MAAtB,6BAAgC,QAAhC,CAArB;;AAEA,0BACK,CADL,CACO,GAAG,IAAH,CAAQ,KAAR,GAAgB,MAAhB,CAAuB,UAAvB,CADP,EAEK,KAFL,CAEW,SAFX,EAGK,MAHL,CAGa,aAAa,GAH1B;;;AAAA,iBAMK,UANL,CAMgB,IANhB,EAOK,kBAPL,CAOwB,IAPxB,EAQK,OARL,CAQa,EAAC,KAAK,EAAN,EAAU,OAAO,EAAjB,EAAqB,QAAQ,EAA7B,EAAiC,MAAM,EAAvC,EARb,EASK,SATL,CASe,aATf,EAUK,aAVL,CAUmB,IAVnB,EAWK,UAXL,CAWgB,WAXhB,EAYK,KAZL,CAYW,GAAG,IAAH,CAAQ,GAAR,CAAY,KAZvB,EAaK,MAbL,CAaY,GAAG,IAAH,CAAQ,IAbpB,EAcK,QAdL,CAcc,IAdd,EAeK,yBAfL,CAe+B,IAf/B,EAgBK,MAhBL,CAgBY,GAAG,MAAH,GAAY,CAAZ,CAAc,EAAd,EAAkB,CAAlB,CAAoB,EAApB,EAAwB,UAAxB,CAAmC,EAAnC,EAAuC,GAAvC,CAA2C,CAA3C,CAhBZ,EAiBK,OAjBL,CAiBa,KAjBb,EAkBK,KAlBL,CAkBW,aAlBX,EAkB0B,6BAlB1B,EAmBK,aAnBL,CAmBoB;AAAA,2BAAK,EAAE,KAAF,CAAQ,MAAb;AAAA,iBAnBpB,EAoBK,KApBL,CAoBW,aApBX,EAoB0B,WApB1B,EAoBuC;AAAA,2BAAK,EAAE,KAAF,CAAQ,OAAb;AAAA,iBApBvC,EAqBK,KArBL,CAqBY,aAAK;AACT,wBAAI,QAAQ,EAAE,KAAF,CAAQ,GAAR,GAAc,EAAE,KAAF,CAAQ,GAAtB,GAA4B,EAAE,KAA1C;AACA,wBAAI,MAAM,KAAN,CAAJ,EAAkB;AACd,gCAAQ,CAAR;AACH;AACD,2BAAO,WAAW,EAAE,GAAb,IAAoB,IAApB,GAA2B,aAAa,KAAb,CAAlC;AACH,iBA3BL;;;;;;;AAkCA,4BACK,KADL,CACW,WADX,EAEK,MAFL,CAEa,aAAa,IAF1B,EAGK,OAHL,CAGa,EAAC,KAAK,CAAN,EAAS,OAAO,EAAhB,EAAoB,QAAQ,EAA5B,EAAgC,MAAM,EAAtC,EAHb,EAIK,SAJL,CAIe,aAJf,EAKK,KALL,CAKW,iBALX,EAMK,aANL,CAMoB;AAAA,2BAAK,EAAE,KAAF,CAAQ,GAAb;AAAA,iBANpB,EAOK,SAPL,CAOe,IAPf,EAQK,GARL,CAQS,CART,EASK,CATL,CASO,GAAG,IAAH,CAAQ,KAAR,GAAgB,MAAhB,CAAuB,UAAvB,CATP,EAUK,KAVL,CAUW,GAAG,IAAH,CAAQ,GAAR,CAAY,KAVvB,EAWK,iBAXL,CAWuB,IAXvB,EAYK,MAZL,CAYY,GAAG,IAAH,CAAQ,IAZpB,EAaK,KAbL,GAaa,KAbb,CAamB,CAbnB;;AAeA,oBAAI,cAAc,IAAI,SAAJ,CAAe;AAAA,2BAAK,KAAK,KAAL,CAAW,EAAE,IAAF,GAAO,EAAE,IAApB,CAAL;AAAA,iBAAf,CAAlB;AACA,oBAAI,mBAAmB,YAAY,KAAZ,EAAvB;;AAEA,iCACK,KADL,CACW,gBADX,EAEK,MAFL,CAEY,iBAFZ,EAGK,OAHL,CAGa,EAAC,KAAK,EAAN,EAAU,OAAO,EAAjB,EAAqB,QAAQ,EAA7B,EAAiC,MAAM,EAAvC,EAHb,EAIK,SAJL,CAIe,WAJf,EAKK,KALL,CAKW,gBALX,EAMK,QANL,CAMc,IANd,EAOK,SAPL,CAOe,IAPf,EAQK,GARL,CAQS,CART,EASK,KATL,CASW,GAAG,KAAH,CAAS,KATpB,EAUK,iBAVL,CAUuB,IAVvB,EAWK,CAXL,CAWO,GAAG,KAAH,CAAS,MAAT,GAAkB,MAAlB,CAAyB,CAAC,CAAD,EAAI,EAAJ,CAAzB,CAXP,EAYK,yBAZL,CAY+B,IAZ/B,EAaK,aAbL,CAamB,UAAU,OAAV,EAAmB;AAC9B,wBAAI,SAAS,QAAQ,CAAR,CAAb;wBAAyB,IAAI,EAA7B;AACA,yBAAK,aAAa,OAAO,CAAP,CAAb,IAA0B,OAA1B,GAAoC,aAAa,OAAO,CAAP,CAAb,CAApC,GAA8D,GAAnE;AACA,2BAAO,CAAP;AACH,iBAjBL;;AAmBA,iCAAiB,KAAjB,GAAyB,UAAzB,CAAqC;AAAA,2BAAK,IAAI,GAAT;AAAA,iBAArC;AACA,iCAAiB,KAAjB,GAAyB,KAAzB,CAA+B,CAA/B;;AAEA,mBAAG,SAAH;AAEH,aAzRD;AA0RA,qBAAS,YAAT,CAAsB,IAAtB,EAA4B;AACxB,uBAAO,UAAS,CAAT,EAAY,CAAZ,EAAe;AAClB,sBAAE,EAAE,KAAJ;AACA,sBAAE,KAAF,IAAW,EAAE,IAAF,CAAX;AACA,sBAAE,GAAF,GAAQ,EAAE,KAAF,GAAU,EAAE,KAApB;AACA,2BAAO,CAAP;AACH,iBALD;AAMH;;AAED,qBAAS,eAAT,CAAyB,IAAzB,EAA+B;AAC3B,uBAAO,UAAS,CAAT,EAAY,CAAZ,EAAe;AAClB,sBAAE,EAAE,KAAJ;AACA,sBAAE,KAAF,IAAW,EAAE,IAAF,CAAX;AACA,sBAAE,GAAF,GAAQ,EAAE,KAAF,GAAU,EAAE,KAApB;AACA,2BAAO,CAAP;AACH,iBALD;AAMH;;AAED,qBAAS,oBAAT,CAA8B,KAA9B,EAAqC,KAArC,EAA4C;AACxC,uBAAO,UAAS,CAAT,EAAY,CAAZ,EAAe;AAClB,sBAAE,EAAE,KAAJ;AACA,sBAAE,KAAF,IAAW,CAAC,EAAE,KAAF,IAAW,EAAE,KAAF,CAAZ,IAAwB,CAAnC;AACA,sBAAE,GAAF,GAAQ,KAAK,KAAL,CAAW,EAAE,KAAF,GAAU,EAAE,KAAvB,CAAR;AACA,2BAAO,CAAP;AACH,iBALD;AAMH;;AAED,qBAAS,uBAAT,CAAiC,KAAjC,EAAwC,KAAxC,EAA+C;AAC3C,uBAAO,UAAS,CAAT,EAAY,CAAZ,EAAe;AAClB,sBAAE,EAAE,KAAJ;AACA,sBAAE,KAAF,IAAW,CAAC,EAAE,KAAF,IAAW,EAAE,KAAF,CAAZ,IAAwB,CAAnC;AACA,sBAAE,GAAF,GAAQ,EAAE,KAAF,GAAU,KAAK,KAAL,CAAW,EAAE,KAAF,GAAU,EAAE,KAAvB,CAAV,GAA0C,CAAlD;AACA,2BAAO,CAAP;AACH,iBALD;AAMH;;AAED,qBAAS,aAAT,GAAyB;AACrB,uBAAO,EAAE,OAAO,CAAT,EAAY,OAAO,CAAnB,EAAsB,KAAK,CAA3B,EAAP;AACH;AACJ;;;;AAKG,iBAAS,SAAT,GAAqB;AACjB,mBAAQ,CACJ;AACI,yBAAS;AACL,2BAAO,MADF;AAEL,0BAAM,KAFD;AAGL,2BAAO,KAHF;AAIL,+BAAU;AAJL,iBADb;AAOI,yBAAU;AACN,6BAAS,MADH;AAEN,0BAAM,GAFA;AAGN,+BAAW,iBAHL;AAIN,+BAAW,CAAC,CAAD,EAAI,GAAJ,CAJL;AAKN,6BAAS,CAAC;AACN,+BAAO,gBADD;AAEN,6BAAK,YAFC;;AAIN,8BAAK;AAJC,qBAAD,EAKP;AACE,+BAAO,gBADT;AAEE,6BAAK,YAFP;;AAIE,8BAAK;AAJP,qBALO;AALH,iBAPd;AAwBI,uBAAO,qBAxBX;AAyBI,0BAAU,EAAC,KAAI,SAAL,EAAe,KAAK,CAAC,WAArB;AAzBd,aADI;;;;;;;;;;;;;;;;;;;;;;;AAkDJ;AACI,yBAAS;AACL,2BAAO,MADF;AAEL,0BAAM,KAFD;AAGL,2BAAO,MAHF;AAIL,+BAAU;AAJL,iBADb;AAOI,yBAAU;AACN,6BAAS,CAAC;AACN,+BAAO,UADD;AAEN,6BAAK,UAFC;;AAIN,8BAAK;AAJC,qBAAD,EAKP;AACE,+BAAO,YADT;AAEE,6BAAK,aAFP;;AAIE,8BAAK;AAJP,qBALO,CADH;AAYN,6BAAS,KAZH;AAaN,0BAAM,EAbA;AAcN,+BAAW,EAdL;AAeN,+BAAW,CAAC,CAAD,EAAG,CAAH;AAfL,iBAPd;;AAyBI,uBAAO,wBAzBX;AA0BI,0BAAU,EAAC,KAAI,SAAL,EAAe,KAAK,CAAC,WAArB;AA1Bd,aAlDI,CAAR;AA+EH;AAEJ;AACA,CAzgBD;;;ACAA,CAAC,YAAW;AACR,YACK,MADL,CACY,gBADZ,EAEK,MAFL,CAEY,CACJ,gBADI,EAEJ,oBAFI,EAGJ,eAHI,CAFZ;;AASA,aAAS,eAAT,CAAyB,cAAzB,EAAyC,kBAAzC,EAA6D;;AAEzD,uBACK,KADL,CACW,cADX,EAC2B;AACnB,kBAAM,cADa;AAEnB,iBAAK,UAFc;;;;;;;;;AAWnB,mBAAO;AACH,2BAAW;;AAEP,iCAAa,qCAFN;AAGP,gCAAY;AAHL;AADR,aAXY;AAkBnB,kBAAM;AACF,gCAAgB,cADd;AAEF,4BAAY,IAFV;AAGF,8BAAc;AAHZ;AAlBa,SAD3B,EA0BC,KA1BD,CA0BO,qBA1BP,EA0B8B;AAC1B,iBAAK,WADqB;AAE1B,oBAAQ,cAFkB;;AAI1B,wBAAY,CAAC,QAAD,EAAW,cAAX,EAA2B,UAAS,MAAT,EAAiB,YAAjB,EAA+B;AAClE,wBAAQ,GAAR,CAAY,aAAa,MAAzB;AACA,uBAAO,OAAP,CAAe,YAAf,CAA4B,aAAa,MAAzC;AACH,aAHW;AAJc,SA1B9B;AAoCH;AAEJ,CAlDD;;;ACAA,CAAC,YAAU;AACX,YACK,MADL,CACY,gBADZ,EAEK,SAFL,CAEe,eAFf,EAEgC,aAFhC;;AAIA,kBAAc,OAAd,GAAwB,CAAC,gBAAD,EAAmB,iBAAnB,CAAxB;AACA,aAAS,aAAT,CAAuB,cAAvB,EAAuC,eAAvC,EAAwD;AACpD,gCAAwB,OAAxB,GAAkC,CAAC,QAAD,EAAW,UAAX,EAAsB,QAAtB,CAAlC;;AAEA,eAAO;AACH,sBAAU,GADP;AAEH,mBAAO;AACH,0BAAU;AADP,aAFJ;AAKH,kBAAM;AALH,SAAP;;AAQA,iBAAS,uBAAT,CAAiC,KAAjC,EAAwC,OAAxC,EAAiD,KAAjD,EAAwD;AACpD,gBAAI,MAAM,IAAV;;;;;AAMH;AACJ;AAEA,CA3BD;;;ACAA,QAAQ,MAAR,CAAe,QAAf,EAAyB,GAAzB,CAA6B,CAAC,gBAAD,EAAmB,UAAS,cAAT,EAAyB;AAAC,iBAAe,GAAf,CAAmB,wBAAnB,EAA4C,k8CAA5C;AAC1E,iBAAe,GAAf,CAAmB,kBAAnB,EAAsC,6CAAtC;AACA,iBAAe,GAAf,CAAmB,qBAAnB,EAAyC,q9GAAzC;AACA,iBAAe,GAAf,CAAmB,uBAAnB,EAA2C,q9GAA3C;AAAmgH,CAHt+G,CAA7B;;;ACAA,QAAQ,MAAR,CAAe,QAAf,EAAyB,GAAzB,CAA6B,CAAC,gBAAD,EAAmB,UAAS,cAAT,EAAyB;AAAC,iBAAe,GAAf,CAAmB,qCAAnB,EAAyD,olBAAzD;AAAgpB,CAA7rB,CAA7B;;;ACAA,QAAQ,MAAR,CAAe,QAAf,EAAyB,GAAzB,CAA6B,CAAC,gBAAD,EAAmB,UAAS,cAAT,EAAyB;AAAC,iBAAe,GAAf,CAAmB,wBAAnB,EAA4C,k8CAA5C;AAC1E,iBAAe,GAAf,CAAmB,kBAAnB,EAAsC,6CAAtC;AACA,iBAAe,GAAf,CAAmB,qBAAnB,EAAyC,89GAAzC;AACA,iBAAe,GAAf,CAAmB,uBAAnB,EAA2C,q9GAA3C;AAAmgH,CAHt+G,CAA7B","file":"index.js","sourcesContent":["(function() {\n\n    angular\n        .module('skyApp', [\n            // 'ngRoute',\n            \"ui.router\",\n            'ngAnimate',\n            'ngMaterial',\n            'ngSanitize',\n            'ngAria',\n            'ngCookies',\n            'rzModule',\n            'angular-walkthrough',\n            'skyApp.root',\n            'skyApp.users',\n            'skyApp.mosaic',\n            'skyApp.utils',\n            'skyApp.upload',\n            'skyApp.signup',\n            'skyApp.weather',\n            'skyApp.grid',\n            'skyApp.gallery',\n            'skyApp.feedback',\n            'skyApp.flights',\n            'skyApp.tour',\n            'skyApp.myfarm'\n        ])\n        .config([\n            'AWSServiceProvider',\n            ConfigureAWS\n        ])\n        .config([\n            '$httpProvider',\n            ConfigureHttpProvider\n        ])\n        .config([\n            'WeatherServiceProvider',\n            ConfigureWeather\n        ])\n        .config(['$mdThemingProvider',\n            function($mdThemingProvider) {\n                $mdThemingProvider.theme('default')\n                    .primaryPalette('blue-grey', {\n                        'default': '800'\n                    })\n                    .backgroundPalette('grey', {\n                        'default': '100'\n                    })\n                    .accentPalette('light-blue', {\n                        'default': '600'\n                    })\n            }\n        ])\n        .constant({\n            'TEMPLATE_DIR': '/templates/'\n        })\n        .constant({\n            'LAMBDA_POST_VER': (window.location.protocol !== 'https' || !window.location.hostname.contains('skycision')) ? 'DEV' : 'BETA'\n        })\n        // .config(['$compileProvider', function ($compileProvider) {\n        //   $compileProvider.debugInfoEnabled(false);\n        // }])\n        .run([\n            'AWSService',\n            'AuthService',\n            '$rootScope',\n            '$state',\n            '$stateParams',\n            RunBlock\n        ]);\n\n    function ConfigureRoutes($routeProvider, $locationProvider) {\n        $routeProvider\n            .when('/', {\n                controller: 'MainController',\n                controllerAs: 'mc',\n                templateUrl: 'templates/mosaic.html'\n            })\n            .when('/signup', {\n                controller: 'SignupController',\n                controllerAs: 'sc',\n                templateUrl: 'templates/signup-view.html'\n            })\n            .when('/login', {\n                controller: 'SignupController',\n                controllerAs: 'sc',\n                templateUrl: 'templates/signup-view.html'\n            })\n            .otherwise({\n                redirectTo: '/login'\n            });\n    }\n\n    function RunBlock(AWSService, AuthService, $rootScope, $state, $stateParams) {\n        console.log('runblock')\n        AuthService.startAuthenticating();\n        AWSService.ama();\n        $rootScope.$on(\"$stateChangeError\", console.log.bind(console));\n        $rootScope.$state = $state;\n        $rootScope.$stateParams = $stateParams;\n    }\n\n    function ConfigureWeather(WeatherServiceProvider) {\n        WeatherServiceProvider.setup('mboOcHmIVl1goyNwgbeuM1dMXVLVt2nc6kG9a6C4');\n    }\n\n    function ConfigureHttpProvider($httpProvider) {\n        $httpProvider.defaults.headers.post = {\n            'Content-Type': 'application/json'\n        };\n    }\n\n    function ConfigureAWS(AWSServiceProvider) {\n        AWSServiceProvider.setArn('arn:aws:iam::717391330650:role/Cognito_SkycisionAuth_Role');\n        AWSServiceProvider.setIdentityPool('us-east-1:77007577-a20b-40b2-8a3f-adf401a54271');\n        // AWSServiceProvider.setIdentityPool('us-east-1:15eec0e9-05d9-47d1-9fe6-a344788eed1d;);\n        AWSServiceProvider.setAMAOptions({\n            appId: '3be50c4f17514713bad271ed00dc8570', //Amazon Mobile Analytics App ID\n            appTitle: 'Skycision-beta', //Optional e.g. 'Example App'\n            appVersionName: 'web-v0.3.0' //Optional e.g. '1.4.1'\n        });\n        AWSServiceProvider.setRegion('us-east-1');\n        AWSServiceProvider.setUserPoolOptions({\n            // UserPoolId: 'us-east-1_OeMgeOQiR',ClientId:'crhppg4tst53e3fcga76cemnv',\n            UserPoolId: 'us-east-1_FGwWzvz1t',\n            ClientId: '2442duhlr4rd3nk1a53nb4j6pe'\n        });\n    }\n\n})();\n\nwindow.onbeforeunload = function() {\n    console.clear();\n    console.log('onbeforeunload');\n};\n\nangular.element(document).ready(function() {\n    angular.bootstrap(document, ['skyApp'], {\n        strictDi: true\n    });\n});\n\n\nfunction logMessage(message) {\n    return (!!message) ? function() {\n        var errors = [...arguments].filter(function(arg) {\n            return (arg instanceof Error);\n        }).map(function(err) {\n            err.stack.replace('↵', '\\n');\n            return err;\n        });\n        if (errors.length > 0) {\n            errors.map((err) => logMessage(err));\n        } else {\n            angular.noop();\n        }\n        console.timeStamp();\n        console.log(message, [...arguments]);\n    } : function() {\n        var e = arguments[0];\n        var message = arguments[0].message + '\\n' + e.sourceURL.replace(window.href, '') + ':' + arguments[0].line + ':' + arguments[0].column + '\\n';\n        console.timeStamp('err stamp');\n        console.log(\"%c\" + message, 'background-color: hsla(120, 60%, 70%, 0.3);', arguments[0].stack);\n    };\n}","(function() {\n\n    angular.module('skyApp.account', ['ngAnimate', 'ngSanitize', 'ui.bootstrap', 'ui.select']);\n\n})();","(function() {\n    angular\n        .module('skyApp.account')\n        .controller('accountController', [\n            '$scope',\n            '$q',\n            '$state',\n            'UserService',\n            'AuthService',\n            '$mdDialog',\n            accountController\n        ]);\n\n    accountController.$inject = ['$http', '$timeout', '$interval']\n\n    function accountController($scope, $q, $state, UserService, AuthService, $mdDialog, $http, $timeout, $interval) {\n        var ac = this;\n\n        ac.people = [{\n            name: 'Adam',\n            email: 'adam@email.com'\n        }, {\n            name: 'Amalie',\n            email: 'amalie@email.com'\n        }, {\n            name: 'Estefanía',\n            email: 'estefania@email.com'\n        }, {\n            name: 'Adrian',\n            email: 'adrian@email.com'\n        }, {\n            name: 'Wladimir',\n            email: 'wladimir@email.com'\n        }, {\n            name: 'Samantha',\n            email: 'samantha@email.com'\n        }, {\n            name: 'Nicole',\n            email: 'nicole@email.com'\n        }, {\n            name: 'Natasha',\n            email: 'natasha@email.com'\n        }, {\n            name: 'Michael',\n            email: 'michael@email.com'\n        }, {\n            name: 'Nicolás',\n            email: 'nicolas@email.com'\n        }];\n\n        ac.changePassword = changePassword;\n        ac.reset = reset;\n        ac.reqSubmit = reqSubmit;\n\n        ac.handleOrgId = function() {\n            if (ac.neworgid) {\n                UserService.updateOrgId(ac.neworgid);\n            }\n        }\n\n        $scope.inviteUser = function(ev) {\n            $mdDialog.show({\n                controller: [\"$scope\", \"$mdDialog\", DialogController],\n                templateUrl: 'templates/invite-user-view.html',\n                parent: angular.element(document.body),\n                targetEvent: ev,\n                clickOutsideToClose: true,\n            })\n\n        };\n\n        function DialogController($scope, $mdDialog) {\n\n            $scope.cancel = function() {\n                console.log('cancel');\n                $mdDialog.cancel();\n            };\n            $scope.invite = function() {\n                console.log('invite');\n            };\n        }\n        // hide or show password\n        $('.hide-password').on('click', function() {\n            var togglePass = $(this),\n                passwordField = togglePass.prev('input');\n\n            ('password' == passwordField.attr('type')) ? passwordField.attr('type', 'text') : passwordField.attr('type', 'password');\n            ('Hide' == togglePass.text()) ? togglePass.text('Show') : togglePass.text('Hide');\n            //focus and move cursor to the end of input field\n        });\n\n        function reset() {\n            console.log('reset');\n        }\n\n        function reqSubmit() {\n            console.log('Request OrgId');\n        }\n\n        function changePassword() {\n            console.log('change Password');\n        }\n        $scope.placement = {\n            options: [\n                'top',\n                'top-left',\n                'top-right',\n                'bottom',\n                'bottom-left',\n                'bottom-right',\n                'left',\n                'left-top',\n                'left-bottom',\n                'right',\n                'right-top',\n                'right-bottom'\n            ],\n            selected: 'right'\n        };\n\n    }\n\n\n})();","(function() {\n    angular\n        .module('skyApp.account')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates]);\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home.account', {\n                name: 'home.account',\n                url: '/account',\n                views: {\n                    'content': {\n                        templateUrl: 'templates/account/accountSettings-view.html',\n                        controller: 'accountController',\n                        controllerAs: 'ac'\n                    }\n                },\n                data: {\n                    sliderOpen: true,\n                    contentWidth: 100\n                }\n            })\n    }\n\n})();","(function() {\n\n    angular.module('skyApp.faq', []);\n\n})();","(function() {\n    angular\n        .module('skyApp.faq')\n        .controller('faqController', [\n            '$scope',\n            '$q',\n            '$location',\n            '$anchorScroll',\n            faqController\n        ]);\n\n\n    function faqController($scope, $q, $location, $anchorScroll) {\n\n        $scope.scrollTo = function(id) {            \n            $location.hash(id);\n            $anchorScroll();\n        };\n\n    }\n\n\n})();\n","(function() {\n    angular\n        .module('skyApp.faq')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates]);\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home.faq', {\n                name: 'home.faq',\n                url: '/faq',\n                views: {\n                    'content': {\n                        templateUrl: 'templates/faq/faq-view.html',\n                        //template: '<p>Page is under construction!</p>',\n                        controller: 'faqController',\n                        controllerAs: 'faqc'\n                    }\n                },\n                data: {\n                    sliderOpen: true,\n                    contentWidth: 100\n                }\n            })\n    }\n\n})();","(function(){\n\n\tangular.module('skyApp.feedback',['ui.bootstrap']);\n\n})();","(function() {\n\n    angular\n        .module('skyApp.feedback')\n        .controller('feedbackController', [\n            '$scope',\n            '$http',\n            '$filter',\n            '$uibModal',\n            '$log',\n            feedbackController\n        ]);\n\n\n    function feedbackController($scope, $http, $filter, $uibModal, $log) {\n\n        $scope.animationsEnabled = true;\n\n        $scope.open = function(size) {\n\n            var modalInstance = $uibModal.open({\n                animation: $scope.animationsEnabled,\n                templateUrl: 'templates/feedback-popup.html',\n                controller: 'ModalInstanceCtrl',\n                backdrop: true,\n                backdropClass: 'feed-popup',\n                keyboard: true,\n                size: 'md',\n                resolve: {\n                    items: function() {\n                        return $scope.items;\n                    }\n                }\n            });\n\n            modalInstance.result.then(function(selectedItem) {\n                $scope.selected = selectedItem;\n\n            }, function() {\n                console.log(\"error\");\n                $log.info('Modal dismissed at: ' + new Date());\n            });\n        };\n\n        $scope.toggleAnimation = function() {\n            $scope.animationsEnabled = !$scope.animationsEnabled;\n        };\n\n    };\n\n    // Please note that $uibModalInstance represents a modal window (instance) dependency.\n    // It is not the same as the $uibModal service used above.\n\n    angular\n        .module('skyApp.feedback')\n        .controller('ModalInstanceCtrl', [\n            '$scope',\n            '$uibModalInstance',\n            '$http',\n            ModalInstanceCtrl\n        ]);\n\n    function ModalInstanceCtrl($scope, $uibModalInstance, $http) {\n        $scope.showFbForm = true;\n        $scope.feedback = {\n            text: \"\"\n        };\n\n        $scope.submit = function() {\n            var audio = new Audio('static/img/email-sent.mp3');\n            $.ajax({\n                url: \"https://formspree.io/skycisiontest@gmail.com\",\n                method: \"POST\",\n                crossDomain: true,\n                data: {\n                    message: $scope.feedback.text\n                },\n                dataType: \"json\"\n            }).done(function(res) {\n                audio.play();\n                $scope.showFbForm = false;\n                $scope.$digest();\n            });\n\n        };\n\n        $scope.cancel = function() {\n            $uibModalInstance.dismiss('cancel');\n        };\n    };\n\n})();","(function() {\n\n  angular.module('skyApp.flights', ['ngTable']);\n\n})();","(function() {\n\nangular\n    .module('skyApp.flights')\n    .directive('flightDisplay', ['$templateCache', FlightDisplay]);\n\nfunction FlightDisplay($templateCache) {\n    return {\n        template: $templateCache.get('flights/flight-display.partial.html')\n    }\n}\n\n\n})();\n\n","(function() {\n\nangular\n    .module('skyApp.flights')\n    .directive('flightDownloads',['dateFilter', FlightDownloadsDirective]);\n\nfunction FlightDownloadsDirective(dateFilter) {\n    return {\n        template: '<a ng-href=\"{{::flight[link + \\'Url\\']}}\" download> {{::link | uppercase}} <i class=\"fa fa-download\" aria-hidden=\"true\"></i></a>',\n    }\n}\n\n\n})();\n\n","(function() {\n\nangular\n    .module('skyApp.flights')\n    .directive('flightStats',['dateFilter', FlightStatsDirective]);\n\nfunction FlightStatsDirective(dateFilter) {\n\n    return {\n        template: '<label><strong>{{::displayField}}</strong></label><span>{{::displayFlight(flight,displayField)}}</span>',\n        controller: ['$scope','$element','$attrs', ($scope, $element, $attrs) => {\n\n            $scope.displayFlight = displayFlight\n\n            function displayFlight(flight, prop) {\n                switch (prop) {\n                    case 'Start':\n                        return dateFilter(flight[prop.toLowerCase()]*1000,'mediumTime');\n                        break;\n                    case 'Duration':\n                        return moment.duration(  (flight.end - flight.start)*1000 ).humanize();\n                        break;\n                    case 'Altitude': \n                        return `${flight[prop.toLowerCase()]}m`\n                        break;\n                    default:\n                        return flight[prop.toLowerCase()];\n                }\n            }\n\n        }],\n        controllerAs: 'ctrl'\n    }\n\n}\n\n\n})();\n\n","(function() {\n    angular\n        .module('skyApp.flights')\n        .controller('FlightsController',FlightsController)\n        .run([\"ngTableDefaults\",configureDefaults]);\n\nFlightsController.$inject = ['$scope', '$state', 'UserService', 'NgTableParams', 'FlightsService'];\nfunction FlightsController($scope, $state, UserService, ngTableParams, FlightsService) {\n    \n    var FC = this;\n    \n    FC.cols = [{\n        field : \"op-name\",\n        title : \"Op\",\n        sortable : \"op-name\",\n        show : true,\n        //groupable : \"op-name\",\n        displaygroup: {stats:[\"Altitude\",\"Start\",\"Duration\"], links:['png','pdf','shp','tif']}\n    }, {\n        field : \"block-id\",\n        title : \"Block\",\n        sortable :  \"block-id\",\n        show : true,\n    }, {\n        field : \"start\",\n        title : \"Date\",\n        sortable : \"start\",\n        show : true\n    }];\n\n    FlightsService.loadFlights()\n    .then( flights => {\n\n        FC.tableParams = new ngTableParams({\n            // initial grouping\n            group : {\n                \"op-name\" : \"desc\"\n            }\n        }, {\n            dataset : flights\n        });\n\n    });\n    \n}\n\nfunction configureDefaults(ngTableDefaults) {\n    ngTableDefaults.params.count = 10;\n    ngTableDefaults.settings.counts = [];\n}\n\n})();\n\n","(function() {\n  \"use strict\";\n  \n  \tangular\n\t  \t.module(\"skyApp.flights\")\n\t  \t.factory(\"FlightsService\", FlightsService);\n  \t\t\nFlightsService.$inject = [\"AWSService\",\"UserService\"];\nfunction FlightsService(AWSService, UserService) {\n\tvar service = {       \n\t    USERS_TABLE: 'users-skycision',\n\t    OPS_TABLE: 'ops-skycision',\n\t    ORGS_TABLE: 'orgs-skycision',\n\t    BLOCKS_TABLE: 'blocks-skycision',\n\t    INDEX_TABLE: 'id-singleton',\n\t    FARM_BUCKET: \"skycisionfarmbucket\",\n\t    DATA_BUCKET: \"skycisiondatabucket\",\n\t    FLIGHTS_TABLE:\"flights-skycision\",\n\t    loadFlights: loadFlights\n\t}\n\n    return service;\n\t\n\tfunction loadFlights(){\n\t\t\n\t\treturn UserService.getOrg()\n\t\t.then( ({orgId : orgId}) => {\n\t\t    console.log(orgId);\n\t\t\treturn AWSService.dynamo()\n\t\t\t.then( dynamo => {\n\t\t       // Find Org's flights\n\t\t        var requestItems = {\n\t\t            ReturnConsumedCapacity: 'TOTAL',\n\t\t            TableName: service.FLIGHTS_TABLE,\n\t\t            IndexName: \"org-index\",\n\t\t            KeyConditionExpression: \"org = :orgVal\",\n\t\t            ExpressionAttributeValues: {\n\t\t                \":orgVal\": orgId\n\t\t            }\n\t\t        }\n\t\t       \treturn dynamo.do('query',requestItems)\n\t\t\t})\n\t\t\t.then( f => {\n\t\t\t    return AWSService.s3()\n\t\t\t    .then( s3 => { \n\t\t\t        return f.Items.map( item => {\n\t\t\t            var prefix = item.prefix\n\t                    var suffixes = ['png','pdf','preview','shp','tif'];\n\t                    suffixes.map( suf => {\n\t                       item[suf+'Url'] = s3.getSignedUrl('getObject',{\n\t                           Key: prefix + item[suf],\n\t                           Bucket: service.DATA_BUCKET\n\t                       })\n\t                    })\n\n\t                    return item\n\t\t\t        })\n\t\t\t       \n\t\t\t    })\n\t\t\t})\n\t\t})\n\t\t.catch(console.log);\n\t\t\n    }\n\t\n}\n\n})();\n","(function() {\n    angular\n        .module('skyApp.flights')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates])\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home.flights', {\n                name: 'home.flights',\n                url: '/flights',\n                views: {\n                    'content': {\n                        templateUrl: 'templates/flights/flights-view.html',\n                        controller: 'FlightsController',\n                        controllerAs: 'fc'\n                    }\n                },\n                data: {\n                    sliderOpen: true,\n                    contentWidth: 60\n                }\n            })\n    }\n\n})();","(function(){\n\n\tangular.module('skyApp.gallery',['gallery']);\n\n})();","(function() {\n\t\nangular.module('skyApp.gallery')\n\t.controller('galleryController',[\n\t\t'$scope',\n\t\t'$rootScope',\n\t\ttileGallery\n\t]);\n\nfunction tileGallery($scope, $rootScope) {\n\n}\n\n})();\n","(function (){\n\tangular.module('skyApp.grid', ['nvd3', 'gridster']);\n})();","(function($){\nangular\n\t.module('skyApp.grid')\n\t.factory('GraphService', [\n        '$q',\n        GraphService\n    ]);\n\nfunction GraphService($q) {\n    var service = {}; \n    var DateType = {\n        MINUTE: 'MINUTE',\n        HOUR : 'HOUR',\n        DAY : 'DAY',\n        WEEK : 'WEEK',\n        YEAR : 'YEAR'\n    }\n\n    Object.freeze(DateType);\n\n\n    service.createGraphs = createGraphs;\n\n    return service;\n\n\n    function createGraphs(config) {\n        var _config = config;\n        return $q.all(config.map((c) => {\n            return $q( (resolve,reject) => {\n                createGraph(c)\n                // .then(formatDataForChart)\n                .then(resolve)\n                .catch( err => {\n                    console.log(error);\n                    reject(err)\n                });\n            });\n        }));\n    }\n\n    /*\n     *  Data & Options Generators\n     */\n    function createGraph(config) {\n        // var o = d3.scale.linear().domain(getDomain('y',config)).range(colorbrewer.RdBu[5]);\n        return config.chartoptions = {\n            chart:  {\n                // color: ((d,i) => {\n                //     console.log(d,i);\n                //     return o(d.values[i].y)\n                // }),\n                type: 'lineChart',\n                margin: config.margin || {\n                    top: 10,\n                    right: 30,\n                    bottom: 90,\n                    left: 70,\n                },\n                xDomain: getDomain('x',config),\n                yDomain: getDomain('y',config),\n                x: ( d  => d.x),\n                y: ( d  => d.y),\n                useInteractiveGuideline: true,\n                xAxis: getAxis(config.xConfig),\n                yAxis: getAxis(config.yConfig),\n                callback: ( () => {console.log(\"!!! lineChart callback !!!\")} ),\n                interpolate: 'linear',\n            },\n            title: config.header || {\n                enable: true,\n                text: '',\n                css: {\n                    'padding-top': '40px',\n                    'padding-left': '20px',\n                    'padding-right': '20px',\n                },\n            },\n            subtitle: config.subtitle || {\n                enable: true,\n                text: '',\n                css: {\n                    'text-align': 'center',\n                },\n            },\n            styles: {\n                classes: {\n                    'with-transitions': true,\n                },\n            },\n        }, $q.when(config);\n        \n    }\n\n    function getAxis(config) {\n        // value we can infer from types in config\n        var days = (config.unit == DateType.DAY) ? 6 : null;\n\n        return {\n            axisLabel: config.axisLabel,\n            tickFormat: getTickFormat(config),\n            ticks: config.ticks || undefined,\n            tickWidth: config.tickWidth || undefined\n        }\n    }\n\n    function getDomain(axisName, config) {\n        var cfg = config[`${axisName}Config`];\n        var domain, max, min;\n        if (!!cfg.param && cfg.param === 'time') {\n            return undefined;\n        } else if ('object' === typeof cfg.axisStyle) {\n            return cfg.axisStyle;\n        } else if (!!cfg.yParams && angular.isArray(cfg.yParams)) {\n            domain = [];\n            max = d3.max(config.chartdata.map( cd => \n                d3.max(cd.values.map(v => v.y))\n            ) );\n            switch (cfg.axisStyle) {\n                case 'absolute':\n                    domain = [0, max];\n                    break; \n                case 'relative':\n                    min = d3.min(config.chartdata.map( cd => \n                        d3.min(cd.values.map(v => v.y))\n                    ) );\n                    domain = [min,max];\n                    break;\n            }\n            return domain;\n        }\n        \n\n        domain = [];\n        max = d3.max(config.chartdata.map(p => p[axisName]));\n        switch (cfg.axisStyle) {\n            case 'absolute':\n                domain = [0, max];\n                break; \n            case 'relative':\n                min = d3.min(config.chartdata.map(p => p[axisName]));\n                domain = [min,max];\n                break;\n        }\n        return domain;\n    }\n\n    // function formatDataForChart(config) {\n    //     return config.chartdata = {\n    //         key: config.title,\n    //         values: config.data,\n    //         color: config.color,\n    //         area: config.area\n    //     }, config;\n    // }\n\n    function getTickFormat(config) {\n        if (config.param === \"time\"){\n            return getDateFormat(config.unit)\n        } else {\n            return function(d) {\n                return d3.format(config.unitFmt)(d);\n            }\n        } \n    }\n\n    function getDateFormat(dateType) {\n        var formatString;\n        switch (dateType) {\n            case DateType.MINUTE:\n                formatString = '%M';\n                break; \n            case DateType.HOUR:\n                formatString = '%h';\n                break;\n            case DateType.DAY:\n                formatString = '%a';\n                break;\n            case DateType.MONTH:\n                formatString = '%b';\n                break; \n            case DateType.YEAR:\n                formatString = '%Y';\n                break; \n        }\n        return function(d) {\n            return d3.time.format(formatString)(new Date(d * 1000))  \n        };\n    }\n\n    \n};\n\n})(jQuery);","(function(){\nangular\n    .module('skyApp.grid')\n    .factory('WidgetService', [\n        '$q',\n        WidgetService\n    ]);\n\n\nfunction WidgetService($q) {\n    var service = {};\n\n    service.createWidgets = createWidgets;\n    return service;\n    /*\n     *  Data & Options Generators\n     */\n\n     function createWidgets(graphs) {\n        return $q.all(graphs).then(gs => {\n            return gs.map(createWidget);\n        });\n        \n     }\n\n     function createWidget({\n        chartoptions: opts,\n        chartdata: data,\n        title: name,\n        dims: {\n            col: c,\n            row: r,\n            sizeX: x = 2,\n            sizeY: y = 1,\n        } = {}\n    }) {\n        return {\n            col: c,\n            row: r,\n            sizeX: x,\n            sizeY: y,\n            width: 'auto',\n            colWidth: 'auto',\n            name: name,\n            chart: {\n                options: opts,\n                data: data,\n                api: {}\n            }\n         }\n     }\n\n    \n};\n\n})();","(function() {\n\n    angular.module('skyApp.mosaic', [\n        //\"ui.router\",\n        \"skyApp.flights\",\n        \"skyApp.weather\",\n        \"skyApp.upload\",\n        \"skyApp.account\",\n        \"skyApp.faq\"\n    ]);\n\n})();","(function() {\n\nangular\n    .module('skyApp.mosaic')\n    .component('mapComponent', {\n        template: '<div id=\"map\"></div>',\n        transclude: true,\n        controller: MosaicController,\n        bindings: {\n            detailOperation: '<',\n            mapSource: '&',\n            // map: '=?',\n            changeDrawMode: '&'\n        }\n    });\n\nMosaicController.$inject = ['$scope','$http','$q'];\nfunction MosaicController($scope, $http, $q) {\n    var ctrl = this;\n    ctrl.loadTiles = loadTiles;\n\n    ctrl.$onInit = function() {\n        ctrl.mapSource().then( theMap => { ctrl.map = theMap } );\n    }\n\n    ctrl.$onChanges = function($changes) {\n        console.log($changes);\n        if (!!$changes.detailOperation) {\n            var newDO = $changes.detailOperation;\n            if (!!newDO.currentValue && !!newDO.isFirstChange()) {\n                ctrl.loadTiles(newDO.op_id);\n            }\n        }\n    }\n    // $scope.$watch('detailOperation', function(newVal, oldVal) {\n    //     console.log(newVal, oldVal);\n    //     if (!!newVal){\n    //         if (!!!ctrl.operation || newVal !== ctrl.operation) {\n    //             ctrl.loadTiles(newVal.op_id);\n    //         }\n    //     } \n    // })\n\n    function loadTiles(id) {\n        console.log(id);\n        $http({\n            method: 'GET',\n            url: '/map/gray/tilemapresource.json'\n        })\n        .then( response => {\n            console.log(response.data);\n        });\n    }\n\n    function loadStandardMap() {\n        ctrl.setMap().then( map => {\n            console.log(map);\n            var imageMapType = new google.maps.ImageMapType({\n                getTileUrl: function(coord, zoom) {\n                    if (zoom < 17 || zoom > 20 ||\n                        bounds[zoom][0][0] > coord.x || coord.x > bounds[zoom][0][1] ||\n                        bounds[zoom][1][0] > coord.y || coord.y > bounds[zoom][1][1]) {\n                        return null;\n                    }\n\n                    return `//kml-skycision-com.s3.amazonaws.com/06032016/${zoom}/${coord.x}/${coord.y}.png`\n                },\n                tileSize: new google.maps.Size(256, 256)\n            });\n\n            ctrl.map.overlayMapTypes.push(imageMapType);\n        });\n    }\n\n\n    function onInit() {\n        ctrl.setMap().then( map => {\n            console.log('$onInit');\n\n            // loadTiles();\n\n            var map = ctrl.map;\n\n            var mapMinZoom = 16;\n            var mapMaxZoom = 20;\n            var mapBounds = new google.maps.LatLngBounds(\n                new google.maps.LatLng(38.21452332, -122.34497517),\n                new google.maps.LatLng(38.21863355, -122.34212121)\n            );\n\n            var TILE_SIZE = 256;\n            function ClipMapType(bounds, map) {\n                this.conv = p => [p.lat(),p.lng()];\n                \n                this.tileSize = new google.maps.Size(256, 256);\n                this.rectangle = new google.maps.Rectangle({\n                    bounds: bounds,\n                    strokeColor: '#7F7F7FF',\n                    strokeOpacity: 0,\n                    fillOpacity: 0,\n                    // editable: true,\n                    // draggable: true,\n                    map: map,\n                });\n                this.map = ctrl.map;\n            }\n\n            \n\n            // The mapping between latitude, longitude and pixels is defined by the web\n            // mercator projection.\n            function project(latLng) {\n                var siny = Math.sin(latLng.lat() * Math.PI / 180);\n\n                // Truncating to 0.9999 effectively limits latitude to 89.189. This is\n                // about a third of a tile past the edge of the world tile.\n                siny = Math.min(Math.max(siny, -0.9999), 0.9999);\n\n                return new google.maps.Point(\n                    TILE_SIZE * (0.5 + latLng.lng() / 360),\n                    TILE_SIZE * (0.5 - Math.log((1 + siny) / (1 - siny)) / (4 * Math.PI))\n                );\n            }\n\n\n            ClipMapType.prototype.getTile = function(coord, zoom, ownerDocument) {\n                var self = this;\n                var map = this.map;\n                this.drawn = false;\n                var proj = this.map.getProjection();\n                var z2 = Math.pow(2, zoom);\n                self.zoom = z2;\n                var tileXSize = 256 / z2;\n                var tileYSize = 256 / z2;\n                var tileBounds = new google.maps.LatLngBounds(\n                    proj.fromPointToLatLng(new google.maps.Point(coord.x * tileXSize, (coord.y + 1) * tileYSize)),\n                    proj.fromPointToLatLng(new google.maps.Point((coord.x + 1) * tileXSize, coord.y * tileYSize))\n                );\n                if (!mapBounds.intersects(tileBounds) || zoom < mapMinZoom || zoom > mapMaxZoom) return ownerDocument.createElement('div');\n                \n                // Your url pattern below\n                var url = getCustomTileUrl(coord, zoom, proj);\n                var image = new Image();\n                \n                console.log(url);\n                var canvas = ownerDocument.createElement('canvas');\n                canvas.width = this.tileSize.width;\n                canvas.height = this.tileSize.height;\n                var context = canvas.getContext('2d');\n                context.save();\n                var xdif = coord.x * this.tileSize.width;\n                var ydif = coord.y * this.tileSize.height;\n\n                var rectangle = this.rectangle;\n                var that = this;\n\n                var scale = [\n                    [158, 1, 66],\n                    [213, 62, 79],\n                    [244, 109, 67],\n                    [253, 174, 97],\n                    [254, 224, 139],\n                    [255, 255, 191],\n                    [230, 245, 152],\n                    [171, 221, 164],\n                    [102, 194, 165],\n                    [50, 136, 189],\n                    [94, 79, 162]\n                ];\n\n                image.onload = function() {\n\n                    var dims = getRectDims(rectangle.getBounds(),self.zoom);\n                    // var context = obj.context;\n                    \n                    context.restore();\n                    context.save();\n                    context.clearRect(0,0,canvas.width,canvas.height);\n                    context.beginPath();\n                    context.rect(...dims);\n                    context.clip();\n                    context.drawImage(image, 0, 0);\n                    that.imageData = context.getImageData(0,0,canvas.width,canvas.height);\n                    var pixels = that.imageData.data;\n                    context.clearRect(0,0,canvas.width,canvas.height);\n                    var length = pixels.length;\n                    var i, c;\n                    for (i = 0; i<length; i++) {\n\n                        c = scale[Math.floor(pixels[i*4] / 255.1 * 12)] || [undefined, undefined, undefined];\n                        pixels[i*4] = c[0];\n                        pixels[i*4+1] =c[1];\n                        pixels[i*4+2] = c[2];\n                    }\n                    context.putImageData(that.imageData, 0, 0);\n\n                    context.closePath();\n                }\n                \n                \n\n\n                image.src = url;\n\n                function getRedraw(obj) {\n\n                    if (Date.now()%100 <= 20 || !obj.drawn) {\n                        obj.drawn = true;\n                        return function redrawRectangle() {\n                            var r = obj.rectangle;\n                            var dims = getRectDims(r.getBounds(),obj.zoom);\n                            // var context = obj.context;\n                            \n                            context.restore();\n                            context.save();\n                            context.clearRect(0,0,canvas.width,canvas.height);\n                            context.beginPath();\n                            context.rect(...dims);\n                            context.clip();\n                            context.putImageData(obj.imageData, 0, 0);\n                            // var imageData = context.getImageData(0,0,canvas.width,canvas.height);\n                            // var pixels = imageData.data;\n                            // context.clearRect(0,0,canvas.width,canvas.height);\n                            // var length = pixels.length;\n                            // var i;\n                            // for (i = 0; i<length; i++) {\n                            //     var gray = pixels[i*4];\n                            //     pixels[i*4] = Math.max(0,gray-50);\n                            //     pixels[i*4+1] = Math.max(0,gray-50);\n                            // }\n                            // context.putImageData(imageData, 0, 0);\n                            context.closePath();\n                        };\n                    } else {\n                        return angular.noop\n                    }\n                    \n                }\n                \n\n                google.maps.event.addListener(this.rectangle, 'bounds_changed', getRedraw(self));\n\n                function getRectDims(bounds, zoom) {\n\n                    var sw = bounds.getSouthWest();\n                    var ne = bounds.getNorthEast();\n\n                    var worldSW = project(sw);\n                    var worldNE = project(ne);\n\n                    var BL = new google.maps.Point(\n                        Math.floor(worldSW.x * zoom),\n                        Math.floor(worldSW.y * zoom)\n                    );\n\n                    var TR = new google.maps.Point(\n                        Math.floor(worldNE.x * zoom),\n                        Math.floor(worldNE.y * zoom)\n                    );\n\n                    var w = Math.abs(TR.x-BL.x);\n                    var h = Math.abs(TR.y-BL.y);\n                    return [BL.x-xdif,TR.y-ydif,w,h];\n                }\n\n                return canvas;\n            };\n\n            function getCustomTileUrl(coord, zoom) {\n                return `/map/gray/${zoom}/${coord.x}/${coord.y}.png`;\n            }\n        })\n\n        // https://developers.google.com/maps/documentation/javascript/examples/maptype-image-overlay\n        // var imageMapType = new google.maps.ImageMapType({\n        //     : ,\n        //     // projection: ctrl.map.getProjection\n        //     tileSize: new google.maps.Size(256, 256),\n        //     minZoom: mapMinZoom,\n        //     maxZoom: mapMaxZoom,\n        //     name: 'Tiles',\n        //     alt: 'uniquestring',\n        //     zIndex:-100,\n        // });\n        // console.log('map',ctrl.map);\n        // console.log('layer',imageMapType);\n        // map.overlayMapTypes.push(new ClipMapType(mapBounds, map));\n    }\n}\n\n})();","(function() {\nangular\n    .module('skyApp.mosaic')\n    .factory('MosaicDataService', [\n        '$q',\n        '$http',\n        '$state',\n        '$cacheFactory',\n        'AWSService',\n        MosaicDataService\n    ]);\n\nfunction MosaicDataService($q, $http, $state, $cacheFactory, AWSService) {\n    console.log('mosaicdataservice init');\n    var MDS = this;\n\n    var orgDefer = $q.defer();\n    MDS.orgId = orgDefer.promise;\n\n    var opsCache = $cacheFactory('mds-ops');\n\n    var service = {\n        setOrg: setOrg,\n        getOperations: getOperations,\n        USERS_TABLE: 'users-skycision',\n        OPS_TABLE: 'ops-skycision',\n        ORGS_TABLE: 'orgs-skycision',\n        BLOCKS_TABLE: 'blocks-skycision',\n        INDEX_TABLE: 'id-singleton',\n        FARM_BUCKET: \"skycisionfarmbucket\",\n        createBlockFromGeoJSONFeatures: createBlockFromGeoJSONFeatures,\n        \n    }\n\n    return service;\n\n    function setOrg(orgId) {\n        orgDefer.resolve(orgId);\n    }\n \n    function getOperations() {\n        return MDS.orgId.then( id => getOperationsWithCache(id) );\n    }\n    function camelCase(name) {\n\t\tvar SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\n\t\tvar MOZ_HACK_REGEXP = /^moz([A-Z])/;\n\t\treturn name.\n\t\treplace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n\t\t\treturn offset ? letter.toUpperCase() : letter;\n\t    }).\n   \t\treplace(MOZ_HACK_REGEXP, 'Moz$1');\n    }\n\n    function getOperationsWithCache(id) {\n        var operations = opsCache.get(id);\n        if (!!operations) {\n            return $q.when(JSON.parse(operations));\n        }\n\n        console.log(id);\n\n        var d = $q.defer();\n        var _s3 = AWSService.s3();\n        AWSService.dynamo()\n        .then( dynamo => {\t\n            // Find the User's Org's Operations\n            var requestItems = {\n                ReturnConsumedCapacity: 'TOTAL',\n                TableName: service.OPS_TABLE,\n                KeyConditionExpression: \"org = :orgVal\",\n                ExpressionAttributeValues: {\n                    \":orgVal\": id\n                }\n            }\n            return dynamo.do('query',requestItems);\n        })\n        .then( opsData => opsData.Items)\n        .then( opsItems => {\n            console.log(opsItems);\n//            opsItems.reduce( (prev,cur) => {\n//              var out = cur.op;\n//              angular.forEach(cur.data,(val,key) => {out[key] = val});                        \n//              return prev.concat(out);\n//          },[]);\n            \n            //d.resolve(opsItems);\n            \n            // Parse the User's Org's Operations into objects for mainController\n            var ops = opsItems.map( op => _s3.then(s3 => \n                s3.getObject({\n                    Key: op['op-id']+'/farm.json',\n                    Bucket: service.FARM_BUCKET,\n                    ResponseContentDisposition: 'application/json',\n                    ResponseContentEncoding: 'utf-8'\n                }).then( data => ({\n                    op:op,\n                    data:angular.fromJson( data.Body.toString() )\n                }))\n            ));\n\n            $q.all(ops).then( opsResolved => {\n                var parsed = opsResolved.map(obj => {\n                    var out = {op:{}};\n                    out.data = obj.data;\n                    angular.forEach(obj.op, (val,key) => {\n                        out.op[camelCase(key)] = val;\n                    });\n                    return out;\n                }).reduce( (prev,cur) => {\n                    var out = cur.op;\n                    angular.forEach(cur.data,(val,key) => {out[key] = val});                        \n                    return prev.concat(out);\n                },[]);\n                opsCache.put(id, JSON.stringify(parsed))\n                d.resolve(parsed);\n            })\n            .catch( err => console.log(err));\n        });\n        \n        return d.promise;\n    }\n    \n    function createBlockFromGeoJSONFeatures(block) {\n    \tgetIndex('block')\n    \t.then( id => {\n\t    \tblock['block-id'] = id[0];\n\t    \tconsole.log(id);\n\t    \tvar params = {\n\t\t\t\tTableName: service.BLOCKS_TABLE,\n\t\t\t\tItem: block,\n\t    \t};\n\t    \n\t        return AWSService.dynamo()\n\t        .then( dynamo => dynamo.do( \"put\", params ) )\n    \t})\n        .then( d => d.Item )\n        .then( console.log )\n        .catch(console.log);\n        \n    }\n    \n    function getIndex(type, amountToIncrement) {\n    \t\n        amountToIncrement = amountToIncrement || 1;\n        console.log(amountToIncrement);\n        return $q( (resolve, reject) => {\n            AWSService.dynamo()\n            .then( dynamo => {\n                // get the operation index from the id-singleton table\n                dynamo.do('update', {\n                    TableName: service.INDEX_TABLE,\n                    Key: {\n                        'id-type': type\n                    },\n                    UpdateExpression: \"set idcount = idcount + :val\",\n                    ExpressionAttributeValues:{\n                        \":val\": amountToIncrement\n                    },\n                    ReturnValues:\"UPDATED_NEW\"\n                })\n                .then( response => {\n                \tconsole.log(response);\n                    const newIndex = response.Attributes.idcount;\n                    const inds = [];\n\n                    let i;\n                    for (i = 0; i < amountToIncrement; i++ ) {\n                        inds.push(newIndex - i);\n                    }\n\n                    const newIds = inds.map( d => {\n                        return ('000000' + d.toString('36')).slice(-6);\n                    });\n\n                    resolve(newIds);\n                });\n            })\n            .catch(reject);\n        });\n    }\n\n}\n\n})();","(function() {\n\n    angular\n        .module('skyApp.mosaic')\n        .controller('MainController', [\n            '$scope',\n            '$log',\n            '$timeout',\n            '$interval',\n            '$q',\n            '$compile',\n            'UserService',\n            'theOperations',\n            '$state',\n            'MosaicDataService',\n            MainController\n        ]);\n\n    function MainController($scope, $log, $timeout, $interval, $q, $compile, UserService, operations, $state, MosaicDataService) {\n\n        // Alias for the controller object to avoid\n        // confusion inside function scopes, etc\n        var MC = this;\n        MC.expandctrls = false;\n        var map;\n        MC.operations = operations;\n        MC.show = true;\n        /*\n        For clarity, all methods added to the MainController object (aliased above from \"this\" to \"MC\")\n        or the $scope object should be defined as function declarations and assigned to the property of \n        the same name on the object.\n        Keep those assignments relatively organized and towards the top of the file.\n\n        This works because function declarations are hoisted to the top of their scope, unlike vars or\n        function expressions.\n\n        As time permits, a lot of these methods should be bundled into their own services (all the map\n        plotting, etc.) because the M/V/C separation is pretty blurred right now.\n        */\n\n        MC.activate = activate;\n\n        // app state switching methods\n        MC.loadTiles = loadTiles;\n\n        // map zoom method, accepts bbox\n        // MC.setOperation = setOperation;\n        MC.setBBox = setBBox;\n\n        // flightplanning methods\n        MC.generateFields = generateFields;\n        MC.confirmField = confirmField;\n\n        // important local state variables\n        MC.farmToDraw = null;\n        MC.doneAdd = false;\n\n        MC.initMap = initMap;\n\n        MC.getMap = getMap;\n        var mapDefer = $q.defer();\n        var mapPromise = mapDefer.promise;\n\n        MC.activate();\n\n        function activate() {\n            angular.extend($scope, {\n                savedFields: [],\n                fieldInProgress: null,\n                markers: [],\n                newFieldName: '',\n                addMode: false,\n                getMap: getMap,\n                setDetailOperation: setOperation,\n                // mapActive: $state.current.mapActive\n            });\n\n            // initMap();\n\n            UserService.getUser()\n                .then(user => {\n                    $scope.user = user;\n                })\n            UserService.getOrg()\n                .then(org => {\n                    MC.orgs = [org];\n                    MC.currentOrg = org;\n                    $timeout(() => {\n                        MC.initMap(org);\n                    }, 250);\n                });\n        }\n\n\n        function getMap() {\n            console.log('MainController getMap');\n            return mapPromise;\n        }\n\n        function handleResize() {\n            if (map) {\n                var center = map.getCenter();\n                google.maps.event.trigger(map, \"resize\");\n                map.setCenter(center);\n            }\n        }\n\n        //Map initialization  \n        function initMap(org) {\n\n            map = new google.maps.Map(document.getElementById('map'), {\n                center: {\n                    \"lat\": 37.09024,\n                    \"lng\": -95.712891\n                },\n                zoom: 6,\n                mapTypeId: google.maps.MapTypeId.SATELLITE,\n                zoomControl: true,\n                zoomControlOptions: {\n                    style: google.maps.ZoomControlStyle.LARGE,\n                },\n                scaleControl: true,\n                rotateControl: true,\n                fullscreenControl: false,\n                tilt: 0,\n                // minZoom: 2,\n                draggableCursor: 'default',\n                mapTypeControlOptions: {\n                    style: google.maps.MapTypeControlStyle.DEFAULT,\n                    position: google.maps.ControlPosition.TOP_CENTER\n                },\n                zIndex: 3\n            });\n            $scope.map = map;\n            mapDefer.resolve(map);\n\n            MC.setBBox(org.bbox);\n\n            var drawingManager = new google.maps.drawing.DrawingManager({\n                map: map,\n                drawingControl: true,\n                polygonOptions: {\n                    strokeColor: '#FF8C00',\n                    strokeOpacity: 0.8,\n                    strokeWeight: 3,\n                    fillColor: '#FFA500',\n                    fillOpacity: 0.25\n                },\n                drawingControlOptions: {\n                    position: google.maps.ControlPosition.TOP_RIGHT,\n                    drawingModes: ['polygon', 'null']\n                }\n\n            });\n\n            function valueFn(value) {\n                return function() {\n                    return value;\n                };\n            }\n\n            function convertObjectToPathObj(objectlist) {\n                var newlist = [];\n                objectlist.forEach(function(latlngobj, ind) {\n                    newlist.push({\n                        \"lat\": valueFn(latlngobj.lat),\n                        \"lng\": valueFn(latlngobj.lng)\n                    });\n                });\n                return newlist;\n            }\n            var encodedBaseMesh, heading;\n\n            function generate(data) {\n\n                MC.generateFields(data)\n                    .then(function(response) {\n                        if (!!response.fields[0].error) {\n                            var path = response.fields[0].error;\n                            //path.push(path[0]);\n                            console.log(path);\n                            alert(\"Maximum waypoint count exceeded.\");\n                            $scope.infoWindow.close();\n                            return;\n                        } else {\n                            var path = response.fields[0].baseMesh;\n                            path.push(path[0]);\n                            console.log(path);\n                        }\n                        var polygon = new google.maps.Data.Polygon([path]);\n                        //polygon.setOptions({fillColor: '#FFA500', fillOpacity: 0});\n                        $scope.map.data.add({\n                            geometry: polygon\n                        });\n                        var lats = [],\n                            lngs = [];\n                        var baselatlon = path;\n                        var baseMesh = convertObjectToPathObj(baselatlon);\n                        encodedBaseMesh = google.maps.geometry.encoding.encodePath(baseMesh);\n                        heading = response.fields[0].heading;\n                        console.log(encodedBaseMesh);\n                        console.log(response.fields[0].heading);\n                    });\n\n            }\n\n            var customEncodedBounds, bbox, blockdata;\n            google.maps.event.addListener(drawingManager, 'polygoncomplete', function(event) {\n                var path = event.getPaths().getAt(0).getArray();\n                var area = google.maps.geometry.spherical.computeArea(path) * 0.000247105;\n                var bounds = new google.maps.LatLngBounds();\n                customEncodedBounds = google.maps.geometry.encoding.encodePath(path);\n                var cusBounds = path.map((pt) => ({\n                    lat: pt.lat(),\n                    lng: pt.lng()\n                }));\n                var lats = [],\n                    lngs = [];\n                var i;\n                for (i = 0; i < path.length; i++) {\n                    bounds.extend(path[i]);\n                }\n                var center = bounds.getCenter();\n                $scope.infoWindow = new google.maps.InfoWindow();\n\n\n                var optionsStr = \"\";\n                angular.forEach(MC.operations, function(operation, indx) {\n                    optionsStr += '<option value=' + operation.opId + ' org=' + operation.org + '>' + operation.farmName + '</option>';\n                });\n                console.log(MC.operations);\n                /* beautify preserve:start */\n                var contentString = '<div class=\"customBlock\" class=\"panel-body custom\">' + '<table border=\"0\" class=\"infoDropdown\"><tbody>' + '<tr><td>' + '<select id=\"getOperationName\">' + '<option value=\"-1\">Please select...</option>' + optionsStr + '</select></td></tr>' + '<tr class=\"customBlockName\"><td><input type=\"text\" placeholder=\"Name\"/></td></tr>' + '</tbody></table>' + '<table class=\"metadata\"><tbody><tr><td>Area</td>' + '<td>' + area.toFixed(4) + ' Acres' + '</td>' + '</tr></tbody></table>' + '<div class=\"add-row-button pull-left col12 padT10\">' + '<div class=\"pill col12\">' + '<div class=\"pill col6\">' + '<button class=\"icon-plus add pull-left col3\"> Add property</button>' + '<button class=\"del col4\">Delete</button>' + '</div>' + '<div class=\" pull-right\">' + '<button class=\"save col3 save\">Save</button>' + '<button class=\"minor col3\">Cancel</button>' + '</div>' + '</div>' + '</div>' + '</div>';\n                //console.log(op);\n                google.maps.event.addListener($scope.infoWindow, 'domready', function() {\n                    var closeBtn, addBtn, saveBtn, delBtn, clr,\n                        minlat, maxlat, minlng, maxlng, bbox;\n                    blockdata = {};\n                    closeBtn = $('.minor').get();\n                    addBtn = $('.add').get();\n                    saveBtn = $('.save').get();\n                    delBtn = $('.del').get();\n                    clr = $('.clr-bounds').get();\n\n                    google.maps.event.addDomListener(closeBtn[0], 'click', function() {\n                        $scope.infoWindow.close();\n                    });\n                    google.maps.event.addDomListener(delBtn[0], 'click', function() {\n                        $scope.infoWindow.close();\n                        event.setMap(null);\n                    });\n                    google.maps.event.addDomListener(clr[0], 'click', function() {\n                        $scope.infoWindow.close();\n                        event.setMap(null);\n                    });\n                    google.maps.event.addDomListener(addBtn[0], 'click', function() {\n                        var ele = d3.select('.metadata > tbody');\n                        var tr = ele.append('tr');\n\n                        tr.append('td')\n                            .append('input')\n                            .attr('type', 'text');\n\n                        tr.append('td')\n                            .append('input')\n                            .attr('type', 'text');\n                    });\n\n                    google.maps.event.addDomListener(saveBtn[0], 'click', function() {\n                        var cusBlock = $('.metadata').find('tr');\n                        var selectedOperationId = $(\"#getOperationName\").val();\n                        //var selectedOperationName = $(\"#getOperationName option:selected\").text();\n                        var selectedOperationOrg = $(\"#getOperationName option:selected\").attr('org');\n\n                        angular.forEach(cusBlock, function(ele, index) {\n                            var key, value;\n                            var custds = $(ele).find('td');\n                            var cusinp = $(custds).find('input');\n                            if (cusinp.length) {\n                                key = $.trim($(cusinp[0]).val());\n                                value = $.trim($(cusinp[1]).val());\n                            } else {\n                                return;\n                            }\n                            if (key) {\n                                blockdata[key] = value;\n                            }\n                        });\n                        for (var i = 0; i < cusBounds.length; i++) {\n                            lats.push(cusBounds[i].lat);\n                            lngs.push(cusBounds[i].lng);\n                        }\n                        minlat = Math.min.apply(null, lats);\n                        maxlat = Math.max.apply(null, lats);\n                        minlng = Math.min.apply(null, lngs);\n                        maxlng = Math.max.apply(null, lngs);\n                        bbox = [minlng, minlat, maxlng, maxlat];\n                        var cusBl = $('.infoDropdown').find('tr');\n                        var cusName = $(cusBl).find('input');\n                        var cusBlockName = $.trim($(cusName).val());\n                        var cusBlock = {\n                            \"org-id\": selectedOperationOrg,\n                            \"op-id\": selectedOperationId,\n                            \"heading\": heading,\n                            \"name\": cusBlockName,\n                            \"bbox\": bbox,\n                            \"properties\": blockdata,\n                            \"boundary\": customEncodedBounds,\n                            \"base-mesh\": encodedBaseMesh\n                        }\n                        console.log(cusBlock);\n                        MosaicDataService.createBlockFromGeoJSONFeatures(cusBlock);\n                        //createBlockFromGeoJSONFeatures();\n                        $scope.infoWindow.close();\n                    });\n                });\n\n                /* beautify preserve:end */\n                $scope.infoWindow.setContent(contentString);\n                $scope.infoWindow.setPosition(center);\n                $scope.infoWindow.open($scope.map);\n                drawingManager.setDrawingMode(null);\n\n                if (area < 300) {\n                    generate({\n                        farmId: 'abc123',\n                        fields: [{\n                            fieldName: new Date().toString(),\n                            farmId: 'abc123',\n                            boundary: path.map((pt) => ({\n                                lat: pt.lat(),\n                                lng: pt.lng()\n                            }))\n                        }]\n\n                    });\n                } else {\n                    event.setMap(null);\n                    $scope.infoWindow.close();\n                    alert('Please select less than 300 acres!');\n                }\n            });\n\n            var input = document.getElementById('autocomplete-input');\n            var searchBox = new google.maps.places.SearchBox(input);\n            $scope.map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\n            // Bias the SearchBox results towards current map's viewport.\n            $scope.map.addListener('bounds_changed', function() {\n                searchBox.setBounds($scope.map.getBounds());\n            });\n\n            // Listen for the event fired when the user selects a prediction and retrieve\n            // more details for that place.\n            searchBox.addListener('places_changed', function() {\n                var places = searchBox.getPlaces();\n\n                if (places.length === 0) {\n                    return;\n                }\n\n                // For each place, get the icon, name and location.\n                var bounds = new google.maps.LatLngBounds();\n                places.forEach(function(place) {\n                    if (place.geometry.viewport) {\n                        // Only geocodes have viewport.\n                        bounds.union(place.geometry.viewport);\n                    } else {\n                        bounds.extend(place.geometry.location);\n                    }\n                });\n                $(input).val('');\n                $(input).blur();\n                $scope.map.fitBounds(bounds);\n            });\n\n            google.maps.event.addDomListener(window, \"resize\", handleResize);\n\n\n            // map.data.loadGeoJson('/static/json/ranches/JulianaD15.geojson');\n            // map.data.loadGeoJson('/static/json/ranches/JulianaD16.geojson');\n            // map.data.loadGeoJson('/static/json/ranches/JulianaD17.geojson');\n            // map.data.loadGeoJson('/static/json/ranches/JulianaFarming.geojson');\n\n            map.data.setStyle({\n                visible: true,\n                zIndex: 10,\n                fillColor: '#3399CC',\n                fillOpacity: 0.1,\n                strokeColor: '#3399CC'\n            });\n            initJson();\n            var mapIconsIntv = null;\n            var handleMapIcons = function() {\n                var imgsElms = document.querySelectorAll(\"img[src$='/mapfiles/drawing.png']\");\n                var imgLen = imgsElms.length;\n\n                if (imgLen) {\n                    if (mapIconsIntv != null) {\n                        $interval.cancel(mapIconsIntv);\n                    }\n\n                    for (var i = 0; i < imgLen; i++) {\n                        imgsElms[i].parentNode.setAttribute(\"class\", \"fa controllericon_\" + i);\n                        angular.element('.fa').parents().eq('2').parent().addClass('toolWrapper');\n                        angular.element('#map > div').addClass('zIndex');\n\n                    }\n\n                    angular.element(\"#map-wrapper\").css(\"visibility\", \"visible\");\n                    MC.show = false;\n                }\n            };\n\n            google.maps.event.addListener(map, 'tilesloaded', function() {\n                mapIconsIntv = $interval(handleMapIcons, 500);\n            });\n\n        }\n\n        function setOperation(opId) {\n            console.log(MC.operations, opId);\n            // return;\n            var operation = MC.operations[opId];\n            $scope.currentOp = operation;\n            $scope.detailOperation = operation;\n            if (!!operation.bbox)\n                MC.setBBox(operation.bbox);\n            // var name = operation.op_name;\n            // $scope.map.data.setStyle(function(feature){\n            //     /** @type {google.maps.Data.StyleOptions} */\n            //     var style = ({\n            //         visible: true,\n            //         zIndex: 10,\n            //         fillColor:'#3399CC',\n            //         fillOpacity: 0,\n            //         strokeColor: '#3399CC'\n            //     });\n            //     // if (feature.getProperty('RANCH_1') === name){\n            //     //     style.visible = true;\n            //     //     style.fillColor = '#FFA500';\n            //     //     style.strokeColor = '#FFA500';\n            //     //     style.fillOpacity = 0;\n            //     //     return style;\n            //     // }\n            //     return style;\n            // });\n        }\n\n        function setFeature(feature) {\n            MC.setBBox(feature.bbox);\n        }\n\n        function setBBox(bbox) {\n            console.log(bbox);\n            var bounds = (\n                ([west, south, east, north]) => ({\n                    west,\n                    south,\n                    east,\n                    north\n                })\n            )(bbox);\n\n            $scope.map.fitBounds(bounds);\n        }\n\n        function initJson() {\n            $scope.infoWindow = new google.maps.InfoWindow();\n\n            $scope.map.data.setStyle({\n                visible: false,\n                zIndex: 10,\n                fillColor: '#3399CC',\n                fillOpacity: 0,\n                strokeColor: '#3399CC'\n            });\n\n            $scope.infoWindow.setZIndex(0);\n\n            $scope.map.data.addListener('click', event => {\n                var props = [];\n\n                event.feature.forEachProperty((val, key) => {\n                    var prop = {};\n                    prop.key = key;\n                    prop.val = val ? val : '-';\n                    props.push(prop);\n                });\n\n                var contentString = '<div id=\"infoWindowContent\" style=\"max-height:350px;min-width:200px;overflow-y:auto;\"></div>';\n\n                $scope.infoWindow.setContent(contentString);\n                $scope.infoWindow.setPosition(event.latLng.toJSON());\n                $scope.blockData = {\n                    data: props\n                };\n                $scope.infoWindow.open($scope.map);\n            });\n\n            $scope.infoWindow.addListener('domready', function() {\n                var tpl = '<ng-include src=\"\\'/templates/map.infowindow.partial.html\\'\" id=\"infoWindowWrap\"></ng-include>';\n                $('#infoWindowContent').empty();\n                $('#infoWindowContent').append($compile(tpl)($scope));\n                $scope.$apply();\n                $timeout(function() {\n                    $scope.infoWindow.setZIndex(4);\n                }, 20, false);\n            });\n\n            $scope.infoWindow.addListener('closeclick', function() {\n                google.maps.event.clearListeners('domready', $scope.infoWindow);\n            });\n\n        }\n\n        function loadTiles(selectedBatch, selectedType) {\n            console.log(selectedBatch, selectedType);\n            TileService.loadTiles(selectedBatch, selectedType, $scope.map);\n        };\n\n        function showFieldPopup(o) {\n            return function(event) {\n                var area = google.maps.geometry.spherical.computeArea(o.getPath()) * 0.000247105;\n                /* beautify preserve:start */\n                var contentString = '<h5>' + o.fieldName + '</h5><br>' + '<div class=\"panel-body\" style=\"width:270px;padding:0px;\"><dl class=\"dl-horizontal\" style=\"width:250px;\">' + '<dt style=\"width:100px;\"><b>Clicked location:</b></dt>' + '<dd style=\"margin-left:120px;\">' + '[' + event.latLng.lat().toFixed(6) + ',' + event.latLng.lng().toFixed(6) + ']' + '</dd>' + '<dt style=\"width:100px;\"><b>Area:</b></dt>' + '<dd style=\"margin-left:120px;\">' + area.toFixed(4) + ' Acres' + '</dd></dl>' + '<button type=\"button\" id=\"deactivator\">Deactivate Field</button></div>';\n                /* beautify preserve:end */\n                $scope.infoWindow.setContent(contentString);\n                $scope.infoWindow.setPosition(event.latLng);\n                $scope.infoWindow.open($scope.map);\n            };\n        };\n\n\n\n        function confirmField(newfieldname) {\n            console.log(newfieldname);\n            $scope.fieldInProgress.store(String(newfieldname));\n            $scope.savedFields.push($scope.fieldInProgress);\n            $scope.fieldInProgress = null;\n            $scope.markerId = 0;\n            $scope.markers.forEach(function(m) {\n                m.setMap(null);\n            });\n            $scope.markers = [];\n            $scope.reset();\n        };\n\n        function generateFields(data) {\n\n            //           console.log('fields confirming');\n            //           var farmToSubmit = {};\n            //           farmToSubmit.farmId = '';//$scope.currentFarm.id;\n            //           farmToSubmit.fields = [];\n            //           var thePolygons = $scope.savedFields;\n            //           thePolygons.forEach(function(p, i) {\n            //               var f = {};\n            //               f.createdOn = p.createdOn_;\n            //               f.fieldName = p.fieldName_;\n            //               f.active = true; \n            //               console.log(f.fieldName);\n            //               f.boundary = [];\n            //               var bound = p.getPath();\n            //               bound.forEach(function(b, j) {\n            //                   var n = {};\n            //                   n.lat = b.lat();\n            //                   n.lng = b.lng();\n            //                   n.ind = j;\n            //                   f.boundary.push(n);\n            //               });\n            //               farmToSubmit.fields[i] = f;\n            //           });\n            //            console.log(data);\n            //           return $q.when();\n            return UserService.generateFields(data);\n            //console.log(data.fields[0].boundary);\n        };\n    };\n\n})();","(function() {\n    angular\n        .module('skyApp.mosaic')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates])\n        .run(['$rootScope', ($rootScope, $state) => {\n            $rootScope.$on('$stateChangeSuccess', (event, toState, toParams, fromState, fromParams) => {\n                $rootScope.state = toState\n            })\n        }])\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home', {\n                url: '',\n                views: {\n                    '@': {\n                        templateUrl: 'templates/root/root.view.html',\n                    },\n                    'header@home': {\n                        templateUrl: 'templates/root/header.html',\n                        controller: 'HeaderController',\n                        controllerAs: 'hc',\n                    },\n                    'nav@home': {\n                        templateUrl: 'templates/root/nav.view.html',\n                        controller: 'NavController',\n                        controllerAs: 'nc',\n                        resolve: {\n                            'org': ['UserService', 'MosaicDataService',\n                                function(UserService, MosaicDataService) {\n                                    return UserService.getOrg()\n                                        .then(org => {\n                                            MosaicDataService.setOrg(org.orgId)\n                                            return org;\n                                        });\n                                }\n                            ]\n                        },\n                    },\n                    'tabs@home': {\n                        template: '<div ng-class=\"{true:\\'apptour\\'}[onTour]\">' +\n                            '<md-tabs class=\"tabs-top\" md-no-ink md-selected=\"selectedTab\">' +\n                            '<md-tab class=\"md-primary\" ng-repeat=\"tab in tabs\" ng-click=\"onTabSelected(tab.sref)\">' +\n                            '<md-tab-label>' +\n                            '<div ng-if=\"tab.name != \\'Tour\\'\">' +\n                            '<div class=\"menulabelstyle\" wt-step=\"{{2 + $index}}\" wt-group=\"tour\" wt-position=\"bottom\">' +\n                            '{{tab.name}}' +\n                            '<wt-step-content>' +\n                            '<div ng-bind-html=\"tab.description\"></div>' +\n                            '</wt-step-content>' +\n                            '</div>' +\n                            '</div>' +\n                            '<div class=\"menulabelstyle\" ng-if=\"tab.name == \\'Tour\\'\">' +\n                            '{{tab.name}}' +\n                            '</div>' +\n                            '</md-tab-label>' +\n                            '</md-tab>' +\n                            '</md-tabs></div>',\n                        controller: ['$scope', '$state', 'UserService', 'MosaicDataService', '$rootScope',\n                            function($scope, $state, UserService, MosaicDataService, $rootScope) {\n                                $rootScope.onTour = false;\n\n                                $rootScope.$on(\"TOUR_END\", function() {\n                                    $rootScope.onTour = false;\n                                });\n\n                                $scope.onTabSelected = function(tab) {\n                                    if (tab == 'home.tour') {\n                                        $rootScope.onTour = true;\n                                        $scope.startWalkthrough(\"tour\");\n                                    } else {\n                                        $state.go(tab.toLowerCase());\n                                    }\n                                };\n\n                                var ctrl = this;\n                                ctrl.tabs = [{\n                                    name: 'Maps',\n                                    sref: \"home.map\",\n                                    description: 'If you don\\'t have shape files then select the \\'Add Farm\\' on the side navigation and enter the farm name with address.</br>' +\n                                        '</br>' +\n                                        'You can add a new block to the farm using google map drawing tool. Please select the hamburger menu on top right corener of map and select the polygon tool to draw the boundaries.</br>' +\n                                        '<br /> Click <strong>Next</strong> to continue the tour.'\n                                }, {\n                                    name: 'Flights',\n                                    sref: 'home.flights',\n                                    routename: '/flights',\n                                    description: 'Flights will give you the information about your flight\\'s mission like Altitude, Start time and Duration.</br>' +\n                                        ' You can also download the NDVI images in PNG,PDF,SHP,TIF formats.</br>' +\n                                        '<br /> Click <strong>Next</strong> to continue the tour.'\n\n                                }, {\n                                    name: 'Weather',\n                                    sref: 'home.weather',\n                                    routename: '/weather',\n                                    description: ' Weather will give you the updates on forecast like min-temp / max-temp, precipitation, windispeed, cloud cover etc..</br>' +\n                                        'Currently the page is under construction.</br>' +\n                                        'Please visit back for more updates.</br>' +\n                                        '<br /> Click <strong>Next</strong> to continue the tour.'\n                                }, {\n                                    name: 'Upload',\n                                    sref: 'home.upload',\n                                    routename: '/upload',\n                                    description: 'If you have the shape files ready then please upload here and we will notify you the process time and results.</br>' +\n                                        '<br /> Click <strong>Next</strong> to continue the tour.'\n                                }, {\n                                    name: 'My farm',\n                                    sref: 'home.myfarm',\n                                    routename: '/myfarm',\n                                    description: ' Are you NEW to Skycision?</br>' +\n                                        'Then TOUR will navigate you. </br>' +\n                                        '<br /> Click <strong>Next</strong> to continue the tour.'\n                                }, {\n                                    name: 'Tour',\n                                    sref: 'home.tour',\n                                    routename: '/tour',\n                                    description: ' Are you NEW to Skycision?</br>' +\n                                        'Then TOUR will navigate you. </br>' +\n                                        '<br /> Click <strong>Next</strong> to continue the tour.'\n                                }];\n\n\n                                var tabIndex = ctrl.tabs.indexOf(\n                                    ctrl.tabs.filter(t => $state.includes(t.sref))[0]\n                                );\n\n                                angular.extend($scope, {\n                                    selectedTab: tabIndex === -1 ? 0 : tabIndex,\n                                    tabs: ctrl.tabs\n                                })\n\n                                MosaicDataService.getOperations()\n                                    .then(ops => ops.reduce((p, c) => {\n                                        return p[c.opId] = c, p\n                                    }, {}))\n                                    .then(opsMap => {\n                                        $scope.ops = opsMap;\n                                    });\n                            }\n                        ]\n                    },\n                    'main@home': {\n                        templateUrl: 'templates/root/main.html',\n                        controller: 'MainController',\n                        controllerAs: 'mc',\n                        resolve: {\n                            'theOperations': ['MosaicDataService',\n                                function(MosaicDataService) {\n                                    return MosaicDataService.getOperations()\n                                        .then(ops => {\n                                            return ops.reduce((p, c) => {\n                                                p[c.opId] = c;\n                                                return p;\n                                            }, {})\n                                        });\n                                }\n                            ]\n                        }\n                    }\n                },\n                redirectTo: 'home.map',\n                data: {\n                    uploaderTarget: 'nav-uploader',\n                    sliderOpen: false\n                }\n            })\n\n        .state('home.map', {\n            name: 'map',\n            url: '/map',\n            data: {\n                sliderOpen: false\n            }\n        })\n\n        .state('home.map.detail', {\n            name: 'home.map.detail',\n            url: '/{detail}',\n            views: {\n                'detail': {\n                    template: '',\n                    controller: ['$scope', '$stateParams', 'MosaicDataService',\n                        function($scope, $stateParams, MDS) {\n                            $scope.setDetailOperation($stateParams.detail);\n                        }\n                    ]\n                },\n            },\n        })\n    }\n\n})();","(function() {\n\n    angular.module('skyApp.myfarm', ['ngAnimate', 'ngSanitize', 'rzModule', 'ui.bootstrap']);\n\n})();","(function() {\n    angular\n        .module('skyApp.myfarm')\n        .controller('myfarmController', myfarmController);\n\n    myfarmController.$inject = ['$scope', '$state', '$rootScope'];\n\n    function myfarmController($scope, $state, $rootScope) {\n        $scope.oneAtATime = true;\n\n        // $scope.status = {\n        //     isFirstOpen: true,\n        //     isFirstDisabled: false\n        // };\n\n        $scope.defaultCropLifeOptions = [{\n            name: 'Prune',\n            id: 'PRUNE'\n        }, {\n            name: 'Plant',\n            id: 'PLANT'\n        }, {\n            name: 'Harvest',\n            id: 'HARVEST'\n        }];\n\n        $scope.fields = [{\n            \"name\": \"Field 5\",\n            \"acres\": \"36 acres\",\n            \"crop\": \"Oranges\",\n            selectedcroplife: ''\n        }, {\n            \"name\": \"Field 4\",\n            \"acres\": \"36 acres\",\n            \"crop\": \"Oranges\",\n            selectedcroplife: ''\n        }, {\n            \"name\": \"Field 3\",\n            \"acres\": \"34 acres\",\n            \"crop\": \"Oranges\",\n            selectedcroplife: ''\n        }, {\n            \"name\": \"Field 2\",\n            \"acres\": \"39 acres\",\n            \"crop\": \"Oranges\",\n            selectedcroplife: ''\n        }, {\n            \"name\": \"Field 1\",\n            \"acres\": \"31 acres\",\n            \"crop\": \"Oranges\",\n            selectedcroplife: ''\n        }];\n\n        $scope.slider_ticks = {\n            value: 0,\n            options: {\n                ceil: 11,\n                floor: 0,\n                showTicks: true,\n                translate: function(value) {\n                    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n                    return months[value];\n                }\n            }\n        };\n        $scope.saveField = function(fieldObj) {\n            //alert(JSON.stringify(fieldObj))\n        };\n        //Calendar\n\n        $scope.today = function() {\n            $scope.dt = new Date();\n        };\n        $scope.today();\n\n        $scope.clear = function() {\n            $scope.dt = null;\n        };\n\n        $scope.inlineOptions = {\n            customClass: getDayClass,\n            minDate: new Date(),\n            showWeeks: true\n        };\n\n        $scope.dateOptions = {\n            //dateDisabled: disabled,\n            formatYear: 'yy',\n            maxDate: new Date(2020, 5, 22),\n            minDate: new Date(),\n            startingDay: 1\n        };\n\n        $scope.toggleMin = function() {\n            $scope.inlineOptions.minDate = $scope.inlineOptions.minDate ? null : new Date();\n            $scope.dateOptions.minDate = $scope.inlineOptions.minDate;\n        };\n\n        $scope.toggleMin();\n\n        $scope.open1 = function() {\n            $scope.popup1.opened = true;\n        };\n\n        $scope.open2 = function() {\n            $scope.popup2.opened = true;\n        };\n\n        $scope.setDate = function(year, month, day) {\n            $scope.dt = new Date(year, month, day);\n        };\n\n        $scope.formats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];\n        $scope.format = $scope.formats[0];\n        $scope.altInputFormats = ['M!/d!/yyyy'];\n\n        $scope.popup1 = {\n            opened: false\n        };\n\n        $scope.popup2 = {\n            opened: false\n        };\n\n        var tomorrow = new Date();\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        var afterTomorrow = new Date();\n        afterTomorrow.setDate(tomorrow.getDate() + 1);\n        $scope.events = [{\n            date: tomorrow,\n            status: 'full'\n        }, {\n            date: afterTomorrow,\n            status: 'partially'\n        }];\n\n        function getDayClass(data) {\n            var date = data.date,\n                mode = data.mode;\n            if (mode === 'day') {\n                var dayToCheck = new Date(date).setHours(0, 0, 0, 0);\n\n                for (var i = 0; i < $scope.events.length; i++) {\n                    var currentDay = new Date($scope.events[i].date).setHours(0, 0, 0, 0);\n\n                    if (dayToCheck === currentDay) {\n                        return $scope.events[i].status;\n                    }\n                }\n            }\n\n            return '';\n        }\n\n\n    }\n\n\n\n})();","(function() {\n    angular\n        .module('skyApp.myfarm')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates])\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home.myfarm', {\n                name: 'home.myfarm',\n                url: '/myfarm',\n                views: {\n                    'content': {\n                        templateUrl: 'templates/myfarm/myfarm-view.html',\n                        controller: 'myfarmController',\n                    }\n                },\n                data: {\n                    sliderOpen: true,\n                    contentWidth: 100\n                }\n            })\n    }\n\n})();","(function() {\n    angular.module('skyApp.root', []);\n})();\n","(function() {\n    angular\n        .module('skyApp.root')\n        .controller('HeaderController', HeaderController);\n\n    HeaderController.$inject = ['$scope', '$state','UserService','AuthService', '$mdSidenav'];\n    function HeaderController($scope, $state, UserService, AuthService, $mdSidenav) {\n        var hc = this;\n        activate();\n        hc.openMenu = function() {\n            $mdSidenav('left').toggle();\n        };\n        angular.extend($scope,{ \n            go: go,\n            isActive: isActive,\n            signOut: signOut,\n        });\n\n        function activate() {\n            UserService.getUser()\n            .then(user => {\n                angular.extend($scope, {user:user})\n            });\n        }\n\n        function isActive(val) {\n            return $state.includes(val.toLowerCase());\n        }\n\n        function go(val) {\n            $state.go(val.toLowerCase());\n        }\n\n        function signOut() {\n            UserService.signOut();\n            AuthService.signOut();\n        }\n    }\n\n})();","(function() {\n    angular\n        .module('skyApp.root')\n        .constant('jQuery', window.jQuery)\n        .controller('NavController', [\n            '$scope',\n            'MosaicDataService',\n            'jQuery',\n            'org',\n            '$mdSidenav',\n            '$mdDialog',\n            '$mdMedia',\n            NavController\n        ]);\n\n    function NavController($scope, MDS, $, org, $mdSidenav, $mdDialog, $mdMedia) {\n        var NC = this;\n\n        NC.activate = activate;\n        NC.activate();\n\n        function activate() {\n            $scope.org = org;\n            MDS.getOperations(org.orgId).then(operations => {\n                //console.log(operations.map(function (arg){return arg.opId}));\n                $scope.ops = operations;\n            });\n        }\n        var mainContent = $('.cd-main-content'),\n            header = $('.cd-main-header'),\n            sidebar = $('.cd-side-nav'),\n            mblTabs = $('.nav-tabs'),\n            sidebarTrigger = $('.cd-nav-trigger'),\n            topNavigation = $('.cd-top-nav'),\n            searchForm = $('.cd-search'),\n            accountInfo = $('.account'),\n            headerHeight = $('.cd-main-header').height();\n\n\n        $('.has-children > a').on('click', function(event) {\n            var selectedItem = $(this);\n            // event.preventDefault();\n            $('.fa-chevron-down').removeClass('fa-chevron-down');\n            if (selectedItem.parent('li').hasClass('selected')) {\n                selectedItem.parent('li').removeClass('selected');\n            } else {\n                sidebar.find('.has-children.selected ').removeClass('selected');\n                accountInfo.removeClass('selected');\n                selectedItem.parent('li').addClass('selected');\n                selectedItem.find('.fa-chevron-right').addClass('fa-chevron-down');\n            }\n        });\n        $scope.showAdvanced = function(ev) {\n            // var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n            $mdDialog.show({\n                controller: [\"$scope\", \"$mdDialog\", DialogController],\n                templateUrl: 'templates/users.create-farm.view.html',\n                parent: angular.element(document.body),\n                targetEvent: ev,\n                clickOutsideToClose: true,\n                //fullscreen: useFullScreen\n            })\n            //     .then(function(answer) {\n            //         $scope.status = 'You said the information was \"' + answer + '\".';\n            //     }, function() {\n            //         $scope.status = 'You cancelled the dialog.';\n            //     });\n            // $scope.$watch(function() {\n            //     return $mdMedia('xs') || $mdMedia('sm');\n            // }, function(wantsFullScreen) {\n            //     $scope.customFullscreen = (wantsFullScreen === true);\n            // });\n        };\n\n        function DialogController($scope, $mdDialog) {\n\n            $scope.cancel = function() {\n                $mdDialog.cancel();\n            };\n        }\n    }\n\n})();","(function (){\n    angular\n        .module('skyApp.root')\n        .config(['$stateProvider', '$urlRouterProvider','$urlMatcherFactoryProvider',  configRootStates]);\n\n    function configRootStates($stateProvider, $urlRouterProvider, $urlMatcherFactoryProvider) {\n        // $urlMatcherFactoryProvider.strictMode(false)\n\n\n        $urlRouterProvider.otherwise('/login');\n        // $urlRouterProvider.otherwise(function($injector) {\n        //     var $state = $injector.get(\"$state\");\n        //     $state.go(\"login\");\n        // });\n\n\n\n        $stateProvider\n        .state('login', {\n            name: 'login',\n            url:'/login',\n            templateUrl: 'templates/signup/signup-view.html',\n            controller: 'SignupController',\n            controllerAs: 'sc',\n        });\n        \n        // .state('header', {\n\n        //     templateUrl: 'header.html',\n        //     controller: 'HeaderController',\n        //     controllerAs: 'hc',\n        //     parent: 'root'\n        // })\n        \n\n        // .state('main', {\n        //     templateUrl: 'templates/main.html',\n        //     controller: 'MainController',\n        //     controllerAs: 'mc',\n        //     parent: 'root'\n        // })\n\n        // .state('signup', {\n        //     url:'/signup',\n        //     controller: 'SignupController',\n        //     controllerAs: 'sc',\n        //     templateUrl: 'templates/signup-view.html'\n        // })\n \n        // stateHelperProvider\n        // .state({\n        //     name: 'root',\n        //     url: '/',\n        //     templateUrl: 'templates/root/root.view.html',\n        //     views: [{\n        //         name: 'root.header',\n        //         controller: HeaderController,\n        //         controllerAs: 'hc',\n        //         templateUrl: 'app/header.html'\n        //     },{\n        //         name: 'root.main',\n        //         // url: '/main',\n        //         controller: 'MainController',\n        //         controllerAs: 'mc',\n        //         templateUrl: 'app/main.html'\n        //     }]\n        // })           \n    }\n})();","(function(){\n\nangular.module('skyApp.signup',[]);\n\n})();","(function() {\n\n    angular\n        .module('skyApp.signup')\n        .controller('SignupController', ['$scope', '$q', 'AuthService', '$mdDialog', 'UserService', SignupController])\n        .directive('confirmPassword', passwordMatch);\n\n\n    function passwordMatch() {\n\n        return {\n            restrict: 'A',\n            require: 'ngModel',\n            scope: {\n                confirmPassword: '=confirmPassword'\n            },\n            link: function(scope, element, attributes, ngModel) {\n                ngModel.$validators.confirmPassword = function(modelValue) {\n                    return modelValue === scope.confirmPassword;\n                };\n\n                scope.$watch('confirmPassword', function() {\n                        ngModel.$validate();\n                });\n            }\n        };\n    }\n\n    function SignupController($scope, $q, AuthService, $mdDialog, UserService) {\n        // so I don't get confused...\n        var sc = this;\n        sc.show = true;\n        $scope.loading = false;\n        // Primary Methods\n        sc.signIn = signIn;\n        sc.registerUser = registerUser;\n\n        sc.validateForm = function(account){\n            if ($scope.form.$valid) {\n                sc.registerUser(account);\n            }\n        }\n\n        sc.resetPassword = resetPassword;\n        sc.verifyEmail = verifyEmail;\n        sc.confirmResetPassword = confirmResetPassword;\n\n        // UI Methods\n        sc.onEscKeyUp = onEscKeyUp\n        sc.togglePasswordShow = togglePasswordShow;\n        sc.setMode = setMode;\n\n        sc.registeredUser = null;\n        sc.forgotPasswordUser = null;\n\n        var formModal = $('.cd-user-modal'),\n            formLogin = formModal.find('#cd-login'),\n            formVerify = formModal.find('#cd-verify'),\n            formSignup = formModal.find('#cd-signup'),\n            formForgotPassword = formModal.find('#cd-reset-password'),\n            formModalTab = $('.cd-switcher'),\n            tabLogin = formModalTab.children('li').eq(0).children('a'),\n            tabSignup = formModalTab.children('li').eq(1).children('a'),\n            forgotPasswordLink = formLogin.find('.cd-form-bottom-message a'),\n            backToLoginLink = formForgotPassword.find('.cd-form-bottom-message a'),\n            formTermsCond = formModal.find('#cd-termsCond'),\n            mainNav = $('.main-nav'),\n            formConfirmReset = $('#cd-confirm-reset');\n\n\n        function signIn(user) {\n            AuthService.authenticateUser(user.username, user.password)\n                .then(function(success) {\n                    console.log('success', success);\n                    $scope.loading = true;\n                }, function(failure) {\n                    console.log('failure', failure);\n                    //alert(failure);\n                    $scope.loading = false;\n                });\n        }\n\n        function registerUser(account) {\n\n            var otherParams = {\n                \"family_name\": account.familyName,\n                \"given_name\": account.given_name,\n                \"address\": account.address,\n                \"email\": account.email.toLowerCase()\n            };\n            AuthService.registerUser(account.username, account.password, otherParams)\n                .then(function(result) {\n                    console.log('success', result);\n                    sc.registeredUser = result;\n                    formLogin.removeClass('is-selected');\n                    formSignup.removeClass('is-selected');\n                    formVerify.addClass('is-selected');\n                    formModal.find('.cd-switcher').addClass('hide');\n                    tabLogin.removeClass('selected');\n                    tabSignup.removeClass('selected');\n                    $scope.loading = true;\n\n                }, function(failure) {\n                    console.log('failure', failure);\n                    $scope.loading = false;\n                });\n        }\n\n        function resetPassword(email) {\n            sc.forgotPasswordUser = AuthService.resetPassword(email)\n                .then(function(user) {\n                    sc.setMode(4);\n                    return user;\n                }, function(){\n                    alert(\"Error\");\n                });\n                \n        }\n\n        function confirmResetPassword(confirmation) {\n            sc.forgotPasswordUser.then(user => {\n                if (!user) {\n                    console.log('user is falsy');\n                }\n                user.client.confirmForgotPassword({\n                    ClientId: user.pool.getClientId(),\n                    Username: user.username,\n                    ConfirmationCode: confirmation.code,\n                    Password: confirmation.password\n                }, function(err, data) {\n                    if (err) {\n                        console.log(arguments);\n                        alert(err);\n                        return;\n                    }\n                    alert('Success! Please login with your new password');\n                    sc.setMode(0);\n                });\n            })\n        }\n\n        function verifyEmail(code) {\n            AuthService.confirmRegistration(sc.registeredUser, code)\n                .then(function(success) {\n                    alert('Success!');\n                    sc.setMode(0);\n                }, function(error) {\n                    alert('Failure!');\n                });\n        }\n\n        //close modal when clicking the esc keyboard button\n        function onEscKeyUp($event) {\n            if ($event.keyCode == '27') {\n                formModal.removeClass('is-visible');\n            }\n        }\n\n        //hide or show password\n        function togglePasswordShow($event) {\n            var togglePass = angular.element($event.target),\n                passwordField = togglePass.prev('input');\n\n            ('password' == passwordField.attr('type')) ? passwordField.attr('type', 'text'): passwordField.attr('type', 'password');\n            ('Hide' == togglePass.text()) ? togglePass.text('Show'): togglePass.text('Hide');\n            //focus and move cursor to the end of input field\n            putCursorAtEnd(passwordField);\n        }\n\n        // switch between nothing, signin, register, and forgot modes \n        function setMode(val) {\n            switch (val) {\n                case -1:\n                    formModal.removeClass('is-visible');\n                    break;\n                case 0:\n                    mainNav.children('ul').removeClass('is-visible');\n                    formModal.addClass('is-visible');\n                    formLogin.addClass('is-selected');\n                    formSignup.removeClass('is-selected');\n                    formForgotPassword.removeClass('is-selected');\n                    tabLogin.addClass('selected');\n                    tabSignup.removeClass('selected');\n                    formModal.find('.cd-switcher').removeClass('hide');\n                    formVerify.removeClass('is-selected');\n                    formTermsCond.removeClass('is-selected');\n                    formConfirmReset.removeClass('is-selected');\n\n                    break;\n                case 1:\n                    mainNav.children('ul').removeClass('is-visible');\n                    formModal.addClass('is-visible');\n                    formLogin.removeClass('is-selected');\n                    formSignup.addClass('is-selected');\n                    formForgotPassword.removeClass('is-selected');\n                    tabLogin.removeClass('selected');\n                    tabSignup.addClass('selected');\n                    formTermsCond.removeClass('is-selected');\n                    formConfirmReset.removeClass('is-selected');\n                    break;\n                case 2:\n                    formLogin.removeClass('is-selected');\n                    formSignup.removeClass('is-selected');\n                    formForgotPassword.addClass('is-selected');\n                    formTermsCond.removeClass('is-selected');\n                    break;\n                case 3:\n                    formSignup.removeClass('is-selected');\n                    formTermsCond.addClass('is-selected');\n                    break;\n                case 4:\n                    formForgotPassword.removeClass('is-selected');\n                    formConfirmReset.addClass('is-selected');\n                    break;\n            }\n        }\n\n\n        //IE9 placeholder fallback\n        //credits http://www.hagenburger.net/BLOG/HTML5-Input-Placeholder-Fix-With-jQuery.html\n        if (!Modernizr.input.placeholder) {\n            $('[placeholder]').focus(function() {\n                var input = $(this);\n                if (input.val() == input.attr('placeholder')) {\n                    input.val('');\n                }\n            }).blur(function() {\n                var input = $(this);\n                if (input.val() == '' || input.val() == input.attr('placeholder')) {\n                    input.val(input.attr('placeholder'));\n                }\n            }).blur();\n            $('[placeholder]').parents('form').submit(function() {\n                $(this).find('[placeholder]').each(function() {\n                    var input = $(this);\n                    if (input.val() == input.attr('placeholder')) {\n                        input.val('');\n                    }\n                })\n            });\n        }\n    }\n\n    //credits http://css-tricks.com/snippets/jquery/move-cursor-to-end-of-textarea-or-input/\n    function putCursorAtEnd(target) {\n        return target.each(function() {\n            // If this function exists...\n            if (target.setSelectionRange) {\n                // ... then use it (Doesn't work in IE)\n                // Double the length because Opera is inconsistent about whether a carriage return is one character or two. Sigh.\n                var len = $(target).val().length * 2;\n                target.focus();\n                target.setSelectionRange(len, len);\n            } else {\n                // ... otherwise replace the contents with itself\n                // (Doesn't work in Google Chrome)\n                $(target).val($(target).val());\n            }\n        });\n    }\n\n\n\n})();\n","(function() {\n\n    angular\n        .module('skyApp.signup')\n        .controller('termsController', termsController)\n        .run(['$templateCache', setTemplate]);\n\n    termsController.$inject = ['$scope', '$uibModalInstance'];\n\n    function termsController($scope, $uibModalInstance) {\n        // $scope.close = function() {\n        //     $uibModalInstance.close();\n        // }\n    }\n\n    function setTemplate($templateCache) {\n        $templateCache.put('/templates/signup-terms.partial.html',\n            '<div id=\"termsCond\" class=\"modal-body\">' +\n            '<div id=\"terms\" class=\"cd-form\">' +\n            '<div id=\"terms-header\">' +\n            '<div class=\"pull-right cross\">' +\n            '<a href=\"\" ng-click=\"cancel()\"><i class=\"fa fa-times-circle-o\" aria-hidden=\"true\"></i></a>' +\n            '</div>' +\n            '<div id=\"start\" class=\"headText\">' +\n            '<h3>Skycision Terms &amp; Conditions</h3></div>' +\n            '</div>' +\n            '<div id=\"terms-body\">' +\n            '<p><strong>SKYCISION LICENSE, TRAINING AND SUPPORT.</strong></p>' +\n            '<p>' +\n            '<strong>General.</strong> Subject to the terms and conditions of this Agreement, Customer can download the Skycision mobile device application (the \"<u>Application</u>\") for the purpose of accessing Skycision content and services, including without limitation, the analysis of aerial imagery provided by Skycision (collectively, such content and services, together with the Application, are referred to herein as the “<u>Services</u>”). Skycision will also store the Customer Data (as defined herein) on the servers. Subject to certain rights granted to Skycision herein, all rights, title and interest in and to the Customer Data shall remain the property of Customer and shall be deemed the Confidential Information (as defined herein) of Customer. The Services are subject to modification from time to time at the sole discretion of Skycision for any purpose deemed appropriate by Skycision, including, without limitation, adding new functionality or increasing operating efficiency. \"<u>Customer Data</u>\" means any information, records, images and/or data that Customer provides to Skycision via the Services.' +\n            '</p>' +\n            '<p>' +\n            '<strong>License.</strong> Subject to the terms and conditions of this Agreement, commencing on the date specified in a term sheet or that the Customer accepts these terms and conditions (the \"Effective 1 Date\"), Skycision hereby grants to Customer a limited, non-exclusive, non-transferable license without the right to sublicense during the Term of this Agreement, to access the Services solely for Customer\\'s internal use.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Availability.</strong> Skycision reserves the right to suspend Customer\\'s access to the Services for maintenance, and in the event that the Customer is in breach of this Agreement.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Restrictions.</strong> Customer acknowledges that Customer has no right, title or interest in or to the Services other than the rights of use described in Section 1.2 above. Customer shall not, and shall not permit a third party to: (i) copy, download, provide screen prints, modify, transfer or assign the Services, or any copy, adaptation, transcription or merged portion thereof, (ii) reverse engineer, decompile, reverse-compile, translate, disassemble or reverse assemble the Services or the source code or object code for all or any portion of the Services, (iii) use the Services for any purpose other than its intended purpose, (iv) use the Services to process data for any third party (except as intended herein or otherwise permitted in the Documentation); (v) use or permit the use of the Services to operate a service bureau, (vi) sell, lease, assign, sublicense or otherwise transfer or disclose the Services in whole or in part, to any third party, including, without limitation, any parent, subsidiary or other affiliated entity of Customer; or (vii) allow access to the Services to any third party (whether directly or through the use of Customer\\'s password).' +\n            '</p>' +\n            '<p>' +\n            '<strong>Documentation.</strong> The Customer acknowledges and agrees that all documentation<sup>2</sup> provided by Skycision pertaining to the use of the Services (the \"Documentation\") shall be deemed to be the Confidential Information (as defined herein) of Skycision and shall not be disclosed to any third party. Skycision may update the Documentation at any time by providing notice to Customer.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Support.</strong> Skycision shall provide the Customer with support as provided in the Documentation' +\n            '</p>' +\n            '<p>' +\n            '<strong>CUSTOMER\\'S OBLIGATIONS.</strong>' +\n            '</p>' +\n            '<p>' +\n            '<strong>Customer-Supplied Equipment.</strong> Except for the Services, Customer shall be responsible for obtaining and maintaining all communications facilities, Internet connectivity, third-party equipment, hardware and software necessary to connect to and operate the Services (the \"CustomerSupplied Equipment\"). Customer\\'s access to the Services may be affected (without liability to Skycision) by the Internet being down, failure of Customer to provide all Customer-Supplied Equipment, failure of any Customer-Supplied Equipment to be operating properly, failure of the Customer to be connected to the Internet, or Customer\\'s breach of any of the terms and conditions of this Agreement. Customer shall be solely responsible for all charges incurred by Customer in the use of the Services (including without limitation all costs for use of the CustomerSupplied Equipment).' +\n            '</p>' +\n            '<p>' +\n            '<strong>Customer Data Compliance.</strong> Customer is responsible for ensuring that Customer, and its authorized users, complies with Customer\\'s obligations under this Agreement. Customer will observe all of its obligations under all relevant privacy and data protection laws or regulations and all local, state and federal regulations and laws, including without limitation all Federal Aviation Administration regulations, in its use of the Services, Customer Data, and Customer-Supplied Equipment (including operation of the drones).' +\n            '</p>' +\n            '<p>' +\n            '<strong>General.</strong> Customer shall cooperate with Skycision in connection with the performance of this Agreement, including, without limitation, in establishing a password or other procedures for verifying that only employees or consultants of Customer have access to the Services.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Indemnity for Customer Data.</strong> Customer will defend, indemnify and hold Skycision harmless against any third party claims, losses, or damages arising from or relating to: (a) Customer Data; or (b) violations of law or regulation by Customer relating to Customer Data or Customer\\'s use of the Customer-Supplied Equipment. Skycision will (i) provide Customer with notice of the claim within a reasonable period of time after learning of the claims; and (ii) reasonably cooperate in response to Customer\\'s requests for assistance. Customer may not settle or compromise any indemnified claim without Skycision\\'s prior written consent.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Third Party Legal Terms Incorporated by Reference.</strong>' +\n            '</p>' +\n            '<p>' +\n            '<strong>Apple.</strong> In addition to terms and conditions set forth elsewhere in this Agreement, Apple, Inc. (\"Apple\") also requires that this Agreement between Skycision and Customer include the following:' +\n            '</p>' +\n            '<p>' +\n            '<i>Acknowledgement.</i> Skycision and Customer each hereby acknowledge that this Agreement is concluded between Skycision and Customer, and not with Apple. Skycision, not Apple, is solely responsible for the Application licensed hereunder and the content thereof.' +\n            '</p>' +\n            '<p>' +\n            '<i>Maintenance and Support.</i> Skycision is solely responsible for providing maintenance and support services with respect to the Application as required under applicable law, if any. Skycision and Customer each hereby acknowledge that Apple has no obligation whatsoever to furnish any maintenance and support services with respect to the Application' +\n            '</p>' +\n            '<p>' +\n            '<i>Warranty.</i> Skycision shall be solely responsible for any product warranties not effectively disclaimed hereunder. Notwithstanding anything to the contrary herein, and without limiting the disclaimers and limitations set forth in Sections 7 and 8 below, in the event of any failure of the Application to conform to any such applicable warranty, Customer may notify Apple, and Apple will refund the purchase price for the Application to Customer. To the maximum extent permitted by applicable law, Apple will have no other warranty obligation whatsoever with respect to the Application, and any other claims, losses, liabilities, damages, costs or expenses attributable to any failure to conform to any warranty will be Skycision\\'s sole responsibility.' +\n            '</p>' +\n            '<p>' +\n            '<i>Product Claims.</i> To the extent Customer, or any third party, has any claims relating to the Application or Customer\\'s possession and/or use of the Application including, but not limited to: (i) product liability claims; (ii) any claim that the Application fails to conform to any applicable legal or regulatory requirement; and (iii) claims arising under consumer protection or similar legislation, Customer and Skycision each acknowledge that Skycision, not Apple, is responsible for addressing any such claims, subject to the terms and conditions set forth in this Agreement and subject to applicable law.' +\n            '</p>' +\n            '<p>' +\n            '<i>Intellectual Property Rights.</i> In the event of any third party claim that the Application or Customer\\'s possession and use of that licensed Application infringes that third party’s intellectual property rights, as between Skycision and Apple, it is Skycision, not Apple, who will be solely responsible for the investigation, defense, settlement and discharge of any such intellectual property infringement claim arising under this Agreement or applicable law.' +\n            '</p>' +\n            '<p>' +\n            '<i>Legal Compliance.</i> Customer hereby represents and warrants that (i) Customer is not located in a country that is subject to a U.S. Government embargo, or that has been designated by the U.S. Government as a “terrorist supporting” country; and (ii) Customer is not listed on any U.S. Government list of prohibited or restricted parties.' +\n            '</p>' +\n            '<p>' +\n            '<i>Developer Name and Address.</i> All end-user questions, complaints or claims with respect to the Application should be directed to Skycision, via e-mail at [brendan.carroll@skycision.com].' +\n            '</p>' +\n            '<p>' +\n            '<i>Third Party Terms of Agreement.</i> Customer must comply with applicable third party terms of agreement when using the Application.' +\n            '</p>' +\n            '<p>' +\n            '<i>Third Party Beneficiary.</i> Customer and Skycision each acknowledge and agree that Apple, and Apple’s subsidiaries, are third party beneficiaries of this Agreement, and, upon Customer\\'s acceptance of the terms and conditions of this Agreement, Apple will have the right (and will be deemed to have accepted the right) to enforce this Agreement against Customer as a third party beneficiary to this Agreement.' +\n            '</p>' +\n            '<p>' +\n            '<strong><u>Google Maps/Google Earth.</u></strong> The Services rely on the Google Maps/Earth service provided by Google, Inc. (\"<u>Google</u>\"). By using the Services, Customer agrees and acknowledges that use of Google Maps/Earth functionality integrated into the Services is subject to the Google Maps/Earth Terms of Service (' +\n            '<u><a href=\"https://developers.google.com/maps/terms#section_9_1\" target=\"_blank\">https://developers.google.com/maps/terms#section_9_1</a></u>) and Privacy Policy' +\n            '<a href=\"http://www.google.com/policies/privacy\" target=\"_blank\">http://www.google.com/policies/privacy</a>.' +\n            '</p>' +\n            '<p>' +\n            '<strong>PAYMENT.</strong>' +\n            '</p>' +\n            '<p>' +\n            '<strong>Fees.</strong> Payment of all undisputed fees and expenses pursuant to Skycision\\'s invoices (the \"<u>Fees</u>\") will be due and payable prior to the commencement of each Term. Customer will pay all undisputed amounts due under Skycision’s invoices in U.S. currency, free of any and all currency controls or other restrictions. If the Agreement is terminated by Customer as a result of Skycision\\'s breach, Customer shall receive a prorata refund of prepaid Fees for the unused, posttermination portion of the then-current Term. Skycision does not store or maintain Customer\\'s credit card information but instead contracts with a third party payment processor to collect and process Customer\\'s payment information.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Late Payments.</strong> If the Customer fails to pay an invoice in a timely manner, all such invoices will bear interest at the rate of one and one-half percent (1.5%) per month, or the maximum rate allowed by law, whichever is less. Skycision shall be entitled to recover its costs and expenses incurred in collecting any amounts due hereunder, including reasonable attorneys\\' fees. In addition to any other remedy available, Skycision may restrict or suspend Customer\\'s access to the Services if payment is not made when due.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Taxes.</strong> Fees under this Agreement are exclusive of all taxes, including national, state or provincial and local use, sales, property and similar taxes, if any. Customer agrees to pay such taxes (excluding taxes based on Skycision\\'s net income) unless Customer has provided Skycision with a valid exemption certificate.' +\n            '</p>' +\n            '<p><strong>CONFIDENTIALITY.</strong></p>' +\n            '<p>' +\n            'Protection of Confidential Information. Each party agrees not to transfer or otherwise disclose the Confidential Information of the other party to any third party except as allowed by this Agreement. Each party shall (i) give access to such Confidential Information solely to those employees and consultants with a need to have access thereto for purposes of this Agreement, and (ii) take the same security precautions to protect against disclosure or unauthorized use of such Confidential Information that the party takes with its own confidential information, but, in no event, shall a party apply less than a reasonable standard of care to prevent such disclosure or unauthorized use. Nothing in this Agreement shall prevent either party from disclosing the Confidential Information of the other party pursuant to any judicial or governmental order or as required by law, provided that the party (to the extent allowed by law) gives the other party reasonable prior notice of such disclosure to contest such order. \"<u>Confidential Information</u>\" shall mean confidential or other proprietary information that is disclosed by one party to the other party under this Agreement, including, without limitation, designs, software designs and code, product specifications and documentation, business and product plans, and other confidential business information. Confidential Information shall not include information which: (i) is or becomes public knowledge without any action by, or involvement of, the party receiving the Confidential Information hereunder; (ii) is independently developed by the receiving party without use of the other party\\'s Confidential Information; (iii) is already known to the receiving party at the time of disclosure under this Agreement; or (iv) is disclosed to the receiving party by a third party who is entitled to disclose it without restriction.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Disclosure of the Existence of this Agreement.</strong> The parties each have the right to disclose the existence of this Agreement, but not the terms and conditions of this Agreement, unless such disclosure is approved in writing by both parties prior to such disclosure, or is included in a filing required to be made with a governmental authority' +\n            '</p>' +\n            '<p>' +\n            '<strong>Use of Certain Information.</strong> Customer consents to Skycision engaging in data mining/benchmarking activities in connection with Customer\\'s use of the Services and Skycision\\'s use and commercialization of aggregated and de-identified Customer Data that it discloses to Skycision in connection with this Agreement, subject to the provisions of Section 4.1 of this Agreement and the satisfaction of each of the following conditions: (i) no Customer specific or Customer-identifiable information shall be disclosed, and (ii) the identity of the Customer shall be protected and shall not be disclosed.' +\n            '</p>' +\n            '<p>' +\n            '<strong>INTELLECTUAL PROPERTY.</strong>' +\n            '</p>' +\n            '<p>' +\n            '<strong>Intellectual Property Rights.</strong> Except as expressly set forth herein, Skycision shall retain all right, title and interest in, and shall be the sole owner of, the Services, Documentation, and Skycision\\'s Confidential Information, including, without limitation, any Intellectual Property Rights (as defined below) therein. Customer shall not copy, distribute, reproduce or use such materials except as expressly permitted under this Agreement. \"<u>Intellectual' +\n            'Property Rights</u>\" shall mean all forms of intellectual property rights and protections, including without limitation, all right, title and interest arising under United States common and statutory law and the laws of other countries to all: (i) patents and all filed, pending or potential applications for patents, including any reissue, reexamination, division, continuation or continuation-in-part applications throughout the world now or hereafter filed; (ii) trade secret rights and equivalent rights; (iii) copyrights, other literary property or authors rights, whether or not protected by copyright or as a mask work; and (iv) proprietary indicia, trademarks, trade names, symbols, logos and/or brand names.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Infringement Claims.</strong> Subject to the remainder of this Section 5.2, in connection with the licenses granted hereunder in Section 1.2, Skycision, at its sole expense, agrees to defend Customer against any third party claim that Customer\\'s use of the Services, as delivered by Skycision to Customer and used in accordance with this Agreement and the Documentation, directly infringes a third party copyright or issued patent or directly misappropriated a trade secret (but only to the extent such misappropriation is not a result of Customer\\'s actions under the laws of the United States) (an \"<u>Infringement' +\n            'Claim</u>\") and indemnify Customer from the resulting costs and damages finally awarded against Customer to such third party by a court of competent jurisdiction or agreed to in settlement; provided that (i) Customer promptly notifies Skycision in writing of the Infringement Claim; (ii) Skycision has sole control of the defense and all related settlement negotiations; and (iii) Customer provides Skycision with the information, assistance and authority to enable Skycision to perform Skycision\\'s obligations under this Section 5.2. Customer may not settle or compromise any Infringement Claim without the prior written consent of Skycision. In any action based on an Infringement Claim, Skycision, at its option and its own expense, will either: (1) procure the right for Customer to continue using the Services in accordance with this Agreement; (2) make such alterations, modifications or adjustments to the Services so that the alleged infringing Services become non-infringing without incurring a material diminution in performance or function; (3) replace the Services with a non-infringing substantially similar substitute; or (4) terminate the Services license, and upon Customer certified destruction or deletion of the Services, Skycision shall refund to Customer the unused remainder of any Fees prepaid by Customer and received by Skycision. Skycision shall have no liability or obligations for an Infringement Claim pursuant to this Section 5.2 to the extent that it results from: (a) modifications to the Services made by a party other than Skycision or under the direct control of Skycision; (b) the combination, operation or use of the Services with non-Skycision products; (c) use of the Services outside of the scope of this Agreement or in contravention of the Documentation; (d) Skycision\\'s use of any designs, plans, instructions, specifications, diagrams or the like, provided by Customer, if any; (e) Customer\\'s failure to use all upgrades and updates to the Services provided by Skycision, if the claim would not have occurred but for such failure; (f) use of open source technology or freeware technology or any derivatives or other adaptions thereof not embedded by Skycision into the Services; or (g) any Services that are provided on a no charge, beta or evaluation basis. Nothing in this provision shall be construed as a limitation on Customer\\'s ability to retain legal counsel at its own expense to passively monitor the proceedings. This Section 5.2 sets forth Customer\\'s sole and exclusive remedies and Skycision\\'s entire liability with respect to Infringement Claims.' +\n            '</p>' +\n            '<p>' +\n            '<strong>TERM AND TERMINATION.</strong>' +\n            '</p>' +\n            '<p>' +\n            '<strong>Term. </strong>' +\n            '</p>' +\n            '<p>' +\n            '<strong>Quarterly Term.</strong> If Customer has elected the quarterly version of the Services, the Agreement shall commence as of the Effective Date and continue for the period of thirty (90) days thereafter (the \"Quarterly Initial Term\"). Thereafter, this Agreement shall automatically renew for successive periods of thirty (90) days each (each a \"Renewal Term\"), unless either party gives the other party written notice of its intention to terminate not less than twenty (20) days prior to expiration of the Monthly Initial Term or then current Renewal Term, as applicable.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Annual Term.</strong> If Customer has elected the annual version of the Services, the Agreement shall commence as of the Effective Date, or the date upon which Customer upgrades to an annual term from a monthly term, and continue for the period of one (1) year thereafter (the \"<u>Initial Term</u>\"). Thereafter, this Agreement shall automatically renew for successive Renewal Terms, unless either party gives the other party written notice of its intention to terminate not less than twenty (20) days prior to expiration of the Initial Term or then current Renewal Term, as applicable.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Term.</strong> The “<u>Term</u>” of this Agreement shall be collectively (as applicable), the Quarterly Initial Term, the Initial Term and each Renewal Term (if any).' +\n            '</p>' +\n            '<p>' +\n            '<strong>Termination for Cause.</strong> In the event of any material breach of this Agreement, the nonbreaching party may terminate this Agreement by providing thirty (30) days prior written notice to the breaching party; provided, however, that this Agreement shall not terminate if the breaching party has cured the breach prior to the expiration of such thirty (30) day period.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Termination for Insolvency.</strong> Either party may terminate this Agreement, without notice, (i) upon the institution by or against the other party of insolvency, receivership or bankruptcy proceedings, (ii) upon the other party\\'s making an assignment for the benefit of creditors, or (iii) upon the other party\\'s dissolution or ceasing to do business.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Termination for Convenience.</strong> Skycision may terminate this Agreement upon ninety (90) days prior written notice to the Customer.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Effect of Termination.</strong> Upon the expiration or termination of this Agreement, all license rights of Customer under this Agreement shall automatically and immediately cease. Section 6.5 and Articles 3 (for the Fees incurred prior to termination of the Agreement), 4, 5, 7, 8 and 9 shall survive expiration or termination of this Agreement for any reason.' +\n            '</p>' +\n            '<p>' +\n            '<strong>LIMITED WARRANTY.</strong> Skycision warrants that, for a period of ninety (90) days after delivery, availability, or execution of the Agreement, the Services will function in accordance with the Documentation in all material respects. As Customer\\'s sole and exclusive remedy and Skycision\\'s entire liability for any breach of the foregoing warranty, Skycision will repair, replace, or refund the Services, at no additional charge to Customer. The limited warranty set forth herein shall automatically become null and void if a party other than Skycision modifies the Services in any way' +\n            '</p>' +\n            '<p>EXCEPT AS EXPRESSLY SET FORTH IN THIS SECTION, SKYCISION HEREBY (A) PROVIDES THE SERVICES, THE DOCUMENTATION AND SKYCISION CONFIDENTIAL INFORMATION \"AS-IS\" \"AS AVAILABLE\", AND \"WITH ALL FAULTS\" WITHOUT ANY WARRANTIES OF ANY KIND, AND (B) DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, WITHOUT LIMITATION , ALL IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT TO THE MAXIMUM EXTENT PERMITTED BY LAW. NOTHING HEREIN SHALL BE CONSTRUED AS A WARRANTY OF COMPATIBILITY WITH ANY PARTICULAR MOBILE/ COMPUTING DEVICE, OPERATING SYSTEM, OR OTHER SOFTWARE RESIDENT ON CUSTOMER\\'S DEVICE.</p>' +\n            '<p>CUSTOMER ACKNOWLEDGES THAT ITS USE OF THE SERVICES IS AT ITS SOLE RISK. SKYCISION DOES NOT REPRESENT OR WARRANT THAT THE SERVICES WILL BE ERROR-FREE OR UNINTERRUPTED; THAT DEFECTS WILL BE CORRECTED; OR THAT THE SERVICES OR THE SERVER(S) THAT MAKES THE SERVICES AVAILABLE ARE FREE FROM ANY HARMFUL COMPONENTS, INCLUDING, WITHOUT LIMITATION, VIRUSES. SKYCISION DOESNOT MAKE ANY REPRESENTATIONS OR WARRANTIES THAT THE INFORMATION (INCLUDING ANY INSTRUCTIONS AND/OR ANALYSIS) PROVIDED IN THE DOCUMENTATION AND/OR IN CONNECTION WITH THE SERVICES IS TRUE, VALID, ACCURATE, COMPLETE, OR USEFUL. SKYCISION DOES NOT WARRANT THAT CUSTOMER\\'S USE OF THE SERVICES IS LAWFUL IN ANY PARTICULAR JURISDICTION, AND SKYCISION SPECIFICALLY DISCLAIMS SUCH WARRANTIES.' +\n            '</p>' +\n            '<P>' +\n            '<STRONG>LIMITATION OF LIABILITY.</STRONG> IN NO EVENT SHALL SKYCISION BE LIABLE FOR ANY INDIRECT, PUNITIVE ,INCIDENTAL,SPECIAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR IN ANY WAY CONNECTED WITH THE USE OF THE SERVICES, DOCUMENTATION, OR CUSTOMER DATA, THE DELAY OR INABILITY TO USE THE SERVICES OR OTHERWISE ARISING FROM THIS AGREEMENT, INCLUDING WITHOUT LIMITATION, LOSS OF REVENUE OR ANTICIPATED PROFITS OR LOST BUSINESS OR LOST SALES, WHETHER BASED IN CONTRACT, TORT (INCLUDING NEGLIGENCE), STRICT LIABILITY, OR OTHERWISE, EVEN IF SKYCISION HAS BEEN ADVISED OF THE POSSIBILITY OF DAMAGES. THE TOTAL LIABILITY OF SKYCISION, WHETHER BASED IN CONTRACT, TORT (INCLUDING NEGLIGENCE OR STRICT LIABILITY), OR OTHERWISE, SHALL NOT EXCEED, IN THE AGGREGATE, THE FEES PAID TO SKYCISION HEREUNDER IN THE TWELVE MONTH PERIOD ENDING ON THE DATE THAT A CLAIM OR DEMAND IS FIRST ASSERTED. THE FOREGOING LIMITATIONS SHALL APPLY NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY.' +\n            '</P>' +\n            '<P>' +\n            '<strong>GENERAL PROVISIONS.</strong>' +\n            '</P>' +\n            '<p>' +\n            '<strong>Relationship of the Parties.</strong> The relationship established between the parties by this Agreement is that of independent contractors, and nothing contained herein shall be construed to: (i) give either party the power to direct and/or control the day-to-day activities of the other, (ii) constitute the parties as partners, joint venturers, co-owners or otherwise as participants in a joint or common undertaking, or (iii) allow a party to create or assume any obligation on behalf of the other party for any purpose whatsoever, except as contemplated by this Agreement.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Complete Understanding; Modification.</strong> This Agreement constitutes the complete and exclusive agreement of the parties and supersedes all prior understandings and agreements, whether written or oral, with respect to the subject matter hereof. No modification of or amendment to this Agreement, nor any waiver of any rights under this Agreement shall be effective unless in a writing signed by both parties hereto.' +\n            '</p>' +\n            '<p></p>' +\n            '<p>' +\n            '<strong>Severability.</strong> If any provision of this Agreement is held to be invalid or unenforceable under the circumstances, such provision\\'s application in any other circumstances and the remaining provisions of this Agreement shall not be affected thereby.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Nonassignability and Binding Effect.</strong> Customer shall not assign this Agreement to any third party without the prior written consent of Skycision. For purposes of this Agreement, an assignment shall include the merger or consolidation of Customer with or into another entity or the acquisition of fifty percent (50%) or more of the outstanding voting equity of Customer by a third party after the Effective Date. Skycision reserves the right to assign any portion of this Agreement with written notice to Customer. Subject to the foregoing, this Agreement shall be binding upon and inure to the benefit of the parties hereto and their permitted successors and assigns.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Export Laws.</strong> The Services are subject to United States export control laws and regulations and may be subject to export or import regulations in other countries. These and regulations include licensing requirements and restrictions on destinations, end users, and end use. Customer shall comply with all United States and international export and import laws and regulations that apply to the Services and acknowledges that Customer has the responsibility to obtain any and all necessary licenses to export, re-export, or import the Services and covenants that it shall not, directly or indirectly, sell, export, reexport, transfer, divert, or otherwise dispose of any Services, source code, or technology received from Skycision under this Agreement to any other party or destination prohibited by the laws or regulations of the United States, without prior written consent from Skycision and governmental authorization as required by those laws and regulations.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Force Majeure.</strong> Skycision shall not be liable for any loss resulting from a cause over which it does not have direct control, including, but not limited to, failure of electronic or mechanical equipment or communication lines, telephone or other interconnect problems, computer viruses, unauthorized access, theft, operator errors, severe weather, earthquakes, or natural disasters, strikes or other labor problems, wars, or governmental restrictions.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Waiver.</strong> No failure or delay on the part of any party in exercising any right hereunder, irrespective of the length of time for which such failure or delay shall continue, will operate as a waiver of, or impair, any such right. No single or partial exercise of any right hereunder shall preclude any other or further exercise thereof or the exercise of any other right. No waiver of any right hereunder will be effective unless given in a signed writing.' +\n            '</p>' +\n            '<p>' +\n            '<strong>Commercial Software Notice.</strong> If the Services are being licensed by or on behalf of the U.S. Government or by a U.S. Government prime contractor or subcontractor (any tier), then their rights in the Services and Documentation are only as set forth in this Agreement; this is in accordance with 48 CFR 227.7201 through 227.7202-4 (for Department of Defense (DOD) acquisitions) and with 48 CFR 2.101 and 12.212 (for non-DOD acquisitions).' +\n            '</p>' +\n            '<p>' +\n            '<strong>Choice of Law, Forum and Arbitration.</strong> This Agreement shall be governed by and construed in accordance with the laws of the Commonwealth of Pennsylvania, without giving effect to its principles of conflicts of laws. Any dispute arising out of or in connection with this Agreement shall be finally decided by arbitration in Pittsburgh, Pennsylvania according to the Rules of Procedure for arbitration of the American Arbitration Association.' +\n            '</p>' +\n            '<p>Notwithstanding anything to the contrary set forth above, this Section 9.9 shall not apply to disputes relating to: (1) Customer\\'s or Skycision\\'s intellectual property (such as trademarks, trade dress, domain names, trade secrets, copyrights and patents); (2) violations of third party terms and conditions; or (3) any dispute in which Skycision is seeking injunctive or equitable relief to prevent further breaches of this Agreement by Customer.</p>' +\n            '<p>' +\n            '<strong>Entire Agreement.</strong> This Agreement constitutes the entire and exclusive agreement and understanding between the parties relating to the Services and supersedes any and all oral or written representations, understandings or agreements relating thereto.' +\n            '</p>' +\n            '</div>' +\n            '<div class=\"modal-footer cd-form-bottom-message\">' +\n            '<a href=\"\" ng-click=\"cancel()\"><strong>Close</strong></a>' +\n            '</div>' +\n            '</div>'\n        )\n    }\n})();\n","(function() {\n\n\tangular\n\t\t.module('skyApp.signup')\n\t\t.directive('termsCond', [terms]);\n\n\tfunction terms() {\n\t\treturn {\n\t\t\trestrict : 'E',\n\t\t\ttemplateUrl : 'app/signup/terms.conditions.html'\n\t\t}\n\t}\n})();\n","(function() {\n\n    angular.module('skyApp.tour', []);\n\n})();",null,"(function() {\n    angular\n        .module('skyApp.tour')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates])\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home.tour', {\n                name: 'home.tour',\n                url: '/tour',\n                data: {\n                    sliderOpen: false\n                }\n            })\n    }\n\n})();","(function(){\n\nangular.module('skyApp.upload',['debounce']);\n\n})();","(function(){\n\nangular\n    .module('skyApp.upload')\n    .factory('SkyUploaderService', [])\n    .component('skyUploader',{\n        controller: UploadController,\n        templateUrl: 'templates/upload/upload-inset.view.html',\n        bindings: {\n            uploaderId: '@',\n            moveTarget: '@',\n            move: '&'\n        }\n    });\n\n\nUploadController.$inject = ['$scope','UploadService','$interval','$timeout','$element'];\nfunction UploadController($scope, UploadService, $interval, $timeout, ele) {\n    var ctrl = this;\n\n    $scope.$on('$destroy', function() {\n         UploadService.move(ctrl.moveTarget)\n    });\n    $scope.status = {\n    \t    isCustomHeaderOpen: false,\n    \t    isFirstOpen: true,\n    \t    isFirstDisabled: false\n    };\n    \n    ctrl.move = function() {\n        console.log(ctrl.moveTarget,ele)\n    }\n\n    ctrl.$postLink = $timeout(function() {\n        \n        console.log(ctrl.uploaderId)\n        if (!!!ctrl.uploaderId) {\n            return\n        }\n        UploadService.setup(ele, `#${ctrl.uploaderId}`);\n        // Dropzone.prototype.uploadFiles = UploadService.upload; \n\n\n        // $timeout(function(){\n        //     console.log('timer');\n        //     \n\n        // },10000);\n                // previewsContainer: `#${ctrl.uploaderId}`,\n    },500)\n}\n\n})();\n","(function() {\n\nangular\n    .module('skyApp.upload')\n    .run(['UploadService','$state','$timeout',function(UploadService,$state,$timeout){\n        $timeout(() => {\n            UploadService.activate();\n        },500);\n    }])\n    .factory('UploadService', [\n        '$state',\n        'AWSService',\n        '$interval',\n        '$timeout',\n        '$q',\n        'debounce',\n        '$templateCache',\n        UploadService\n    ]);\n\nfunction UploadService($state, AWSService, $interval, $timeout, $q, debounce, $templateCache) {\n    var US = this;\n    var s3 = AWSService.s3();\n    var service = {\n        getUploadHandler: getUploadHandler,\n        setup: setup,\n        move: move, \n        activate: activate\n    };\n\n    return service;\n    \n    function getUploadHandler() {\n        return function(files) {\n            console.log(files);\n            return files.map(file => {\n                var p = $q.defer();\n\n                var managed = new AWS.S3.ManagedUpload({\n                    ComputeChecksums: true,\n                    params: {\n                        Body: file,\n                        Bucket: 'skycisiondropbucket',\n                        Key: file.name,\n                        ContentType: file.type\n                    }\n                });\n                managed.on('httpUploadProgress', (progress) => {\n                    US.dz.emit(\"uploadprogress\", file, 100 * progress.loaded / progress.total, progress.loaded)\n                });\n                managed.send((err, data) => {\n                    US.dz._finished(files, '', err);\n                    debounce(US.dz.processQueue(), 200);\n                });\n            });\n        }\n    }\n\n    function activate() {\n\n        var PREVIEW_TEMPLATE = $templateCache.get('upload.preview.html');\n        var REMOVE_FILE = $templateCache.get('upload.removefile.svg');\n\n        Dropzone.autoDiscover = false;\n        Dropzone.options.body = false;\n\n        var dropzoneHolder = new Dropzone('#body', {\n            url: '/',\n            // clickable: false,\n            autoProcessQueue: false,\n            parallelUploads: 4,\n            processing: function(file) {\n                if (file.previewElement) {\n                    file.previewElement.classList.add(\"dz-processing\");\n                    if (file._removeLink) {\n                        return file._removeLink.innerHTML = this.options.dictCancelUpload;\n                    }\n                }\n            },\n            dictCancelUpload: \"<img src='/static/img/cancel-upload.png' alt='Cancel Upload' title='Cancel Upload' width='25' height='25'>\",\n            dictRemoveFile: REMOVE_FILE,\n            previewTemplate: PREVIEW_TEMPLATE\n        });\n\n        dropzoneHolder._uploadFiles = dropzoneHolder.uploadFiles;\n        dropzoneHolder.uploadFiles = service.getUploadHandler(dropzoneHolder);\n        US.dz = dropzoneHolder;\n    }\n\n    function setup(ele, querySelector) {\n        US.ele = ele;\n        US.dz.previewsContainer = Dropzone.getElement(querySelector);\n        US.dz.clickableElements =  Dropzone.getElements(\"input.dz-browse\", \"clickable\");\n        var browseBtnElm = ele.find(\"#browseBtn\");\n        var deleteAllBtnElm = ele.find(\"#deleteAllBtn\");\n        var uploadBtnElm = ele.find(\"#uploadBtn\");\n        console.log(uploadBtnElm);\n        \n        US.dz.on(\"addedfile\", function() {\n            handleActionBtnsDisplay();\n        });\n        US.dz.on(\"removedfile\", function() {\n            handleActionBtnsDisplay();\n        });\n    \n        uploadBtnElm.on('click', (e) => {\n            e.stopPropagation();\n            US.dz.processQueue();\n        });\n    \n        deleteAllBtnElm.on('click', (e) => {\n            e.stopPropagation(); \n            US.dz.removeAllFiles();\n        });\n        // handleActionBtnsDisplay();\n\t\tfunction handleActionBtnsDisplay() {\n            var filesLen = US.dz.files.length\n            browseBtnElm.addClass(\"showActive\");\n            if (filesLen === 0) {\n                uploadBtnElm.removeClass(\"showActive\");\n                deleteAllBtnElm.removeClass(\"showActive\");\n            } else if (filesLen == 1) {\n                uploadBtnElm.addClass(\"showActive\");\n                browseBtnElm.addClass(\"showActive\");\n                deleteAllBtnElm.removeClass(\"showActive\");\n            } else if (filesLen > 1) {\n                uploadBtnElm.addClass(\"showActive\");\n                deleteAllBtnElm.addClass(\"showActive\");\n            }\n        }\n    }\n\n    function move(target) {\n        var uploaderTarget = $state.$current.data.uploaderTarget;\n        if(US.dz.files.length === 0 || !!!uploaderTarget) {\n            return\n        }\n        var s = `uploader-target[target-id=\"${uploaderTarget}\"]`;\n        if (US.ele.find('.dz-preview').length) {\n        \tservice.setup(US.ele.appendTo(s),s);\n        }\n    }\n    \n}\n\n\n})();\n","(function() {\n    angular\n        .module('skyApp.upload')\n        .config(['$stateProvider', '$urlRouterProvider', configureStates]);\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state('home.upload', {\n                url: '/upload',\n                views: {\n                    // 'main': {\n                    //     template:'<sky-uploader uploader-id=\"{{uploadHolderId}}\" move-target=\"nav-uploader\"></sky-uploader>',\n                    //     controller: skyuploadCtrl\n                    // },\n                    'content': {\n                        template: '<sky-uploader uploader-id=\"uploadHolderIdasdfasdf\" move-target=\"nav-uploader\"></sky-uploader>',\n                    }\n                },\n                data: {\n                    sliderOpen: true,\n                    contentWidth: 50\n                }\n            })\n    }\n\n    function skyuploadCtrl() {\n        // $scope.uploadHolderId = 'dropzone2' + Math.ceil(Math.random()*10);\n    }\n\n    // skyuploadCtrl.$inject = ['$scope'];\n})();","(function() {\n\nangular.module('skyApp.users', [\n    'skyApp.utils',\n    'ui.router',\n    'ngCookies'\n]);\n\n})();\n","(function() {\n\n    angular\n        .module('skyApp.users')\n        .factory('AuthService', [\n            '$q',\n            '$state',\n            '$cookies',\n            '$rootScope',\n            'AWSService',\n            'UserService',\n            AuthService\n        ]);\n\n    function AuthService($q, $state, $cookies, $rootScope, AWSService, UserService) {\n        var SERVICE = {};\n\n        SERVICE.startAuthenticating = startAuthenticating;\n        SERVICE.isAuthenticated = isAuthenticated;\n        SERVICE.authenticateUser = authenticateUser;\n        SERVICE.registerUser = registerUser;\n        SERVICE.confirmRegistration = confirmRegistration;\n        SERVICE.resetPassword = resetPassword;\n        SERVICE.signOut = signOut;\n\n        return SERVICE;\n\n        function startAuthenticating() {\n            angular.extend($rootScope, {\n                user: null\n            });\n            // collect entropy for SRP Protocol RNG                \n            sjcl.random.startCollectors();\n\n            $rootScope.$on('$stateChangeStart', function(event, next, params) {\n                console.log(next);\n                var desiredPage = next.name;\n\n                // redirect to login page if not logged in and trying to access a restricted page\n                var restrictedPage = ['login', 'signup'].indexOf(desiredPage) === -1;\n\n                SERVICE.isAuthenticated()\n                    .then(yes => {\n\n                        if (next.redirectTo) {\n                            event.preventDefault();\n                            $state.go(next.redirectTo, params, {\n                                location: 'replace'\n                            })\n                        }\n\n                        if (restrictedPage) {\n                            angular.noop();\n                        } else {\n                            event.preventDefault();\n                            $state.go(desiredPage === 'login' ? 'home' : desiredPage, params, {\n                                location: 'replace'\n                            });\n                        }\n                    })\n                    .catch(no => {\n                        // UserService.setUser(null);\n                        if ('login' !== desiredPage) {\n                            event.preventDefault();\n                            $state.go('login', params, {\n                                notify: false\n                            });\n                        }\n                    });\n            });\n        }\n\n\n\n        function isAuthenticated() {\n            var u = $rootScope.user;\n            if (!!u) {\n                return $q.when(true);\n            } else {\n                return AWSService.getUserPool()\n                    .then(userPool => userPool.obj.getCurrentUser())\n                    .then(u => UserService.setUser(u))\n                    .then(success => {\n                        $rootScope.user = success;\n                        return true;\n                    })\n                    // .catch( () => false );\n            }\n        }\n\n        function signOut() {\n            $rootScope.user = null;\n\n            // AWSService.signOut();\n            // service._user = null;\n            $state.go('login');\n        }\n\n        function registerUser(username, password, otherParams) {\n            return $q((resolve, reject) => {\n                AWSService.getUserPool()\n                    .then(userPool => userPool.registerUser(username, password, otherParams))\n                    .then(success => {\n                        resolve(success.user)\n                    })\n                    .catch(failure => {\n                        console.log(failure);\n                        reject(failure);\n                    });\n            });\n        }\n\n        function confirmRegistration(user, code) {\n            var theUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser({\n                Username: user.username,\n                Pool: user.pool\n            })\n\n            return $q((resolve, reject) => {\n                theUser.confirmRegistration(code, true, (err, result) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(result);\n                });\n            });\n        }\n\n        function authenticateUser(username, password) {\n            return $q((resolve, reject) => {\n                AWSService.getUserPool()\n                    .then(userPool => userPool.authenticateUser(username, password))\n                    .then(user => {\n                        UserService.setUser(user);\n                        $rootScope.user = user;\n                        resolve(true);\n                        $state.go('home', {});\n                    })\n                    .catch((err) => reject(err));\n            });\n        }\n\n        function resetPassword(email) {\n\n            return AWSService.getUserPool().then(pool => {\n                console.log(pool);\n                var theUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser({\n                    Username: email,\n                    Pool: pool.obj\n                })\n\n                return $q((resolve, reject) => {\n                    theUser.client.forgotPassword({\n                        ClientId: pool.obj.getClientId(),\n                        Username: email\n                    }, function(err, data) {\n                        if (err) {\n                            console.log(err);\n                            reject(null);\n                        } else {\n                            console.log(data);\n                            resolve(theUser);\n                        }\n                    });\n                });\n            });\n        }\n    }\n\n})();\n","'use strict';\n(function(n, z, A) {\n    n.module(\"skyApp.users\").constant(\"AWS\", z).constant(\"AWSCognito\", A).provider(\"AWSService\", [\"AWS\", \"AWSCognito\",\n        function(e, h) {\n            var b = this;\n            e.config.region = \"us-east-1\";\n            b.c = null;\n            b.a = null;\n            b.b = {};\n            b.setArn = function(d) {\n                d && (b.c = d)\n            };\n            b.setIdentityPool = function(d) {\n                d && (b.a = d)\n            };\n            b.setRegion = function(d) {\n                d && (b.region = d, e.config.region = d, h.config.region = d)\n            };\n            b.setLogger = function(d) {\n                d && (e.config.logger = d)\n            };\n            b.setAMAOptions = function(d) {\n                d && (b.i = d)\n            };\n            b.setUserPoolOptions = function(d) {\n                d && (b.b.f =\n                    d.UserPoolId, b.b.g = d.ClientId)\n            };\n            b.$get = [\"$q\", \"$cacheFactory\", \"$log\",\n                function(d, g) {\n                    function p(a) {\n                        var f = {\n                                get: \"get\",\n                                put: \"put\",\n                                update: \"update\",\n                                bget: \"batchGet\",\n                                bwrite: \"batchWrite\",\n                                query: \"query\"\n                            },\n                            c = d.defer();\n                        k.then(function() {\n                            var l = q.get(JSON.stringify(a));\n                            l || (l = new e.DynamoDB.DocumentClient(a), q.put(JSON.stringify(a), l));\n                            var b = {};\n                            b.ops = b.db = l;\n                            b[\"do\"] = function(a, c) {\n                                var b;\n                                (b = f[a]) || d.reject(\"Operation not supported: \" + a);\n                                return b ? this.db[b](c).promise() : null\n                            };\n                            c.resolve(b)\n                        });\n                        return c.promise\n                    }\n                    var r = g(\"s3Cache\"),\n                        t = g(\"cog\"),\n                        u = g(\"sns\"),\n                        v = g(\"sqs\"),\n                        w = g(\"syn\");\n                    g(\"api\");\n                    var x = g(\"ama\"),\n                        y = g(\"lmb\"),\n                        q = g(\"dynamo\");\n                    g(\"userPool\");\n                    var m = d.defer(),\n                        k = m.promise;\n                    g = {\n                        signOut: function() {\n                            var a = d.defer();\n                            void 0 !== e.config.credentials && null !== e.config.credentials ? e.config.credentials.clearCachedId() : a.resolve();\n                            return a.promise\n                        },\n                        credentials: function() {\n                            return k\n                        },\n                        setToken: function(a, f) {\n                            var c = d.defer();\n                            a = {\n                                IdentityPoolId: b.a,\n                                RoleArn: b.c,\n                                Logins: {\n                                    \"accounts.google.com\": a\n                                }\n                            };\n                            f && (a.m = f);\n                            b.config = a;\n                            e.config.credentials = new e.CognitoIdentityCredentials(a);\n                            e.config.credentials.get(function() {\n                                m.resolve(e.config.credentials);\n                                c.resolve(!0)\n                            });\n                            return c.promise\n                        },\n                        setCognitoToken: function(a) {\n                            var f = d.defer(),\n                                c = {};\n                            c[\"cognito-idp.us-east-1.amazonaws.com/\" + b.b.f] = a;\n                            a = {};\n                            a.IdentityPoolId = e.config.credentials.params.IdentityPoolId;\n                            a.IdentityId = e.config.credentials.params.identityId;\n                            a.RoleArn = b.c;\n                            a.Logins = c;\n                            b.config = a;\n                            h.config.credentials = new e.CognitoIdentityCredentials(a);\n                            h.config.credentials.clearCachedId();\n                            h.config.credentials.get(function(a) {\n                                a ? (console.log(a),\n                                    f.reject(a)) : (m.resolve(e.config.credentials), e.config.credentials = h.config.credentials, f.resolve(!0))\n                            });\n                            return f.promise\n                        },\n                        lambda: function(a) {\n                            var b = d.defer();\n                            k.then(function() {\n                                var c = y.get(JSON.stringify(a));\n                                c || (c = new e.Lambda(a), y.put(JSON.stringify(a), c));\n                                b.resolve(c)\n                            });\n                            return b.promise\n                        },\n                        ama: function(a) {\n                            var f = d.defer();\n                            k.then(function() {\n                                var c = x.get(JSON.stringify(a));\n                                c || (c = new AMA.Manager(b.i), x.put(JSON.stringify(a), c));\n                                f.resolve(c)\n                            });\n                            return f.promise\n                        },\n                        s3: function(a) {\n                            var b = d.defer();\n                            k.then(function() {\n                                var c =\n                                    r.get(JSON.stringify(a));\n                                c || (c = new e.S3(a), r.put(JSON.stringify(a), c));\n                                b.resolve({\n                                    v: c,\n                                    putObject: function(a) {\n                                        return c.putObject(a).promise()\n                                    },\n                                    getObject: function(a) {\n                                        return c.getObject(a).promise()\n                                    },\n                                    getSignedUrl: function(a, b) {\n                                        return c.getSignedUrl(a, b)\n                                    }\n                                })\n                            });\n                            return b.promise\n                        }\n                    };\n                    g.dynamo = p;\n                    p[\"do\"] = function() {};\n                    g.syn = function(a) {\n                        var f = d.defer();\n                        k.then(function(c) {\n                            var d = w.get(JSON.stringify(a));\n                            d || (d = new e.CognitoSync({\n                                IdentityId: c.identityId,\n                                IdentityPoolId: b.a\n                            }), d.config.logger = console, w.put(JSON.stringify(a),\n                                d));\n                            f.resolve(d.u)\n                        });\n                        return f.promise\n                    };\n                    g.cog = function(a) {\n                        return this.w().then(function() {\n                            var b = d.defer();\n                            k.then(function() {\n                                var c = t.get(JSON.stringify(a));\n                                c || (c = new e.CognitoSyncManager(a), t.put(JSON.stringify(a), c));\n                                b.resolve({\n                                    o: c,\n                                    j: function(a) {\n                                        var b = d.defer();\n                                        c.j(a, function(a, c) {\n                                            a ? b.reject(a) : console.log(c);\n                                            b.resolve(c)\n                                        });\n                                        return b.promise\n                                    },\n                                    l: function() {\n                                        return d.when(c.l())\n                                    }\n                                })\n                            });\n                            return b.promise\n                        })\n                    };\n                    g.getUserPool = function() {\n                        var a;\n                        if (!a) {\n                            e.config.region = b.region;\n                            e.config.credentials = new e.CognitoIdentityCredentials({\n                                IdentityPoolId: b.a\n                            });\n                            h.config.credentials || (h.config.region = b.region, h.config.credentials = new e.CognitoIdentityCredentials({\n                                IdentityPoolId: b.a\n                            }));\n                            var f = {};\n                            f.UserPoolId = b.b.f;\n                            f.ClientId = b.b.g;\n                            a = new h.CognitoIdentityServiceProvider.CognitoUserPool(f);\n                            h.config.update({\n                                accessKeyId: \"doesnt\",\n                                secretAccessKey: \"matter\"\n                            })\n                        }\n                        f = {};\n                        f.obj = a;\n                        f.registerUser = function(c, b, f) {\n                            var e = d.defer(),\n                                g = [];\n                            n.forEach(f, function(a, b) {\n                                var c = {};\n                                c.Name = b;\n                                c.Value = a;\n                                g.push(new h.CognitoIdentityServiceProvider.CognitoUserAttribute(c))\n                            });\n                            a.signUp(c, b, g, null,\n                                function(a, c) {\n                                    a ? (e.reject(a), console.log(a)) : (console.log(c), e.resolve(c))\n                                });\n                            return e.promise\n                        };\n                        f.authenticateUser = function(a, b) {\n                            var f = {};\n                            f.Username = a;\n                            f.Password = b;\n                            var e = new h.CognitoIdentityServiceProvider.AuthenticationDetails(f),\n                                g = new h.CognitoIdentityServiceProvider.CognitoUser({\n                                    Username: a,\n                                    Pool: this.obj\n                                });\n                            return d(function(a, b) {\n                                g.authenticateUser(e, {\n                                    onSuccess: function() {\n                                        a(g)\n                                    },\n                                    onFailure: function(a) {\n                                        return b(a)\n                                    }\n                                })\n                            })\n                        };\n                        f.resetPassword = function() {\n                            return d.defer().reject(\"TODO: Implement password reset handler\")\n                        };\n                        return d.when(f)\n                    };\n                    g.sns = function(a) {\n                        var b = d.defer();\n                        k.then(function() {\n                            var c = u.get(JSON.stringify(a));\n                            c || (c = new e.SNS(a), u.put(JSON.stringify(a), c));\n                            b.resolve(c)\n                        });\n                        return b.promise\n                    };\n                    g.sqs = function(a) {\n                        var b = d.defer();\n                        k.then(function() {\n                            var c = v.get(JSON.stringify(a)),\n                                g = d.defer();\n                            c ? g.resolve(c) : (new e.SQS).s(a, function(b, d) {\n                                d ? (c = d.h, v.put(JSON.stringify(a), c), g.resolve(c)) : g.reject(b)\n                            });\n                            g.promise.then(function(a) {\n                                a = new e.SQS({\n                                    params: {\n                                        h: a\n                                    }\n                                });\n                                b.resolve(a)\n                            })\n                        });\n                        return b.promise\n                    };\n                    return g\n                }\n            ]\n        }\n    ])\n})(window.angular,\n    window.AWS, window.AWSCognito);\n//# sourceMappingURL=awsservice.min.js.map\n","(function(){\n    angular.module('skyApp.users')\n        .controller('CreateFarmController', [\n            '$scope',\n            '$uibModalInstance',\n            'UserService',\n            CreateFarmController]);\n\n    function CreateFarmController($scope, $uibModalInstance, UserService) {\n        $scope.create = function(farm) {\n            console.log(farm);\n            UserService.createFarm(farm);\n            $uibModalInstance.close();\n        }\n        $scope.cancel = function() {\n            $uibModalInstance.dismiss('cancel');\n        }\n    }\n})();\n","(function() {\n    angular\n        .module('skyApp.users')\n        .factory('UserService', [\n            '$q',\n            '$http',\n            '$state',\n            '$cacheFactory',\n            'AWSService',\n            UserService\n        ]);\n\n    function UserService($q, $http, $state, $cacheFactory, AWSService) {\n\n        var userDefer = $q.defer();\n        var userPromise = userDefer.promise;\n\n        var orgsDefer = $q.defer();\n        var orgsPromise = orgsDefer.promise;\n\n        var orgsCache = $cacheFactory('orgs');\n\n        var service = {\n            _user: null,\n            UsersTable: 'users-skycision',\n            OpsTable: 'ops-skycision',\n            OrgsTable: 'orgs-skycision',\n            BlocksTable: 'BlocksTable',\n            BLOCKS_TABLE: 'blocks-skycision',\n            INDEX_TABLE: 'id-singleton',\n            Bucket: \"skycisionfarmbucket\",\n            DatasetName: \"profile\",\n            ProfileEntries: [\"firstName\", \"lastName\", \"email\", \"homeCoord\", \"farmId\", \"clients\"],\n            signOut: signOut,\n            setUser: setUser,\n            getUser: getUser,\n            getOrg: getOrg,\n            getRoute: getRoute,\n            generateFields: generateFields,\n            commitData: commitData,\n            commitWithKey: commitWithKey,\n            createOperation: createOperation,\n            configRequestParams: configRequestParams,\n            updateOrgId: updateOrgId\n        };\n\n        return service;\n\n        function signOut() {\n            service._user.signOut()\n            service._user = null;\n        }\n\n        function setUser(user) {\n            return $q((resolve, reject) => {\n                if (!!user) {\n                    user.getSession((err, session) => {\n                        if (session.isValid()) {\n                            AWSService.setCognitoToken(session.getIdToken().getJwtToken());\n                            AWSService.ama();\n                            console.log(\"Successfully Authenticated.\");\n                            service._user = user;\n                            user.getUserAttributes((err, attributes) => {\n                                if (err) {\n                                    console.log(err);\n                                    reject(err);\n                                }\n                                // parse  [{Name: $name , Value: $value}]\n                                // into   {$names:$values}\n                                var parsedAttrs = unpackObject(attributes);\n                                parsedAttrs.identityId = AWS.config.credentials.params.IdentityId;\n                                userDefer.resolve(parsedAttrs);\n                            });\n                            resolve(user)\n                        } else {\n                            reject('Not authenticated');\n                            userDefer.reject('Not authenticated.');\n                        }\n\n                    });\n                } else {\n                    reject('No user.');\n                }\n            });\n        }\n\n        function getUser() {\n            return userPromise;\n        }\n\n        function updateOrgId(neworgid) {\n            service.getUser()\n                .then(user => {\n                    AWSService.dynamo().then(dynamo => {\n                        // Find the User by email\n                        dynamo.do('get', {\n                            TableName: service.UsersTable,\n                            Key: {\n                                'user-email': user.email\n                            }\n                        })\n                            .then(data => $q((resolve, reject) => {\n\n                                dynamo.do('put', {\n                                    TableName: service.UsersTable,\n                                    Item: {\n                                        'user-email': user.email,\n                                        'address': user.address,\n                                        'user-id': user.identityId,\n                                        'orgs': [neworgid]\n                                    }\n                                })\n\n                                .then(data => {\n                                    //resolve(data.Item);\n                                    console.log(\"data.Item: \", data.Item);\n                                }, err => {\n                                    //logMessage('dynamoDB error')(new Error(err));\n                                    //reject(err);\n                                    console.log(\"-reject-\");\n                                });\n                            }));\n\n                    });\n                });\n        }\n\n        function getOrg() {\n            service.getUser()\n                .then(user => {\n\n                    var org = orgsCache.get(JSON.stringify(user));\n                    if (!!org) {\n                        return orgsDefer.resolve(org);\n                    }\n\n                    AWSService.dynamo().then(dynamo => {\n                        // Find the User by email\n                        dynamo.do('get', {\n                            TableName: service.UsersTable,\n                            Key: {\n                                'user-email': user.email\n                            }\n                        })\n                            .then(data => $q((resolve, reject) => {\n                                if (Object.keys(data).length === 0) {\n                                    // User didn't previously exist\n                                    // so create an entry\n                                    dynamo.do('put', {\n                                        TableName: service.UsersTable,\n                                        Item: {\n                                            'user-email': user.email,\n                                            'address': user.address,\n                                            'user-id': user.identityId\n                                        }\n                                    })\n                                        .then(data => {\n                                            resolve(data.Item);\n                                        }, err => {\n                                            logMessage('dynamoDB error')(new Error(err));\n                                            reject(err);\n                                        });\n                                } else {\n                                    resolve(data.Item);\n                                }\n                            }))\n\n                        .then(userInfo => {\n                            // Find the User's Orgs\n                            var orgs = userInfo.orgs.values;\n                            var requestItems = {};\n                            requestItems[service.OrgsTable] = {\n                            Keys: orgs.map(org => ({\n                                'org-id': org\n                            }))\n                            };\n\n                            dynamo.do('bget', {\n                                RequestItems: requestItems,\n                                ReturnConsumedCapacity: 'TOTAL'\n                            })\n                                .then(orgsData => {\n\n                                    var out = orgsData.Responses[service.OrgsTable].map(org => {\n                                        var a = {};\n                                        angular.forEach(org, (val, key) => {\n                                            //console.log(typeof val);\n                                            a[camelCase(key)] = !!val.values && typeof val.values === \"function\" ? Array.from(val.values()) : val;\n                                        });\n                                        return a;\n                                    });\n                                    orgsCache.put(JSON.stringify(user), out[0]);\n                                    orgsDefer.resolve(out[0]);\n                                })\n                                .catch(err => orgsDefer.reject(err));\n                        });\n                    });\n                });\n            return orgsPromise;\n        }\n\n\n        function getRoute(farm) {\n            function shuffleArray(array) {\n                for (var i = array.length - 1; i > 0; i--) {\n                    var j = Math.floor(Math.random() * (i + 1));\n                    var temp = array[i];\n                    array[i] = array[j];\n                    array[j] = temp;\n                }\n                return array;\n            }\n\n            var coords = farm.fields[0].baseMesh;\n            var converted = converted.map(f => ({\n                x: c.lng,\n                y: c.lat\n            }));\n\n            var shuffled = shuffleArray(converted);\n            AWSService.lambda().then(function(lambda) {\n                var d = $q.defer();\n                lambda.invoke({\n                    Payload: {\n                        farmId: farm.farmId\n                    },\n                    FunctionName: 'arn:aws:lambda:us-east-1:717391330650:function:ec2post:BETA',\n                    InvocationType: 'RequestResponse'\n                }, function(err, response) {\n                    if (err)\n                        d.reject(err);\n                    else\n                        d.resolve(response);\n                });\n                return d.promise;\n            })\n                .then(function(response) {\n                    console.log(response);\n                }, function(fail) {\n                    console.log(fail);\n                });\n        }\n\n        function generateFields(farm) {\n            var d = $q.defer();\n            //////\n            //////\n            console.log(farm);\n            // AWSService.lambda().then(function(lambda){\n            //  lambda.invoke({\n            //      Payload:JSON.stringify(farm),\n            //      FunctionName:\n            //             'arn:aws:lambda:us-east-1:717391330650:function:ec2post:' + LAMBDA_POST_VER,\n            //      InvocationType:'RequestResponse'\n            //  },function(err,response) {\n            //      if(err) {\n            //          d.reject(err);\n            //      } else {\n            //          console.log(angular.toJson(angular.fromJson(response)));\n            //          d.resolve(angular.fromJson(response.Payload));\n            //      }\n            //  });\n            // });\n            console.log(farm);\n            $http.post(\n                '/addField',\n                angular.toJson(farm),\n                'POST'\n            ).then(function(success) {\n                // console.log(angular.toJson(angular.fromJson(success)));\n                var data = angular.fromJson(success).data;\n\n                d.resolve(data);\n            });\n            return d.promise;\n        }\n\n        function commitData(farm) {\n            service.commitWithKey(farm, farm.farmId + '/farm.json');\n        }\n\n        function commitWithKey(farm, key) {\n            console.log(farm);\n            AWSService.s3().then(function(s3) {\n                s3.putObject({\n                    Key: key,\n                    Bucket: service.Bucket,\n                    Body: angular.toJson(farm),\n                    ACL: 'bucket-owner-full-control',\n                    CacheControl: 'no-store'\n                })\n                    .then(console.log, console.log);\n            });\n        }\n\n        function createOperation() {\n\n\n        }\n\n        function configRequestParams(params, table, isArray) {\n            return (isArray) ? configBatchWriteParams(...arguments) : configPutParams(...arguments);\n        }\n\n        function configBatchWriteParams(item, tableName) {\n            var params = {};\n            params[tableName] = {\n                PutRequest: {\n                    Item: item\n                }\n            };\n            return params;\n        }\n\n        function configPutParams(item, tableName) {\n            var params = {};\n            params = {\n                TableName: tableName,\n                Item: item,\n            };\n            return params;\n        }\n\n        // Convenience function for rejecting top level promise in .catch() method of a long promise chains\n        function defaultReject(terminalPromise, rejectVal) {\n            return function() {\n                terminalPromise.reject(rejectVal);\n            };\n        }\n\n        function unpackObject(obj) {\n            return obj.reduce(\n                function(previousValue, currentValue, currentIndex, array) {\n                    previousValue[camelCase(currentValue.Name)] = currentValue.Value;\n                    return previousValue;\n                }, {}) || {};\n        }\n\n\n        // Recursively traverse arbitrary JSON to do cleanup\n        //   - Replaces falsey values with dashes\n        //   - Trims Number types to 6 or fewer decimal places\n        function traverse(o) {\n            switch (typeof(o)) {\n                case 'number':\n                    return Number(o.toFixed(6));\n                    break;\n                case 'object':\n                    if (!o) {\n                        return '-'\n                    }\n                    for (var i in o) {\n                        o[i] = traverse(o[i]);\n                    }\n                    break;\n            }\n            return o;\n        }\n\n        function camelCase(name) {\n            var SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\n            var MOZ_HACK_REGEXP = /^moz([A-Z])/;\n            return name.\n            replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n                return offset ? letter.toUpperCase() : letter;\n            }).\n            replace(MOZ_HACK_REGEXP, 'Moz$1');\n        }\n\n\n\n    }\n})();","(function() {\n    var utilsModule = angular.module('skyApp.utils', []);\n\n    utilsModule.directive('sideNavSlide', sideNavSlideDirective);\n\n    function sideNavSlideDirective() {\n        var controller = function($scope) {\n            $scope.toggleSlideNavBar = function() {\n                $scope.openNav = !$scope.openNav;\n            }\n        };\n\n        return {\n            restrict: \"E\",\n            controller: ['$scope', controller],\n            link: function($scope, element, attrs) {\n                $scope.openNav = attrs.defaultNavStatus || true;\n            },\n            transclude: true,\n            templateUrl: \"templates/sideNavSlide.html\"\n        }\n    }\n\n})();","/*\n * angucomplete-alt\n * Autocomplete directive for AngularJS\n * This is a fork of Daryl Rowland's angucomplete with some extra features.\n * By Hidenari Nozaki\n */\n\n/*! Copyright (c) 2014 Hidenari Nozaki and contributors | Licensed under the MIT license */\n\n(function (root, factory) {\n  /* jshint ignore: start */\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) {\n    // CommonJS\n    module.exports = factory(require('angular'));\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['angular'], factory);\n  } else {\n    // Global Variables\n    factory(root.angular);\n  }\n  /* jshint ignore: end */\n}(window, function (angular) {\n  'use strict';\n\n  angular.module('angucomplete-alt', []).directive('angucompleteAlt', ['$q', '$parse', '$http', '$sce', '$timeout', '$templateCache', '$interpolate', function ($q, $parse, $http, $sce, $timeout, $templateCache, $interpolate) {\n    // keyboard events\n    var KEY_DW  = 40;\n    var KEY_RT  = 39;\n    var KEY_UP  = 38;\n    var KEY_LF  = 37;\n    var KEY_ES  = 27;\n    var KEY_EN  = 13;\n    var KEY_TAB =  9;\n\n    var MIN_LENGTH = 3;\n    var MAX_LENGTH = 524288;  // the default max length per the html maxlength attribute\n    var PAUSE = 500;\n    var BLUR_TIMEOUT = 200;\n\n    // string constants\n    var REQUIRED_CLASS = 'autocomplete-required';\n    var TEXT_SEARCHING = 'Searching...';\n    var TEXT_NORESULTS = 'No results found';\n    var TEMPLATE_URL = '/angucomplete-alt/index.html';\n\n    // Set the default template for this directive\n    $templateCache.put(TEMPLATE_URL,\n        '<div class=\"angucomplete-holder\" ng-class=\"{\\'angucomplete-dropdown-visible\\': showDropdown}\">' +\n        '  <input id=\"{{id}}_value\" name=\"{{inputName}}\" tabindex=\"{{fieldTabindex}}\" ng-class=\"{\\'angucomplete-input-not-empty\\': notEmpty}\" ng-model=\"searchStr\" ng-disabled=\"disableInput\" type=\"{{inputType}}\" placeholder=\"{{placeholder}}\" maxlength=\"{{maxlength}}\" ng-focus=\"onFocusHandler()\" class=\"{{inputClass}}\" ng-focus=\"resetHideResults()\" ng-blur=\"hideResults($event)\" autocapitalize=\"off\" autocorrect=\"off\" autocomplete=\"off\" ng-change=\"inputChangeHandler(searchStr)\"/>' +\n        '  <div id=\"{{id}}_dropdown\" class=\"angucomplete-dropdown\" ng-show=\"showDropdown\">' +\n        '    <div class=\"angucomplete-searching\" ng-show=\"searching\" ng-bind=\"textSearching\"></div>' +\n        '    <div class=\"angucomplete-searching\" ng-show=\"!searching && (!results || results.length == 0)\" ng-bind=\"textNoResults\"></div>' +\n        '    <div class=\"angucomplete-row\" ng-repeat=\"result in results\" ng-click=\"selectResult(result)\" ng-mouseenter=\"hoverRow($index)\" ng-class=\"{\\'angucomplete-selected-row\\': $index == currentIndex}\">' +\n        '      <div ng-if=\"imageField\" class=\"angucomplete-image-holder\">' +\n        '        <img ng-if=\"result.image && result.image != \\'\\'\" ng-src=\"{{result.image}}\" class=\"angucomplete-image\"/>' +\n        '        <div ng-if=\"!result.image && result.image != \\'\\'\" class=\"angucomplete-image-default\"></div>' +\n        '      </div>' +\n        '      <div class=\"angucomplete-title\" ng-if=\"matchClass\" ng-bind-html=\"result.title\"></div>' +\n        '      <div class=\"angucomplete-title\" ng-if=\"!matchClass\">{{ result.title }}</div>' +\n        '      <div ng-if=\"matchClass && result.description && result.description != \\'\\'\" class=\"angucomplete-description\" ng-bind-html=\"result.description\"></div>' +\n        '      <div ng-if=\"!matchClass && result.description && result.description != \\'\\'\" class=\"angucomplete-description\">{{result.description}}</div>' +\n        '    </div>' +\n        '  </div>' +\n        '</div>'\n    );\n\n    function link(scope, elem, attrs, ctrl) {\n      var inputField = elem.find('input');\n      var minlength = MIN_LENGTH;\n      var searchTimer = null;\n      var hideTimer;\n      var requiredClassName = REQUIRED_CLASS;\n      var responseFormatter;\n      var validState = null;\n      var httpCanceller = null;\n      var dd = elem[0].querySelector('.angucomplete-dropdown');\n      var isScrollOn = false;\n      var mousedownOn = null;\n      var unbindInitialValue;\n      var displaySearching;\n      var displayNoResults;\n\n      elem.on('mousedown', function(event) {\n        if (event.target.id) {\n          mousedownOn = event.target.id;\n          if (mousedownOn === scope.id + '_dropdown') {\n            document.body.addEventListener('click', clickoutHandlerForDropdown);\n          }\n        }\n        else {\n          mousedownOn = event.target.className;\n        }\n      });\n\n      scope.currentIndex = scope.focusFirst ? 0 : null;\n      scope.searching = false;\n      unbindInitialValue = scope.$watch('initialValue', function(newval) {\n        if (newval) {\n          // remove scope listener\n          unbindInitialValue();\n          // change input\n          handleInputChange(newval, true);\n        }\n      });\n\n      scope.$watch('fieldRequired', function(newval, oldval) {\n        if (newval !== oldval) {\n          if (!newval) {\n            ctrl[scope.inputName].$setValidity(requiredClassName, true);\n          }\n          else if (!validState || scope.currentIndex === -1) {\n            handleRequired(false);\n          }\n          else {\n            handleRequired(true);\n          }\n        }\n      });\n\n      scope.$on('angucomplete-alt:clearInput', function (event, elementId) {\n        if (!elementId || elementId === scope.id) {\n          scope.searchStr = null;\n          callOrAssign();\n          handleRequired(false);\n          clearResults();\n        }\n      });\n\n      scope.$on('angucomplete-alt:changeInput', function (event, elementId, newval) {\n        if (!!elementId && elementId === scope.id) {\n          handleInputChange(newval);\n        }\n      });\n\n      function handleInputChange(newval, initial) {\n        if (newval) {\n          if (typeof newval === 'object') {\n            scope.searchStr = extractTitle(newval);\n            callOrAssign({originalObject: newval});\n          } else if (typeof newval === 'string' && newval.length > 0) {\n            scope.searchStr = newval;\n          } else {\n            if (console && console.error) {\n              console.error('Tried to set ' + (!!initial ? 'initial' : '') + ' value of angucomplete to', newval, 'which is an invalid value');\n            }\n          }\n\n          handleRequired(true);\n        }\n      }\n\n      // #194 dropdown list not consistent in collapsing (bug).\n      function clickoutHandlerForDropdown(event) {\n        mousedownOn = null;\n        scope.hideResults(event);\n        document.body.removeEventListener('click', clickoutHandlerForDropdown);\n      }\n\n      // for IE8 quirkiness about event.which\n      function ie8EventNormalizer(event) {\n        return event.which ? event.which : event.keyCode;\n      }\n\n      function callOrAssign(value) {\n        if (typeof scope.selectedObject === 'function') {\n          scope.selectedObject(value, scope.selectedObjectData);\n        }\n        else {\n          scope.selectedObject = value;\n        }\n\n        if (value) {\n          handleRequired(true);\n        }\n        else {\n          handleRequired(false);\n        }\n      }\n\n      function callFunctionOrIdentity(fn) {\n        return function(data) {\n          return scope[fn] ? scope[fn](data) : data;\n        };\n      }\n\n      function setInputString(str) {\n        callOrAssign({originalObject: str});\n\n        if (scope.clearSelected) {\n          scope.searchStr = null;\n        }\n        clearResults();\n      }\n\n      function extractTitle(data) {\n        // split title fields and run extractValue for each and join with ' '\n        return scope.titleField.split(',')\n          .map(function(field) {\n            return extractValue(data, field);\n          })\n          .join(' ');\n      }\n\n      function extractValue(obj, key) {\n        var keys, result;\n        if (key) {\n          keys= key.split('.');\n          result = obj;\n          for (var i = 0; i < keys.length; i++) {\n            result = result[keys[i]];\n          }\n        }\n        else {\n          result = obj;\n        }\n        return result;\n      }\n\n      function findMatchString(target, str) {\n        var result, matches, re;\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n        // Escape user input to be treated as a literal string within a regular expression\n        re = new RegExp(str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'i');\n        if (!target) { return; }\n        if (!target.match || !target.replace) { target = target.toString(); }\n        matches = target.match(re);\n        if (matches) {\n          result = target.replace(re,\n              '<span class=\"'+ scope.matchClass +'\">'+ matches[0] +'</span>');\n        }\n        else {\n          result = target;\n        }\n        return $sce.trustAsHtml(result);\n      }\n\n      function handleRequired(valid) {\n        scope.notEmpty = valid;\n        validState = scope.searchStr;\n        if (scope.fieldRequired && ctrl && scope.inputName) {\n          ctrl[scope.inputName].$setValidity(requiredClassName, valid);\n        }\n      }\n\n      function keyupHandler(event) {\n        var which = ie8EventNormalizer(event);\n        if (which === KEY_LF || which === KEY_RT) {\n          // do nothing\n          return;\n        }\n\n        if (which === KEY_UP || which === KEY_EN) {\n          event.preventDefault();\n        }\n        else if (which === KEY_DW) {\n          event.preventDefault();\n          if (!scope.showDropdown && scope.searchStr && scope.searchStr.length >= minlength) {\n            initResults();\n            scope.searching = true;\n            searchTimerComplete(scope.searchStr);\n          }\n        }\n        else if (which === KEY_ES) {\n          clearResults();\n          scope.$apply(function() {\n            inputField.val(scope.searchStr);\n          });\n        }\n        else {\n          if (minlength === 0 && !scope.searchStr) {\n            return;\n          }\n\n          if (!scope.searchStr || scope.searchStr === '') {\n            scope.showDropdown = false;\n          } else if (scope.searchStr.length >= minlength) {\n            initResults();\n\n            if (searchTimer) {\n              $timeout.cancel(searchTimer);\n            }\n\n            scope.searching = true;\n\n            searchTimer = $timeout(function() {\n              searchTimerComplete(scope.searchStr);\n            }, scope.pause);\n          }\n\n          if (validState && validState !== scope.searchStr && !scope.clearSelected) {\n            scope.$apply(function() {\n              callOrAssign();\n            });\n          }\n        }\n      }\n\n      function handleOverrideSuggestions(event) {\n        if (scope.overrideSuggestions &&\n            !(scope.selectedObject && scope.selectedObject.originalObject === scope.searchStr)) {\n          if (event) {\n            event.preventDefault();\n          }\n\n          // cancel search timer\n          $timeout.cancel(searchTimer);\n          // cancel http request\n          cancelHttpRequest();\n\n          setInputString(scope.searchStr);\n        }\n      }\n\n      function dropdownRowOffsetHeight(row) {\n        var css = getComputedStyle(row);\n        return row.offsetHeight +\n          parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\n      }\n\n      function dropdownHeight() {\n        return dd.getBoundingClientRect().top +\n          parseInt(getComputedStyle(dd).maxHeight, 10);\n      }\n\n      function dropdownRow() {\n        return elem[0].querySelectorAll('.angucomplete-row')[scope.currentIndex];\n      }\n\n      function dropdownRowTop() {\n        return dropdownRow().getBoundingClientRect().top -\n          (dd.getBoundingClientRect().top +\n           parseInt(getComputedStyle(dd).paddingTop, 10));\n      }\n\n      function dropdownScrollTopTo(offset) {\n        dd.scrollTop = dd.scrollTop + offset;\n      }\n\n      function updateInputField(){\n        var current = scope.results[scope.currentIndex];\n        if (scope.matchClass) {\n          inputField.val(extractTitle(current.originalObject));\n        }\n        else {\n          inputField.val(current.title);\n        }\n      }\n\n      function keydownHandler(event) {\n        var which = ie8EventNormalizer(event);\n        var row = null;\n        var rowTop = null;\n\n        if (which === KEY_EN && scope.results) {\n          if (scope.currentIndex >= 0 && scope.currentIndex < scope.results.length) {\n            event.preventDefault();\n            scope.selectResult(scope.results[scope.currentIndex]);\n          } else {\n            handleOverrideSuggestions(event);\n            clearResults();\n          }\n          scope.$apply();\n        } else if (which === KEY_DW && scope.results) {\n          event.preventDefault();\n          if ((scope.currentIndex + 1) < scope.results.length && scope.showDropdown) {\n            scope.$apply(function() {\n              scope.currentIndex ++;\n              updateInputField();\n            });\n\n            if (isScrollOn) {\n              row = dropdownRow();\n              if (dropdownHeight() < row.getBoundingClientRect().bottom) {\n                dropdownScrollTopTo(dropdownRowOffsetHeight(row));\n              }\n            }\n          }\n        } else if (which === KEY_UP && scope.results) {\n          event.preventDefault();\n          if (scope.currentIndex >= 1) {\n            scope.$apply(function() {\n              scope.currentIndex --;\n              updateInputField();\n            });\n\n            if (isScrollOn) {\n              rowTop = dropdownRowTop();\n              if (rowTop < 0) {\n                dropdownScrollTopTo(rowTop - 1);\n              }\n            }\n          }\n          else if (scope.currentIndex === 0) {\n            scope.$apply(function() {\n              scope.currentIndex = -1;\n              inputField.val(scope.searchStr);\n            });\n          }\n        } else if (which === KEY_TAB) {\n          if (scope.results && scope.results.length > 0 && scope.showDropdown) {\n            if (scope.currentIndex === -1 && scope.overrideSuggestions) {\n              // intentionally not sending event so that it does not\n              // prevent default tab behavior\n              handleOverrideSuggestions();\n            }\n            else {\n              if (scope.currentIndex === -1) {\n                scope.currentIndex = 0;\n              }\n              scope.selectResult(scope.results[scope.currentIndex]);\n              scope.$digest();\n            }\n          }\n          else {\n            // no results\n            // intentionally not sending event so that it does not\n            // prevent default tab behavior\n            if (scope.searchStr && scope.searchStr.length > 0) {\n              handleOverrideSuggestions();\n            }\n          }\n        } else if (which === KEY_ES) {\n          // This is very specific to IE10/11 #272\n          // without this, IE clears the input text\n          event.preventDefault();\n        }\n      }\n\n      function httpSuccessCallbackGen(str) {\n        return function(responseData, status, headers, config) {\n          // normalize return obejct from promise\n          if (!status && !headers && !config && responseData.data) {\n            responseData = responseData.data;\n          }\n          scope.searching = false;\n          processResults(\n            extractValue(responseFormatter(responseData), scope.remoteUrlDataField),\n            str);\n        };\n      }\n\n      function httpErrorCallback(errorRes, status, headers, config) {\n        scope.searching = false;\n\n        // cancelled/aborted\n        if (status === 0 || status === -1) { return; }\n\n        // normalize return obejct from promise\n        if (!status && !headers && !config) {\n          status = errorRes.status;\n        }\n        if (scope.remoteUrlErrorCallback) {\n          scope.remoteUrlErrorCallback(errorRes, status, headers, config);\n        }\n        else {\n          if (console && console.error) {\n            console.error('http error');\n          }\n        }\n      }\n\n      function cancelHttpRequest() {\n        if (httpCanceller) {\n          httpCanceller.resolve();\n        }\n      }\n\n      function getRemoteResults(str) {\n        var params = {},\n            url = scope.remoteUrl + encodeURIComponent(str);\n        if (scope.remoteUrlRequestFormatter) {\n          params = {params: scope.remoteUrlRequestFormatter(str)};\n          url = scope.remoteUrl;\n        }\n        if (!!scope.remoteUrlRequestWithCredentials) {\n          params.withCredentials = true;\n        }\n        cancelHttpRequest();\n        httpCanceller = $q.defer();\n        params.timeout = httpCanceller.promise;\n        $http.get(url, params)\n          .success(httpSuccessCallbackGen(str))\n          .error(httpErrorCallback);\n      }\n\n      function getRemoteResultsWithCustomHandler(str) {\n        cancelHttpRequest();\n\n        httpCanceller = $q.defer();\n\n        scope.remoteApiHandler(str, httpCanceller.promise)\n          .then(httpSuccessCallbackGen(str))\n          .catch(httpErrorCallback);\n\n        /* IE8 compatible\n        scope.remoteApiHandler(str, httpCanceller.promise)\n          ['then'](httpSuccessCallbackGen(str))\n          ['catch'](httpErrorCallback);\n        */\n      }\n\n      function clearResults() {\n        scope.showDropdown = false;\n        scope.results = [];\n        if (dd) {\n          dd.scrollTop = 0;\n        }\n      }\n\n      function initResults() {\n        scope.showDropdown = displaySearching;\n        scope.currentIndex = scope.focusFirst ? 0 : -1;\n        scope.results = [];\n      }\n\n      function getLocalResults(str) {\n        var i, match, s, value,\n            searchFields = scope.searchFields.split(','),\n            matches = [];\n        if (typeof scope.parseInput() !== 'undefined') {\n          str = scope.parseInput()(str);\n        }\n        for (i = 0; i < scope.localData.length; i++) {\n          match = false;\n\n          for (s = 0; s < searchFields.length; s++) {\n            value = extractValue(scope.localData[i], searchFields[s]) || '';\n            match = match || (value.toString().toLowerCase().indexOf(str.toString().toLowerCase()) >= 0);\n          }\n\n          if (match) {\n            matches[matches.length] = scope.localData[i];\n          }\n        }\n        return matches;\n      }\n\n      function checkExactMatch(result, obj, str){\n        if (!str) { return false; }\n        for(var key in obj){\n          if(obj[key].toLowerCase() === str.toLowerCase()){\n            scope.selectResult(result);\n            return true;\n          }\n        }\n        return false;\n      }\n\n      function searchTimerComplete(str) {\n        // Begin the search\n        if (!str || str.length < minlength) {\n          return;\n        }\n        if (scope.localData) {\n          scope.$apply(function() {\n            var matches;\n            if (typeof scope.localSearch() !== 'undefined') {\n              matches = scope.localSearch()(str, scope.localData);\n            } else {\n              matches = getLocalResults(str);\n            }\n            scope.searching = false;\n            processResults(matches, str);\n          });\n        }\n        else if (scope.remoteApiHandler) {\n          getRemoteResultsWithCustomHandler(str);\n        } else {\n          getRemoteResults(str);\n        }\n      }\n\n      function processResults(responseData, str) {\n        var i, description, image, text, formattedText, formattedDesc;\n\n        if (responseData && responseData.length > 0) {\n          scope.results = [];\n\n          for (i = 0; i < responseData.length; i++) {\n            if (scope.titleField && scope.titleField !== '') {\n              text = formattedText = extractTitle(responseData[i]);\n            }\n\n            description = '';\n            if (scope.descriptionField) {\n              description = formattedDesc = extractValue(responseData[i], scope.descriptionField);\n            }\n\n            image = '';\n            if (scope.imageField) {\n              image = extractValue(responseData[i], scope.imageField);\n            }\n\n            if (scope.matchClass) {\n              formattedText = findMatchString(text, str);\n              formattedDesc = findMatchString(description, str);\n            }\n\n            scope.results[scope.results.length] = {\n              title: formattedText,\n              description: formattedDesc,\n              image: image,\n              originalObject: responseData[i]\n            };\n          }\n\n        } else {\n          scope.results = [];\n        }\n\n        if (scope.autoMatch && scope.results.length === 1 &&\n            checkExactMatch(scope.results[0],\n              {title: text, desc: description || ''}, scope.searchStr)) {\n          scope.showDropdown = false;\n        } else if (scope.results.length === 0 && !displayNoResults) {\n          scope.showDropdown = false;\n        } else {\n          scope.showDropdown = true;\n        }\n      }\n\n      function showAll() {\n        if (scope.localData) {\n          processResults(scope.localData, '');\n        }\n        else if (scope.remoteApiHandler) {\n          getRemoteResultsWithCustomHandler('');\n        }\n        else {\n          getRemoteResults('');\n        }\n      }\n\n      scope.onFocusHandler = function() {\n        if (scope.focusIn) {\n          scope.focusIn();\n        }\n        if (minlength === 0 && (!scope.searchStr || scope.searchStr.length === 0)) {\n          scope.currentIndex = scope.focusFirst ? 0 : scope.currentIndex;\n          scope.showDropdown = true;\n          showAll();\n        }\n      };\n\n      scope.hideResults = function() {\n        if (mousedownOn &&\n            (mousedownOn === scope.id + '_dropdown' ||\n             mousedownOn.indexOf('angucomplete') >= 0)) {\n          mousedownOn = null;\n        }\n        else {\n          hideTimer = $timeout(function() {\n            clearResults();\n            scope.$apply(function() {\n              if (scope.searchStr && scope.searchStr.length > 0) {\n                inputField.val(scope.searchStr);\n              }\n            });\n          }, BLUR_TIMEOUT);\n          cancelHttpRequest();\n\n          if (scope.focusOut) {\n            scope.focusOut();\n          }\n\n          if (scope.overrideSuggestions) {\n            if (scope.searchStr && scope.searchStr.length > 0 && scope.currentIndex === -1) {\n              handleOverrideSuggestions();\n            }\n          }\n        }\n      };\n\n      scope.resetHideResults = function() {\n        if (hideTimer) {\n          $timeout.cancel(hideTimer);\n        }\n      };\n\n      scope.hoverRow = function(index) {\n        scope.currentIndex = index;\n      };\n\n      scope.selectResult = function(result) {\n        // Restore original values\n        if (scope.matchClass) {\n          result.title = extractTitle(result.originalObject);\n          result.description = extractValue(result.originalObject, scope.descriptionField);\n        }\n\n        if (scope.clearSelected) {\n          scope.searchStr = null;\n        }\n        else {\n          scope.searchStr = result.title;\n        }\n        callOrAssign(result);\n        clearResults();\n      };\n\n      scope.inputChangeHandler = function(str) {\n        if (str.length < minlength) {\n          cancelHttpRequest();\n          clearResults();\n        }\n        else if (str.length === 0 && minlength === 0) {\n          scope.searching = false;\n          showAll();\n        }\n\n        if (scope.inputChanged) {\n          str = scope.inputChanged(str);\n        }\n        return str;\n      };\n\n      // check required\n      if (scope.fieldRequiredClass && scope.fieldRequiredClass !== '') {\n        requiredClassName = scope.fieldRequiredClass;\n      }\n\n      // check min length\n      if (scope.minlength && scope.minlength !== '') {\n        minlength = parseInt(scope.minlength, 10);\n      }\n\n      // check pause time\n      if (!scope.pause) {\n        scope.pause = PAUSE;\n      }\n\n      // check clearSelected\n      if (!scope.clearSelected) {\n        scope.clearSelected = false;\n      }\n\n      // check override suggestions\n      if (!scope.overrideSuggestions) {\n        scope.overrideSuggestions = false;\n      }\n\n      // check required field\n      if (scope.fieldRequired && ctrl) {\n        // check initial value, if given, set validitity to true\n        if (scope.initialValue) {\n          handleRequired(true);\n        }\n        else {\n          handleRequired(false);\n        }\n      }\n\n      scope.inputType = attrs.type ? attrs.type : 'text';\n\n      // set strings for \"Searching...\" and \"No results\"\n      scope.textSearching = attrs.textSearching ? attrs.textSearching : TEXT_SEARCHING;\n      scope.textNoResults = attrs.textNoResults ? attrs.textNoResults : TEXT_NORESULTS;\n      displaySearching = scope.textSearching === 'false' ? false : true;\n      displayNoResults = scope.textNoResults === 'false' ? false : true;\n\n      // set max length (default to maxlength deault from html\n      scope.maxlength = attrs.maxlength ? attrs.maxlength : MAX_LENGTH;\n\n      // register events\n      inputField.on('keydown', keydownHandler);\n      inputField.on('keyup', keyupHandler);\n\n      // set response formatter\n      responseFormatter = callFunctionOrIdentity('remoteUrlResponseFormatter');\n\n      // set isScrollOn\n      $timeout(function() {\n        var css = getComputedStyle(dd);\n        isScrollOn = css.maxHeight && css.overflowY === 'auto';\n      });\n    }\n\n    return {\n      restrict: 'EA',\n      require: '^?form',\n      scope: {\n        selectedObject: '=',\n        selectedObjectData: '=',\n        disableInput: '=',\n        initialValue: '=',\n        localData: '=',\n        localSearch: '&',\n        remoteUrlRequestFormatter: '=',\n        remoteUrlRequestWithCredentials: '@',\n        remoteUrlResponseFormatter: '=',\n        remoteUrlErrorCallback: '=',\n        remoteApiHandler: '=',\n        id: '@',\n        type: '@',\n        placeholder: '@',\n        textSearching: '@',\n        textNoResults: '@',\n        remoteUrl: '@',\n        remoteUrlDataField: '@',\n        titleField: '@',\n        descriptionField: '@',\n        imageField: '@',\n        inputClass: '@',\n        pause: '@',\n        searchFields: '@',\n        minlength: '@',\n        matchClass: '@',\n        clearSelected: '@',\n        overrideSuggestions: '@',\n        fieldRequired: '=',\n        fieldRequiredClass: '@',\n        inputChanged: '=',\n        autoMatch: '@',\n        focusOut: '&',\n        focusIn: '&',\n        fieldTabindex: '@',\n        inputName: '@',\n        focusFirst: '@',\n        parseInput: '&'\n      },\n      templateUrl: function(element, attrs) {\n        return attrs.templateUrl || TEMPLATE_URL;\n      },\n      compile: function(tElement) {\n        var startSym = $interpolate.startSymbol();\n        var endSym = $interpolate.endSymbol();\n        if (!(startSym === '{{' && endSym === '}}')) {\n          var interpolatedHtml = tElement.html()\n            .replace(/\\{\\{/g, startSym)\n            .replace(/\\}\\}/g, endSym);\n          tElement.html(interpolatedHtml);\n        }\n        return link;\n      }\n    };\n  }]);\n\n}));\n","'use strict';\n\nangular.module('debounce', [])\n  .service('debounce', ['$timeout', function ($timeout) {\n    return function (func, wait, immediate, invokeApply) {\n      var timeout, args, context, result;\n      function debounce() {\n        /* jshint validthis:true */\n        context = this;\n        args = arguments;\n        var later = function () {\n          timeout = null;\n          if (!immediate) {\n            result = func.apply(context, args);\n          }\n        };\n        var callNow = immediate && !timeout;\n        if (timeout) {\n          $timeout.cancel(timeout);\n        }\n        timeout = $timeout(later, wait, invokeApply);\n        if (callNow) {\n          result = func.apply(context, args);\n        }\n        return result;\n      }\n      debounce.cancel = function () {\n        $timeout.cancel(timeout);\n        timeout = null;\n      };\n      return debounce;\n    };\n  }])\n  .directive('debounce', ['debounce', '$parse', function (debounce, $parse) {\n    return {\n      require: 'ngModel',\n      priority: 999,\n      link: function ($scope, $element, $attrs, ngModelController) {\n        var debounceDuration = $parse($attrs.debounce)($scope);\n        var immediate = !!$parse($attrs.immediate)($scope);\n        var debouncedValue, pass;\n        var prevRender = ngModelController.$render.bind(ngModelController);\n        var commitSoon = debounce(function (viewValue) {\n          pass = true;\n          ngModelController.$$lastCommittedViewValue = debouncedValue;\n          ngModelController.$setViewValue(viewValue);\n          pass = false;\n        }, parseInt(debounceDuration, 10), immediate);\n        ngModelController.$render = function () {\n          prevRender();\n          commitSoon.cancel();\n          //we must be first parser for this to work properly,\n          //so we have priority 999 so that we unshift into parsers last\n          debouncedValue = this.$viewValue;\n        };\n        ngModelController.$parsers.unshift(function (value) {\n          if (pass) {\n            debouncedValue = value;\n            return value;\n          } else {\n            commitSoon(ngModelController.$viewValue);\n            return debouncedValue;\n          }\n        });\n      }\n    };\n  }]);","(function() {\n    angular\n        .module('skyApp.utils')\n        .directive('ngMaterialLoader', [ngMaterialLoaderFunc]);\n\n\n    function ngMaterialLoaderFunc() {\n\n        return {\n            restrict: 'EA',\n            template: '<md-progress-circular class=\"md-accent loading-icon-align\" md-mode=\"indeterminate\" ng-show=\"show\" md-diameter=\"100\"></md-progress-circular>',\n            scope: {\n                show: \"=\"\n            },\n            link: function(scope, ele, attrs) {\n                scope.$watch(\"show\", function(newval, oldval) {\n                    if (newval != oldval) {\n                        scope.show = !!newval;\n                    }\n                });\n            }\n        };\n    };\n\n})();","(function() {\n    angular\n        .module('skyApp.utils')\n        .directive('reuseModal', [\n            '$uibModal',\n            '$http',\n            '$parse',\n            'TEMPLATE_DIR',\n            ReusableModal\n        ]);\n\n\n    function ReusableModal($uibModal, $http, $parse, TEMPLATE_DIR) {\n\n        return {\n            restrict: 'A',\n            transclude: true,\n            template: '<a ng-click=\"open()\" ng-transclude></a>',\n            scope: {\n                useCtrl: \"@\"\n            },\n            link: function(scope, ele, attrs) {\n\n                scope.open = function(size) {\n\n                    var modalInstance = $uibModal.open({\n                        templateUrl: TEMPLATE_DIR + attrs.instanceTemplate,\n                        controller: 'ModalInstanceCtrl',\n                        size: 'md',\n                        keyboard: false,\n                        backdrop: true,\n                        windowClass: 'app-modal-window'\n                    });\n\n                    modalInstance.result.then(function(result) {\n                        debugger;\n                        console.log('Finished');\n\n                    });\n\n\n                }\n            }\n        };\n    };\n    angular\n        .module('skyApp.utils')\n        .controller('ModalInstanceCtrl', [\n            '$scope',\n            '$uibModalInstance',\n            '$http',\n            '$filter',\n            ModalInstanceCtrl\n        ]);\n\n    function ModalInstanceCtrl($scope, $uibModalInstance, $http, $filter) {\n        $scope.cancel = function() {\n            $uibModalInstance.dismiss('cancel');\n        };\n    };\n})();","(function(){\n\nangular.module('skyApp.weather',[]);\n\n})();","(function(){\n\nangular\n    .module('skyApp.weather')\n    .controller('WeatherController',WeatherController);\n\nWeatherController.$inject = [\n    '$q',\n    '$scope',\n    '$log',\n    'WeatherService',\n    'UserService',\n    'MosaicDataService',\n    '$interval',\n    // 'operations'\n];\nfunction WeatherController($q, $scope, $log, WeatherService, UserService, MosaicDataService, $interval) {\n    var WC = this;\n    WC.activate = activate;\n    WC.beforeRender = beforeRender;\n    var opsDefer = $q.defer();\n    WC.opsMap = opsDefer.promise;\n\n    WC.activate();\n\n    function activate() {\n        // console.log(operations);\n        angular.extend($scope, {\n            // operations: operations,\n            setOperation: setOperation,\n            // location: {\n            //     name:'Napa, CA', lat: 38.431175, lng: -122.3476730\n            // },\n            data: {\n                date: new Date()\n            }\n        });\n\n        UserService.getOrg()\n        .then( org => MosaicDataService.getOperations(org.orgId) )\n        .then( ops => ops.reduce( (p,c) => {\n            return p[c.opId] = c, p\n        }, {}))\n        .then(opsDefer.resolve);\n    }\n    \n    function setOperation( operation ) {\n        \n        WC.opsMap.then(opsMap => {\n            console.log(opsMap)\n            return opsMap[operation]\n        })\n        .then( op => {\n            console.log(op);\n            $scope.location = {\n                name: op.opName,\n                lat: op.homeCoord.lat,\n                lng: op.homeCoord.lng\n            }\n            return op.homeCoord || {\n                lat: (op.bbox[0]+op.bbox[2])/2,\n                lng: (op.bbox[1]+op.bbox[3])/2\n            }\n        })\n        .then( WeatherService.getForecast )\n        .then(function(forecasts){\n            var forecast = forecasts[0];\n            $scope.weatherData = forecast;  \n        })\n        .catch(err => console.log); \n    }\n\n    function beforeRender($view, $dates, $leftDate, $upDate, $rightDate) {\n        angular.noop();\n    }\n    \n    \n};\n\n})();","(function(){\n\nangular\n    .module('skyApp.weather')\n    .provider('WeatherService',[WeatherServiceProvider]);\n\nfunction WeatherServiceProvider() {\n\n    const dayMillis = 86400000;\n\n    var self = this;\n    self.wk = null;\n    self.setup = function(val) {\n        self.wk = val;\n    }\n    \n    self.$get = ['$http','$q','$cacheFactory','$log', function($http, $q, $cacheFactory,$log) {\n        var forecastCache = $cacheFactory('forecast',{capacity:5});\n        var service = {\n            getForecast: getForecast,\n            getHistorical: getHistorical,\n            getElevation: getElevation,\n            getGraphData: getGraphData\n        };\n\n        return service;\n\n        function getHistorical() {\n            return $http({\n                method: 'GET',\n                url: \"app/weather/historical.json\"\n            })\n            .then( response => \n                response.data.locations\n                    .map(processHistorical)\n                    .reduce( (p,c) => p.concat(c) , [] )\n            );\n        }\n\n        function getElevation(location) {\n                var payloadPromise = validateLocation(location);\n\n                return payloadPromise.then( body => $http({\n                    method: 'GET',\n                    url:'https://4x8ke86kga.execute-api.us-east-1.amazonaws.com/dev/elevation/'+location.lat+'/'+location.lng,\n                    headers: {\n                        \"X-Api-Key\": self.wk || undefined\n                    }\n                }))\n                .then( response => {\n                    return location;\n                })\n                .then( loc => {\n                    return $http({\n                        method: 'POST',\n                        url: 'https://4x8ke86kga.execute-api.us-east-1.amazonaws.com/dev/elevation',\n                        data: payloadPromise,\n                        headers: {\n                            \"X-Api-Key\": self.wk || undefined\n                        }\n                    });\n                });\n        }\n\n        function validateLocation(location) {\n            return $q( (resolve,reject) => {\n                var body = {\"latlons\":[]};\n                switch (typeof location) {\n                    case \"object\":\n                        if (!!!location.lat || !!!location.lng) {\n                            reject('argument must be a latlngLiteral or array of latlngLiterals');\n                        }\n                        body.latlons.push(\n                            ( l =>\n                                ([l.lat,l.lng])\n                            )(location)\n                        );\n                        resolve(body);\n                        break;\n                    case \"array\":\n                        body.latlons.push(location.filter(l => \n                            (!!l.lat && !!l.lng) ? true : false\n                        )\n                        .map(\n                            l => ( [l.lat,l.lng] )\n                        ));\n                        resolve(body);\n                        break;\n                    case \"undefined\":\n                    default:\n                        reject('argument must be a latlngLiteral or array of latlngLiterals');\n                }\n                resolve(body);\n            });\n        }\n\n        function getForecasts(locations) {\n            return $q.all(locations.map(getForecast));\n        }\n\n        function getForecast(location){\n            return $q( (resolve,reject) => {\n\n\n                // prefer multiple GET requests to a POST because the GETs are automatically cached\n                //      (all requests to same URL– even before response – return the same Promise,\n                //       which is resolved by the eventual response)\n                $http({\n                    method: 'GET',\n                    url: `https://4x8ke86kga.execute-api.us-east-1.amazonaws.com/dev/forecast/${location.lat}/${location.lng}`,\n                    headers: { \"X-Api-Key\": self.wk },\n                    cache: forecastCache\n                })\n                .then( response => {\n                    return resolve(response.data.forecast);\n                })\n                .catch( err => {\n                    console.log(err);\n                    reject(err);\n                });\n\n            });\n        }\n\n        // function processLocation(location) {\n\n        //     var result = {};\n        //     result.coord = {lat: location.lat, lng: location.lon};\n        //     result.name = location.name;\n        //     result.startTime = new Date(location.start);\n        //     result.stopTime = new Date(location.stop);\n        //     return processHistorical(location)\n        //     .then(w => {\n        //         result.records = w;\n        //         return result;\n        //     });\n        // }\n\n        function processHistorical(location) {\n            var weather = location.weather,\n                  start = location.start,\n                   stop = location.stop,\n                   name = location.name,\n                    lat = location.lat,\n                    lng = location.lon;\n            (!!!lat || !!!lng) && console.log('null found',location);\n\n            var startMillis = new Date(start).getTime();\n            var stopMillis = new Date(stop).getTime();\n\n            var keys = [];  angular.forEach(weather, (_,key) => keys.push(key));\n            var properties = keys.map( k => weather[k] );\n            var l = properties.length;\n            \n            var length = properties.map( v => v.length ).reduce( (p,c) => p+c/l , 0);\n\n            // for every day (element of result array)\n            return weather.gdd.map( (val, dayIndex) => {\n                // create a day object w/ start date and # days elapsed\n                var record = {\n                    date: new Date(startMillis+dayIndex*dayMillis),\n                    name: name,\n                    lat: lat,\n                    lng: lng,\n                };\n\n                // for each weather property, set this day's corresponding property\n                // equal to the correct index into the original property array.\n                //\n                //    transforms from this         to this\n                //      {                               [{\n                //          \"tmin\": [],                     \"tmin\": ,\n                //          \"gdd\": [],                      \"gdd\": ,\n                //          \"precip accum\": [],             \"precip accum\": ,\n                //          \"wind speed\": [],               \"wind speed\": ,\n                //          \"cloud cover\": [],              \"cloud cover\": ,\n                //          \"wind bearing\": [],             \"wind bearing\": ,\n                //          \"tmax\": [],                     \"tmax\": ,\n                //          \"humidity\": []                  \"humidity\": ,\n                //      }                               }]\n\n                keys.forEach( k => {\n                    record[angular.element.camelCase(k.replace(' ','-'))] = weather[k][dayIndex];\n                });\n                return record;\n            }).filter( (d) => (2015 == d.date.getUTCFullYear()) );\n        }\n\n        function getGraphData(config) {\n            return $q.all(config.map( c => getGraphDatum(c)) );\n        }\n\n        function getGraphDatum(config) {\n\n            return service.getForecast(config.location)\n            .then( datum => {\n                var forecast = datum[0].daily.data,\n                    xc = config.xConfig,\n                    yc = config.yConfig;\n\n                function getConversion(_yc,i) {\n                    return function(inval) {\n                        switch(_yc.yParams[i].param) {\n                            case 'temperatureMin':\n                            case 'temperatureMax':\n                            case 'apparentTemperatureMin':\n                            case 'apparentTemperatureMax':\n                                return (_yc.unit === 'F' && datum[0].flags.units === 'si') ? Number( (inval*9/5+32).toFixed(1) ) : inval;\n                                break;\n                            case 'precipProbability':\n                            case 'humidity':\n                            case 'cloudCover':\n                                return (_yc.unit === '%') ? Math.round(inval*100) : Number( inval.toPrecision(3) );\n                                break;\n                            default:\n                                return inval;\n                        }\n                    }\n                }\n\n\n                config.chartdata = yc.yParams.map( (c,i) => {\n                    var newValues = forecast.map( d => ({\n                        x:d[xc.param],\n                        y:getConversion(yc,i)(d[c.param])\n                    }));\n                    return angular.extend(c, {\n                        values: newValues\n                    });\n                });\n                return config;\n            });\n        }\n\n    }];\n    \n};\n\n})();","(function() {\n\nangular\n    .module('skyApp.weather')\n    .filter('degCToDegF',function() {\n        return function(forecast) {\n                \n            function mapper(datum) {\n                var out = angular.copy(datum);\n                out.temperatureMin = datum.temperatureMin * 9 / 5 + 32;\n                out.apparentTemperatureMin = datum.apparentTemperatureMin * 9 / 5 + 32;\n                out.temperatureMax = datum.temperatureMax * 9 / 5 + 32;\n                out.apparentTemperatureMax = datum.apparentTemperatureMax * 9 / 5 + 32;\n                out.temperature = datum.temperature * 9/5 + 32;\n                return out;\n            }\n\n            angular.forEach(forecast,function(value,key) {\n                if (key.endsWith('ly')) {\n                    if (!!value.data) {\n                        forecast[key].data = value.data.map(mapper);\n                    } else {\n                        forecast[key] = mapper(value);\n                    } \n                }\n            });\n            return forecast;\n        }\n    })\n    .directive('forecastWidget', ['ForecastService', 'degCToDegFFilter', 'TEMPLATE_DIR', ForecastWidget]);\n\nfunction ForecastWidget(ForecastService, degCToDegFFilter, TEMPLATE_DIR) {\n    ForecastWidgetController.$inject = ['$scope', '$element', '$attrs'];\n\n    return {\n        restrict: 'E',\n        templateUrl: TEMPLATE_DIR + 'weather.widget.partial.html',\n        link: ForecastWidgetController\n    }\n\n    function ForecastWidgetController(scope, element, attrs) {\n        var forecastData = false;\n\n        ForecastService.generateWidget({\n            units: 'si',\n            title: '',\n            lat: scope.location.lat, lon: scope.location.lng\n        });\n\n        var unwatch = scope.$watch('weatherData', function(newValue, oldValue) {\n            // console.log(newValue,oldValue);\n            if (newValue !== oldValue || !!!forecastData && !!newValue) {\n                forecastData = true;\n                var convertedData = degCToDegFFilter(newValue)\n                var fs = ForecastService.setForecast(newValue);\n                unwatch();\n            }\n        });\n\n        function error(err) {\n            console.warn('ERROR(' + err.code + '): ' + err.message);\n        };\n    }\n}\n\n\n})();\n","(function() {\n/* jshint ignore:start */\nangular\n    .module('skyApp.weather')\n    .factory('ForecastService', ['$http', '$log', ForecastService]);\n\nfunction ForecastService($http, $log) {\n    \n    var service = {};\n    \n    // Main methods\n    service.generateWidget = generateWidget;\n    service.setForecast = setForecast;\n\n    var Skycons;\n    (function(e) {\n        \"use strict\";\n        function u(e, t, n, r) {\n            e.beginPath(), e.arc(t, n, r, 0, s, !1), e.fill()\n        }\n        function a(e, t, n, r, i) {\n            e.beginPath(), e.moveTo(t, n), e.lineTo(r, i), e.stroke()\n        }\n        function f(e, t, n, r, i, o, a, f) {\n            var l = Math.cos(t * s), c = Math.sin(t * s);\n            f -= a, u(e, n - c * i, r + l * o + f * .5, a + (1 - l * .5) * f)\n        }\n        function l(e, t, n, r, i, s, o, u) {\n            var a;\n            for (a = 5; a--;)\n                f(e, t + a / 5, n, r, i, s, o, u)\n        }\n        function c(e, t, n, r, i, s, o) {\n            t/=3e4;\n            var u = i * .21, a = i * .12, f = i * .24, c = i * .28;\n            e.fillStyle = o, l(e, t, n, r, u, a, f, c), e.globalCompositeOperation = \"destination-out\", l(e, t, n, r, u, a, f - s, c - s), e.globalCompositeOperation = \"source-over\"\n        }\n        function h(e, t, n, r, i, o, u) {\n            t/=12e4;\n            var f = i * .25 - o * .5, l = i * .32 + o * .5, c = i * .5 - o * .5, h, p, d, v;\n            e.strokeStyle = u, e.lineWidth = o, e.lineCap = \"round\", e.lineJoin = \"round\", e.beginPath(), e.arc(n, r, f, 0, s, !1), e.stroke();\n            for (h = 8; h--;)\n                p = (t + h / 8) * s, d = Math.cos(p), v = Math.sin(p), a(e, n + d * l, r + v * l, n + d * c, r + v * c)\n        }\n        function p(e, t, n, r, i, u, a) {\n            t/=15e3;\n            var f = i * .29 - u * .5, l = i * .05, c = Math.cos(t * s), h = c * s/-16;\n            e.strokeStyle = a, e.lineWidth = u, e.lineCap = \"round\", e.lineJoin = \"round\", n += c * l, e.beginPath(), e.arc(n, r, f, h + s / 8, h + s * 7 / 8, !1), e.arc(n + Math.cos(h) * f * o, r + Math.sin(h) * f * o, f, h + s * 5 / 8, h + s * 3 / 8, !0), e.closePath(), e.stroke()\n        }\n        function d(e, t, n, r, i, o, u) {\n            t/=1350;\n            var a = i * .16, f = s * 11 / 12, l = s * 7 / 12, c, h, p, d;\n            e.fillStyle = u;\n            for (c = 4; c--;)\n                h = (t + c / 4)%1, p = n + (c - 1.5) / 1.5 * (c === 1 || c === 2?-1 : 1) * a, d = r + h * h * i, e.beginPath(), e.moveTo(p, d - o * 1.5), e.arc(p, d, o * .75, f, l, !1), e.fill()\n        }\n        function v(e, t, n, r, i, o, u) {\n            t/=750;\n            var f = i * .1875, l = s * 11 / 12, c = s * 7 / 12, h, p, d, v;\n            e.strokeStyle = u, e.lineWidth = o * .5, e.lineCap = \"round\", e.lineJoin = \"round\";\n            for (h = 4; h--;)\n                p = (t + h / 4)%1, d = Math.floor(n + (h - 1.5) / 1.5 * (h === 1 || h === 2?-1 : 1) * f) + .5, v = r + p * i, a(e, d, v - o * 1.5, d, v + o * 1.5)\n        }\n        function m(e, t, n, r, i, o, u) {\n            t/=3e3;\n            var f = i * .16, l = o * .75, c = t * s * .7, h = Math.cos(c) * l, p = Math.sin(c) * l, d = c + s / 3, v = Math.cos(d) * l, m = Math.sin(d) * l, g = c + s * 2 / 3, y = Math.cos(g) * l, b = Math.sin(g) * l, w, E, S, x;\n            e.strokeStyle = u, e.lineWidth = o * .5, e.lineCap = \"round\", e.lineJoin = \"round\";\n            for (w = 4; w--;)\n                E = (t + w / 4)%1, S = n + Math.sin((E + w / 4) * s) * f, x = r + E * i, a(e, S - h, x - p, S + h, x + p), a(e, S - v, x - m, S + v, x + m), a(e, S - y, x - b, S + y, x + b)\n        }\n        function g(e, t, n, r, i, s, o) {\n            t/=3e4;\n            var u = i * .21, a = i * .06, f = i * .21, c = i * .28;\n            e.fillStyle = o, l(e, t, n, r, u, a, f, c), e.globalCompositeOperation = \"destination-out\", l(e, t, n, r, u, a, f - s, c - s), e.globalCompositeOperation = \"source-over\"\n        }\n        function w(e, t, n, r, i, o, u) {\n            var a = i / 8, f = a / 3, l = 2 * f, c = t%1 * s, h = Math.cos(c), p = Math.sin(c);\n            e.fillStyle = u, e.strokeStyle = u, e.lineWidth = o, e.lineCap = \"round\", e.lineJoin = \"round\", e.beginPath(), e.arc(n, r, a, c, c + Math.PI, !1), e.arc(n - f * h, r - f * p, l, c + Math.PI, c, !1), e.arc(n + l * h, r + l * p, f, c + Math.PI, c, !0), e.globalCompositeOperation = \"destination-out\", e.fill(), e.globalCompositeOperation = \"source-over\", e.stroke()\n        }\n        function E(e, t, n, r, i, s, o, u, a) {\n            t/=2500;\n            var f = y[o], l = (t + o - b[o].start)%u, c = (t + o - b[o].end)%u, h = (t + o)%u, p, d, v, m;\n            e.strokeStyle = a, e.lineWidth = s, e.lineCap = \"round\", e.lineJoin = \"round\";\n            if (l < 1) {\n                e.beginPath(), l*=f.length / 2 - 1, p = Math.floor(l), l -= p, p*=2, p += 2, e.moveTo(n + (f[p - 2] * (1 - l) + f[p] * l) * i, r + (f[p - 1] * (1 - l) + f[p + 1] * l) * i);\n                if (c < 1) {\n                    c*=f.length / 2 - 1, d = Math.floor(c), c -= d, d*=2, d += 2;\n                    for (m = p; m !== d; m += 2)\n                        e.lineTo(n + f[m] * i, r + f[m + 1] * i);\n                    e.lineTo(n + (f[d - 2] * (1 - c) + f[d] * c) * i, r + (f[d - 1] * (1 - c) + f[d + 1] * c) * i)\n                } else \n                    for (m = p; m !== f.length; m += 2)\n                        e.lineTo(n + f[m] * i, r + f[m + 1] * i);\n                e.stroke()\n            } else if (c < 1) {\n                e.beginPath(), c*=f.length / 2 - 1, d = Math.floor(c), c -= d, d*=2, d += 2, e.moveTo(n + f[0] * i, r + f[1] * i);\n                for (m = 2; m !== d; m += 2)\n                    e.lineTo(n + f[m] * i, r + f[m + 1] * i);\n                e.lineTo(n + (f[d - 2] * (1 - c) + f[d] * c) * i, r + (f[d - 1] * (1 - c) + f[d + 1] * c) * i), e.stroke()\n            }\n            h < 1 && (h*=f.length / 2 - 1, v = Math.floor(h), h -= v, v*=2, v += 2, w(e, t, n + (f[v - 2] * (1 - h) + f[v] * h) * i, r + (f[v - 1] * (1 - h) + f[v + 1] * h) * i, i, s, a))\n        }\n        var t, n;\n        (function() {\n            var r = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame, i = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.mozCancelAnimationFrame || e.oCancelAnimationFrame || e.msCancelAnimationFrame;\n            r && i ? (t = function(e, t) {\n                function i() {\n                    n.value = r(i), e()\n                }\n                var n = {\n                    value: null\n                };\n                return i(), n\n            }, n = function(e) {\n                i(e.value)\n            }) : (t = setInterval, n = clearInterval)\n        })();\n        var r = 500, i = 0.08, s = 2 * Math.PI, o = 2 / Math.sqrt(2), y = [[ - 0.75, - 0.18, - 0.7219, - 0.1527, - 0.6971, - 0.1225, - 0.6739, - 0.091, - 0.6516, - 0.0588, - 0.6298, - 0.0262, - 0.6083, 0.0065, - 0.5868, 0.0396, - 0.5643, 0.0731, - 0.5372, 0.1041, - 0.5033, 0.1259, - 0.4662, 0.1406, - 0.4275, 0.1493, - 0.3881, 0.153, - 0.3487, 0.1526, - 0.3095, 0.1488, - 0.2708, 0.1421, - 0.2319, 0.1342, - 0.1943, 0.1217, - 0.16, 0.1025, - 0.129, 0.0785, - 0.1012, 0.0509, - 0.0764, 0.0206, - 0.0547, - 0.012, - 0.0378, - 0.0472, - 0.0324, - 0.0857, - 0.0389, - 0.1241, - 0.0546, - 0.1599, - 0.0814, - 0.1876, - 0.1193, - 0.1964, - 0.1582, - 0.1935, - 0.1931, - 0.1769, - 0.2157, - 0.1453, - 0.229, - 0.1085, - 0.2327, - 0.0697, - 0.224, - 0.0317, - 0.2064, 0.0033, - 0.1853, 0.0362, - 0.1613, 0.0672, - 0.135, 0.0961, - 0.1051, 0.1213, - 0.0706, 0.1397, - 0.0332, 0.1512, 0.0053, 0.158, 0.0442, 0.1624, 0.0833, 0.1636, 0.1224, 0.1615, 0.1613, 0.1565, 0.1999, 0.15, 0.2378, 0.1402, 0.2749, 0.1279, 0.3118, 0.1147, 0.3487, 0.1015, 0.3858, 0.0892, 0.4236, 0.0787, 0.4621, 0.0715, 0.5012, 0.0702, 0.5398, 0.0766, 0.5768, 0.089, 0.6123, 0.1055, 0.6466, 0.1244, 0.6805, 0.144, 0.7147, 0.163, 0.75, 0.18], [ - 0.75, 0, - 0.7033, 0.0195, - 0.6569, 0.0399, - 0.6104, 0.06, - 0.5634, 0.0789, - 0.5155, 0.0954, - 0.4667, 0.1089, - 0.4174, 0.1206, - 0.3676, 0.1299, - 0.3174, 0.1365, - 0.2669, 0.1398, - 0.2162, 0.1391, - 0.1658, 0.1347, - 0.1157, 0.1271, - 0.0661, 0.1169, - 0.017, 0.1046, 0.0316, 0.0903, 0.0791, 0.0728, 0.1259, 0.0534, 0.1723, 0.0331, 0.2188, 0.0129, 0.2656, - 0.0064, 0.3122, - 0.0263, 0.3586, - 0.0466, 0.4052, - 0.0665, 0.4525, - 0.0847, 0.5007, - 0.1002, 0.5497, - 0.113, 0.5991, - 0.124, 0.6491, - 0.1325, 0.6994, - 0.138, 0.75, - 0.14]], b = [{\n            start: 0.36,\n            end: 0.11\n        }, {\n            start: 0.56,\n            end: 0.16\n        }\n        ];\n        Skycons = function(e) {\n            this.list = [], this.interval = null, this.color = e && e.color ? e.color : \"black\", this.resizeClear=!!e&&!!e.resizeClear\n        }, Skycons.CLEAR_DAY = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            h(e, t, r * .5, s * .5, o, o * i, n)\n        }, Skycons.CLEAR_NIGHT = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            p(e, t, r * .5, s * .5, o, o * i, n)\n        }, Skycons.PARTLY_CLOUDY_DAY = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            h(e, t, r * .625, s * .375, o * .75, o * i, n), c(e, t, r * .375, s * .625, o * .75, o * i, n)\n        }, Skycons.PARTLY_CLOUDY_NIGHT = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            p(e, t, r * .667, s * .375, o * .75, o * i, n), c(e, t, r * .375, s * .625, o * .75, o * i, n)\n        }, Skycons.CLOUDY = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            c(e, t, r * .5, s * .5, o, o * i, n)\n        }, Skycons.RAIN = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            d(e, t, r * .5, s * .37, o * .9, o * i, n), c(e, t, r * .5, s * .37, o * .9, o * i, n)\n        }, Skycons.SLEET = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            v(e, t, r * .5, s * .37, o * .9, o * i, n), c(e, t, r * .5, s * .37, o * .9, o * i, n)\n        }, Skycons.SNOW = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            m(e, t, r * .5, s * .37, o * .9, o * i, n), c(e, t, r * .5, s * .37, o * .9, o * i, n)\n        }, Skycons.WIND = function(e, t, n) {\n            var r = e.canvas.width, s = e.canvas.height, o = Math.min(r, s);\n            E(e, t, r * .5, s * .5, o, o * i, 0, 2, n), E(e, t, r * .5, s * .5, o, o * i, 1, 2, n)\n        }, Skycons.FOG = function(e, t, n) {\n            var r = e.canvas.width, o = e.canvas.height, u = Math.min(r, o), f = u * i;\n            g(e, t, r * .5, o * .32, u * .75, f, n), t/=5e3;\n            var l = Math.cos(t * s) * u * .02, c = Math.cos((t + .25) * s) * u * .02, h = Math.cos((t + .5) * s) * u * .02, p = Math.cos((t + .75) * s) * u * .02, d = o * .936, v = Math.floor(d - f * .5) + .5, m = Math.floor(d - f * 2.5) + .5;\n            e.strokeStyle = n, e.lineWidth = f, e.lineCap = \"round\", e.lineJoin = \"round\", a(e, l + r * .2 + f * .5, v, c + r * .8 - f * .5, v), a(e, h + r * .2 + f * .5, m, p + r * .8 - f * .5, m)\n        }, Skycons.prototype = {\n            add: function(e, t) {\n                var n;\n                typeof e == \"string\" && (e = document.getElementById(e)), n = {\n                    element: e,\n                    context: e.getContext(\"2d\"),\n                    drawing: t\n                }, this.list.push(n), this.draw(n, r)\n            },\n            set: function(e, t) {\n                var n;\n                typeof e == \"string\" && (e = document.getElementById(e));\n                for (n = this.list.length; n--;)\n                    if (this.list[n].element === e) {\n                        this.list[n].drawing = t, this.draw(this.list[n], r);\n                        return \n                    }\n                this.add(e, t)\n            },\n            remove: function(e) {\n                var t;\n                typeof e == \"string\" && (e = document.getElementById(e));\n                for (t = this.list.length; t--;)\n                    if (this.list[t].element === e) {\n                        this.list.splice(t, 1);\n                        return \n                    }\n            },\n            draw: function(e, t) {\n                var n = e.context.canvas;\n                this.resizeClear ? n.width = n.width : e.context.clearRect(0, 0, n.width, n.height), e.drawing(e.context, t, this.color)\n            },\n            play: function() {\n                var e = this;\n                this.pause(), this.interval = t(function() {\n                    var t = Date.now(), n;\n                    for (n = e.list.length; n--;)\n                        e.draw(e.list[n], t)\n                }, 1e3 / 60)\n            },\n            pause: function() {\n                var e;\n                this.interval && (n(this.interval), this.interval = null)\n            }\n        }\n    })(window);\n    var StaticSkycons = function() {\n        var e = {};\n        return e.play = e.pause = function() {}, e.set = function(e, t) {\n            // var n = $(\"#\" + e),\n            //     r = $(\"<img />\").attr(\"id\", n.attr(\"id\")).attr(\"class\", n.attr(\"class\")).attr(\"src\", \"skycons/\" + t + \".gif\").css({\n            //         width: n.width(),\n            //         height: n.height()\n            //     });\n        }, e;\n    };\n    StaticSkycons.RAIN = \"rain\";\n    StaticSkycons.SNOW = \"snow\";\n    StaticSkycons.SLEET = \"sleet\";\n    StaticSkycons.WIND = \"wind\";\n    StaticSkycons.FOG = \"fog\";\n    StaticSkycons.CLOUDY = \"cloudy\";\n    StaticSkycons.PARTLY_CLOUDY_DAY = \"partly_cloudy_day\";\n    StaticSkycons.PARTLY_CLOUDY_NIGHT = \"partly_cloudy_night\";\n    StaticSkycons.CLEAR_DAY = \"clear_day\";\n    StaticSkycons.CLEAR_NIGHT = \"clear_night\";\n    var ForecastEmbed = function(e) {\n        var t = {},\n            n, r, i, s = function() {\n                n = $('      <div id=\"forecast_embed\" class=\"fe_container\">                           <div class=\"fe_forecast\">           <div class=\"fe_currently\">             <canvas id=\"fe_current_icon\" width=\"160\" height=\"160\" style=\"width:80px; height:80px\"></canvas>             <div class=\"fe_temp\"></div>             <div class=\"fe_summary\"></div>             <div class=\"fe_wind\"></div>           </div>                      <div class=\"fe_daily\"></div>           <div style=\"clear:left\"></div>         </div>                  <div class=\"fe_alert\" style=\"display:none\"></div>                  <div class=\"fe_loading\" style=\"display:none\">           <canvas id=\"fe_loading_icon\" width=\"100\" height=\"100\" style=\"width:50px; height:50px\"></canvas>           Loading...         </div>       </div>     '), t.elem = n, e.static_skycons && (window.Skycons = StaticSkycons), r = new Skycons({\n                    color: e.text_color || \"#333\"\n                }), e.static_skycons && (window.Skycons = StaticSkycons), r = new StaticSkycons({\n                    color: e.text_color || \"#333\"\n                }), i = new Skycons({\n                    color: e.text_color || \"#333\"\n                }), (n.find(\".fe_title .fe_location span\").html(e.title), n.find(\".fe_title\").show());\n                if (e.ff_name && e.ff_url) {\n                    var s = document.createElement(\"style\");\n                    s.type = \"text/css\", document.getElementsByTagName(\"head\")[0].appendChild(s);\n                    var o = \"font-family: \" + e.ff_name + \"; src: url(\" + e.ff_url + \");\";\n                    s.styleSheet ? s.styleSheet.cssText = \"@font-face {\" + o + \"}\" : s.innerHTML = \"@font-face {\" + o + \"}\"\n                }(e.font || e.ff_name) && $(\"#widgetEmbed\").css(\"font-family\", e.font || e.ff_name), e.text_color && (n.css(\"color\", e.text_color), n.find(\"a\").css(\"color\", e.text_color), n.find(\".fe_title\").css(\"border-color\", e.text_color), n.find(\".fe_alert a\").css(\"color\", e.text_color)), $(window).bind(\"resize\", a), a()\n            }, o = function(e) {\n                var t = Math.round(e / 45);\n                return [\"N\", \"NE\", \"E\", \"SE\", \"S\", \"SW\", \"W\", \"NW\", \"N\"][t]\n            }, u = function(e) {\n                return e === \"rain\" ? Skycons.RAIN : e === \"snow\" ? Skycons.SNOW : e === \"sleet\" ? Skycons.SLEET : e === \"hail\" ? Skycons.SLEET : e === \"wind\" ? Skycons.WIND : e === \"fog\" ? Skycons.FOG : e === \"cloudy\" ? Skycons.CLOUDY : e === \"partly-cloudy-day\" ? Skycons.PARTLY_CLOUDY_DAY : e === \"partly-cloudy-night\" ? Skycons.PARTLY_CLOUDY_NIGHT : e === \"clear-day\" ? Skycons.CLEAR_DAY : e === \"clear-night\" ? Skycons.CLEAR_NIGHT : Skycons.CLOUDY\n            }, a = function() {\n                $(\"#widgetEmbed\").width() < 400 ? ($(\"#widgetEmbed\").addClass(\"hide_daily\"), i.pause()) : ($(\"#widgetEmbed\").removeClass(\"hide_daily\"), i.play())\n            }, f = function(t) {\n                var r = (new Date).getTime() / 1e3,\n                    s = t.hourly.data,\n                    a = t.currently.summary,\n                    f = ForecastEmbed.unit_labels[e.units || \"us\"].speed;\n                t.minutely && !t.minutely.summary.match(/ for the hour\\.$/) && (a = t.minutely.summary);\n                var l = 0;\n                for (var c = 0; c < s.length; c++) {\n                    if (s[c].time < r)\n                        continue;\n                    l = s[c].temperature > t.currently.temperature ? 1 : -1;\n                    break;\n                }\n                var h = Math.round(t.currently.temperature) + \"&deg;\";\n                l > 0 ? h += ' <span class=\"fe_dir\">and rising</span>' : l < 0 && (h += ' <span class=\"fe_dir\">and falling</span>'), n.find(\".fe_currently .fe_temp\").html(h), n.find(\".fe_currently .fe_summary\").html(a);\n                if (t.currently.windSpeed) {\n                    var p = Math.round(t.currently.windSpeed);\n                    p != 0 && t.currently.windBearing ? p += \" \" + f + \" (\" + o(t.currently.windBearing) + \")\" : p += \" \" + f, n.find(\".fe_currently .fe_wind\").html(\"Wind: \" + p)\n                }\n                i.set(\"fe_current_icon\", u(t.currently.icon))\n            }, l = function(t) {\n                var $daily_container = n.find(\".fe_daily\").empty();\n                var r = $('<div class=\"fe_day\">           <span class=\"fe_label\">MON</span>           <canvas class=\"fe_icon\" width=\"52\" height=\"52\" style=\"width:26px; height:26px\" />           <div class=\"fe_temp_bar\">             <span class=\"fe_high_temp\">72&deg;</span>             <span class=\"fe_low_temp\">50&deg;</span>           </div>         </div>'),\n                    s = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                    o = (new Date).getDay(),\n                    a = t.daily.data,\n                    f = Math.max(6, a.length),\n                    l, c, h = -Infinity,\n                    p = Infinity;\n                for (var d = 0; d < f; d++)\n                    l = a[d], l.temperatureMax > h && (h = l.temperatureMax), l.temperatureMin < p && (p = l.temperatureMin);\n                var v = 82,\n                    m = h - p,\n                    g, y;\n                for (var d = 0; d < f; d++)(function(t,$daily_container) {\n                    c = r.clone(), l = a[t], g = v * (l.temperatureMax - l.temperatureMin) / m, y = v * (h - l.temperatureMax) / m, c.find(\".fe_label\").html(t == 0 ? \"Today\" : s[(o + t) % 7]), c.find(\".fe_high_temp\").html(Math.round(l.temperatureMax) + \"&deg;\"), c.find(\".fe_low_temp\").html(Math.round(l.temperatureMin) + \"&deg;\"), c.find(\".fe_temp_bar\").css({\n                        height: g,\n                        top: y,\n                        \"background-color\": e.color || \"#333\"\n                    }), typeof FlashCanvas != \"undefined\" && FlashCanvas.initElement(c.find(\"canvas\")[0]), c.find(\".fe_icon\").attr(\"id\", \"fe_day_icon\" + t), setTimeout(function() {\n                        i.set(\"fe_day_icon\" + t, u(a[t].icon))\n                    }, 0), c.appendTo($daily_container)\n                })(d, $daily_container)\n            }, c = function(e) {\n                var $alert = n.find(\".fe_alert\").empty();\n                if (!e.alerts || !e.alerts.length) {\n                    $alert.hide();\n                    return\n                }\n\n                var t = e.alerts[0];\n                $('<a target=\"_blank\"></a>').html('<span class=\"fe_icon\">&#9873;</span> ' + t.title).attr(\"href\", t.uri).appendTo($alert), $alert.show()\n            };\n\n        return t.loading = function(e) {\n                e ? (r.set(\"fe_loading_icon\", Skycons.PARTLY_CLOUDY_DAY), r.play(), n.find(\".fe_loading\").show()) : (n.find(\".fe_loading\").hide(), r.pause())\n            }, t.build = function(forecastData) {\n                // n.find(\".fe_title .fe_forecast_link a\").attr(\"href\", \"http://forecast.io/#/f/\" + forecastData.latitude + \",\" + forecastData.longitude)\n                f(forecastData)\n                l(forecastData)\n                c(forecastData)\n                $(\"#widgetEmbed\").hasClass(\"hide_daily\") || i.play()\n            }, s(), t\n    };\n    ForecastEmbed.unit_labels = {\n        us: {\n            speed: \"mph\"\n        },\n        si: {\n            speed: \"m/s\"\n        },\n        ca: {\n            speed: \"km/h\"\n        },\n        uk: {\n            speed: \"mph\"\n        }\n    };\n\n    function generateWidget(opts) {\n        service.embed = new ForecastEmbed(opts);\n        service.embed.elem.prependTo($('#widgetEmbed'));\n        service.embed.loading(true);\n    }\n\n    function setForecast(forecast) {\n        setTimeout(function(){\n            console.log('setting forecast');\n            service.embed.build(forecast);\n            service.embed.loading(false);\n        }, 250);\n    }\n\n    return service;\n}\n\n/* jshint ignore:end */\n})();\n","(function(){\nangular\n    .module('skyApp.weather')\n    .controller('WeatherGraphController',[\n        '$scope',\n        '$timeout',\n        'GraphService',\n        'WidgetService',\n        '$q',\n        'WeatherService',\n        '$window',\n        WeatherGraphController\n    ]);\n    \n    \nfunction WeatherGraphController($scope, $timeout, GraphService, WidgetService, $q, WeatherService, $window) {\n    var mcEl = document.getElementById('monthly-move-chart');\n    var vcEl = document.getElementById('monthly-volume-chart');\n    var lcEl = document.getElementById('location-chart');\n    var fcEl = document.getElementById('fluctuation-chart');\n\n\n\n    var GG = this;\n    // $scope.$watch('items',function(newValue,oldValue) {\n    //     console.log(newValue,oldValue);\n    // });\n    angular.extend($scope,{\n\n        dashboard: {},\n\n        gridsterOptions: {\n            swapping: true,\n            margins: [20, 20],\n            columns: 6,\n            mobileModeEnabled: false,\n            draggable: {\n                enabled: true,\n                // handle: 'h3'\n            },\n            resizable: {\n                enabled: false,\n                // enabled: false,\n                handles: ['n', 'e', 's', 'w', 'ne', 'se', 'sw', 'nw'],\n                // optional callback fired when resize is started\n                start: function(event, $element, widget) {},\n\n                // optional callback fired when item is resized,\n                resize: function(event, $element, widget) {\n                    if (widget.chart.api) widget.chart.api.update();\n                },\n\n                stop: function(event, $element, widget) {\n                    console.log(event, $element, widget);\n                    $timeout(function() {\n                        console.log('stopped');\n                        widget.chart.api.update();\n                    }, 400);\n                }\n            }\n        },\n\n        config: {\n            visible: false\n        },\n\n        events: {\n            resize: function(e, scope) {\n                $timeout(function() {\n                    if (scope.api && scope.api.update) scope.api.update();\n                }, 200)\n            }\n        }\n\n    });\n\n\n\n    WeatherService.getGraphData( getConfig() )\n    .then( graphData => GraphService.createGraphs(graphData) )\n    .then( graphs    => WidgetService.createWidgets(graphs) )\n    .then( widgets   => {\n        console.log(widgets);\n        $scope.dashboard.widgets = widgets;\n\n        $timeout(function(){\n            $scope.config.visible = true;\n            startCrossFilters();\n        }, 1000);\n    });\n\n    // angular.element($window).on('resize', function(e){\n    //     $scope.$broadcast('resize');\n    // });\n\n    // We want to hide the charts until the grid will be created and all widths and heights will be defined.\n    // So that use `visible` property in config attribute\n   \n    function updateSize({ c: chart, e: el, hFn: h, wFn: w}) {\n        chart\n        .width(\n            w(el.offsetWidth)\n        ).height(\n            h(el.offsetHeight)\n        ).transitionDuration(0);\n    }\n\n\n\n/////////\n// d3.json('static/json/california.geojson', california => { \nfunction startCrossFilters() {\n    WeatherService.getHistorical()\n    .then( d => $q( (resolve,reject) => {\n        $q.when(d).then(resolve,reject)\n    }))\n    .then( data => {\n        var gddTracker = document.getElementById('gddTracker');\n        // var moveChart = dc.compositeChart('#monthly-move-chart'),\n        var moveChart = dc.lineChart('#monthly-move-chart'),\n            moveWidth = mcEl.offsetWidth,\n            moveHeight = mcEl.offsetHeight;\n\n        var volumeChart = dc.barChart('#monthly-volume-chart'),\n            volumeWidth = vcEl.offsetWidth,\n            volumeHeight = vcEl.offsetHeight;\n\n        var locationChart = dc.bubbleChart(\"#location-chart\"),\n            locationWidth = lcEl.offsetWidth,\n            locationHeight = lcEl.offsetHeight;\n\n        var fluctuationChart = dc.barChart('#fluctuation-chart'),\n            fluctuationHeight = fcEl.offsetHeight,\n            fluctuationWidth  = fcEl.offsetWidth;\n\n        var charts = [{\n                c: moveChart,\n                e: gddTracker,\n                hFn: h => 0.8*h,\n                wFn: w => w,\n            },{\n                c: volumeChart,\n                e: gddTracker,\n                hFn: h => 0.15*h,\n                wFn: w => w,\n            },{\n                c: locationChart,\n                e: lcEl,\n                hFn: h => h,\n                wFn: w => w,\n            },{\n                c: fluctuationChart,\n                e: fcEl,\n                hFn: h => h,\n                wFn: w => w,\n            }];\n\n        angular.element($window).on('resize', e => {\n            charts.map(updateSize);\n            dc.renderAll();\n            // dc.events.trigger(dc.renderAll, 20);\n            charts.map( ({c: chart}) => chart.transitionDuration(750) );\n        });\n\n        var numericProperties = ['tmin','gdd','precipAccum','windSpeed','cloudCover','windBearing','tmax','humidity','lat','lng'];\n        var dateFormat = d3.time.format('%m/%d/%Y');\n        var numberFormat = d3.format('.2f');\n        \n        angular.forEach(data, d => {\n            d.year = d3.time.year(d.date).getFullYear();\n            d.month = d3.time.month(d.date);\n\n            numericProperties.forEach( p => {\n                d[p] = angular.isNumber(d[p]) ? parseFloat(d[p]) : null;\n            }); \n        });\n\n        // var endDate = d3.max(_data, d => d.date );\n        // var oneYearPrior = new Date(endDate.getUTCMilliseconds() - 365*24*3600*1000);\n\n        // var data = _data.filter( v => v.date >= oneYearPrior );\n\n        var ndx = crossfilter(data);\n        var all = ndx.groupAll();\n\n        var nameDimension = ndx.dimension( d => d.name );\n        var latDimension = ndx.dimension( d => d.lat ),\n            latDomain = latDimension.bottom(1).concat(latDimension.top(1)).map( c => c.lat);\n        var lngDimension = ndx.dimension( d => d.lng ),\n            lngDomain = lngDimension.bottom(1).concat(lngDimension.top(1)).map( c => c.lng);\n\n        // console.log(latDomain,lngDomain);\n\n\n\n        var locationDimension = ndx.dimension( d => ([d.lng,d.lat]) );\n        var locationGroup = locationDimension.group();\n        console.log(locationDimension);\n\n        var dateDimension = ndx.dimension( d => d.date );\n        var monthlyDimension = ndx.dimension( d => d.month );\n        var yearlyDimension = ndx.dimension( d => d.year );\n\n        var dateExtent = d3.extent(data.map( d => d.date));\n        var dateDomain = dateExtent.map( d => new Date(d));\n\n        var dailyGDDMove = dateDimension.group().reduceSum( d => d.gdd );\n        var dailyPrecipMove = dateDimension.group().reduceSum( d => d.precipAccum );\n\n        var monthlyGDDMove = monthlyDimension.group().reduceSum( d => d.gdd );\n        var monthlyPrecipMove = monthlyDimension.group().reduceSum( d => d.precipAccum );\n\n        var tempAvgByDayGroup = dateDimension.group().reduce(reduceAddAvgWithMean('tmax','tmin'),reduceRemoveAvgWithMean('tmax','tmin'),reduceInitAvg);\n        var gddAvgByMonthGroup = dateDimension.group().reduce(reduceAddAvg('gdd'), reduceRemoveAvg('gdd'), reduceInitAvg);\n\n\n        var reducers = [\n            (p,v) => {\n                ++p.count;\n                p.lat = v.lat;\n                p.lng = v.lng;\n                p.name = v.name;\n                p.absGain = v.gdd;\n                p.sumGdd += v.gdd;\n                p.avgGdd = p.sumGdd / p.count;\n                p.percentageGain = p.avgGdd ? (p.absGain / p.avgGdd) * 100 : 0;\n                return p;\n            },\n            /* callback for when data is removed from the current filter results */\n            (p, v) => {\n                --p.count;\n                p.lat = v.lat;\n                p.lng = v.lng;\n                p.name = v.name;\n                p.absGain = v.gdd;\n                p.sumGdd -= v.gdd;\n                p.avgGdd = p.count ? p.sumGdd / p.count : 0;\n                p.percentageGain = p.avgGdd ? (p.absGain / p.avgGdd) * 100 : 0;\n                return p;\n            },\n            /* initialize p */\n            () => ({\n                count: 0,\n                lat: 0,\n                lng: 0,\n                name: '',\n                absGain: 0,\n                sumGdd: 0,\n                avgGdd: 0,\n                percentageGain: 0\n            })\n        ];\n        \n        // wait for window resizes\n        // angular.element($window).on('resize', $scope.$apply.bind($scope));\n\n        // $scope.$watch(function() {\n        //     return el.clientWidth * el.clientHeight\n        // }, function() {\n        //     width = el.clientWidth;\n        //     height = el.clientHeight;\n        //     resize();\n        // });\n\n        var locationGDDGroup = nameDimension.group().reduce(...reducers);\n        var yearlyGDDSumGroup = nameDimension.group().reduceSum( d => d.gdd );\n        var yearlyGDDSumDomain = d3.extent(yearlyGDDSumGroup.top(1).push(yearlyGDDSumGroup.all().reverse()[0], dd => dd.value ));\n\n        console.log(locationGDDGroup.all());\n        console.log(yearlyGDDSumGroup.all());\n        // var [latDomain,lngDomain] = [0,1].map(indx => d3.extent(california.geometry.coordinates, c => c[indx]));\n        // console.log(latDomain,lngDomain)\n        locationChart\n            .width(locationWidth)\n            .height(locationHeight)\n            .transitionDuration(1000)\n            .margins({top: 80, right: 50, bottom: 25, left: 50})\n            .dimension(nameDimension)\n            .group(locationGDDGroup)\n            .x(d3.scale.linear().domain(lngDomain))\n            .y(d3.scale.linear().domain(latDomain))\n            // .r(d3.scale.linear().domain([3700,6400]))\n            .elasticRadius(true)\n            // .minRadius(1)\n            // .colors(colorbrewer.RdYlGn[9])\n            // .colorDomain(d3.scale.linear().domain([3700,4400]))\n            // .colorAccessor( p => p.value.sumGdd )\n            .keyAccessor( p => p.value.lng )\n            .valueAccessor( p => p.value.lat )\n            .radiusValueAccessor( p => p.value.sumGdd )\n            .maxBubbleRelativeSize(0.1)\n            .xAxisPadding(0.1)\n            .yAxisPadding(0.1)\n            .elasticX(true)\n            .elasticY(true)\n            .xAxisLabel('Latitude')\n            .yAxisLabel('Longitude')\n            .renderLabel(true)\n            .label( p => p.key )\n            .renderTitle(true)\n            .title(function (p) {\n                return [\n                    p.key,\n                    'Index Gain: ' + numberFormat(p.value.absGain),\n                    'Index Gain in Percentage: ' + numberFormat(p.value.percentageGain) + '%',\n                    'Fluctuation / Index Ratio: ' + numberFormat(p.value.fluctuationPercentage) + '%'\n                ].join('\\n');\n            })\n            // .legend(dc.legend().x(400).y(10).itemHeight(13).gap(5))\n            // \n            // .clipPadding(10)\n            // .excludedOpacity(0.5)\n\n        // locationChart.overlayGeoJson(california);\n\n        var dailyGDDGroup =  dateDimension.group().reduce(...reducers);\n\n        moveChart\n            .x(d3.time.scale().domain(dateDomain))\n            .width(moveWidth)\n            .height( moveHeight * 0.8 )\n        // .compose([\n            // dc.lineChart(moveChart)\n            .renderArea(true)\n            .transitionDuration(1000)\n            .margins({top: 30, right: 50, bottom: 25, left: 50})\n            .dimension(dateDimension)\n            .mouseZoomable(true)\n            .rangeChart(volumeChart)\n            .round(d3.time.day.round)\n            .xUnits(d3.time.days)\n            .elasticY(true)\n            .renderHorizontalGridLines(true)\n            .legend(dc.legend().x(80).y(40).itemHeight(13).gap(5))\n            .brushOn(false)\n            .group(dailyGDDGroup, 'Accumulated GDD (past year)')\n            .valueAccessor( d => d.value.sumGdd )\n            .stack(dailyGDDGroup, 'Daily GDD', d => d.value.absGain )\n            .title( d => {\n                var value = d.value.avg ? d.value.avg : d.value;\n                if (isNaN(value)) {\n                    value = 0;\n                }\n                return dateFormat(d.key) + '\\n' + numberFormat(value);\n            })\n                //,\n        //     dc.lineChart(moveChart)\n        //         .group(dailyGDDGroup, 'Average Daily GDD', d => d.value.avgGdd)\n        //         .elasticY(true)\n        // ]);\n\n        volumeChart\n            .width(volumeWidth)\n            .height( moveHeight * 0.15)\n            .margins({top: 0, right: 50, bottom: 20, left: 50})\n            .dimension(dateDimension)\n            .group(tempAvgByDayGroup)\n            .valueAccessor( d => d.value.avg )\n            .centerBar(true)\n            .gap(1)\n            .x(d3.time.scale().domain(dateDomain))\n            .round(d3.time.day.round)\n            .alwaysUseRounding(true)\n            .xUnits(d3.time.days)\n            .yAxis().ticks(0);\n\n        var fluctuation = ndx.dimension( d => Math.round(d.tmax-d.tmin) );\n        var fluctuationGroup = fluctuation.group();\n\n        fluctuationChart \n            .width(fluctuationWidth)\n            .height(fluctuationHeight)\n            .margins({top: 60, right: 50, bottom: 30, left: 50})\n            .dimension(fluctuation)\n            .group(fluctuationGroup)\n            .elasticY(true)\n            .centerBar(true)\n            .gap(1)\n            .round(dc.round.floor)\n            .alwaysUseRounding(true)\n            .x(d3.scale.linear().domain([0, 30]))\n            .renderHorizontalGridLines(true)\n            .filterPrinter(function (filters) {\n                var filter = filters[0], s = '';\n                s += numberFormat(filter[0]) + '% -> ' + numberFormat(filter[1]) + '%';\n                return s;\n            });\n\n        fluctuationChart.xAxis().tickFormat( v => v + 'F')\n        fluctuationChart.yAxis().ticks(5);\n\n        dc.renderAll();\n\n    })\n    function reduceAddAvg(attr) {\n        return function(p, v) {\n            ++p.count\n            p.total += v[attr];\n            p.avg = p.total / p.count;\n            return p;\n        };\n    }\n\n    function reduceRemoveAvg(attr) {\n        return function(p, v) {\n            --p.count\n            p.total -= v[attr];\n            p.avg = p.total / p.count;\n            return p;\n        };\n    }\n\n    function reduceAddAvgWithMean(prop1, prop2) {\n        return function(p, v) {\n            ++p.count;\n            p.total += (v[prop1] + v[prop2]) / 2;\n            p.avg = Math.round(p.total / p.count);\n            return p;\n        }\n    }\n\n    function reduceRemoveAvgWithMean(prop1, prop2) {\n        return function(p, v) {\n            --p.count;\n            p.total -= (v[prop1] + v[prop2]) / 2;\n            p.avg = p.count ? Math.round(p.total / p.count) : 0;\n            return p;\n        }\n    }\n\n    function reduceInitAvg() {\n        return { count: 0, total: 0, avg: 0 };\n    }\n}\n    \n/////////\n\n\n    function getConfig() {\n        return  [\n            {\n                xConfig: {\n                    param: 'time',\n                    unit: 'DAY',\n                    label: 'Day',\n                    axisStyle:'absolute'\n                },\n                yConfig:  {\n                    unitFmt: '2.0f',\n                    unit: 'F',\n                    axisLabel: 'Temperature (F)',\n                    axisStyle: [0, 120],//'absolute',\n                    yParams: [{\n                        param: 'temperatureMax',\n                        key: 'Max. Temp.',\n                        // color:'#ff7f0e',\n                        area:false\n                    },{\n                        param: 'temperatureMin',\n                        key: 'Min. Temp.',\n                        // color:'#7777ff',\n                        area:false\n                    }]\n                },\n                title: 'Actual Temperatures',\n                location: {lat:38.431175,lng: -122.3476730}\n            },\n            // {\n            //     xConfig: {\n            //         param: 'time',\n            //         unit: 'DAY',\n            //         label: 'Days',\n            //         axisStyle:'absolute' // [min, max]\n            //     },\n            //     yConfig:  {\n            //         yParams: [{\n            //             param: 'precipProbability',\n            //             key: 'Chance of Rain',\n            //             // color:'#ff7f0e',\n            //             area:false\n            //         }],\n            //         unitFmt: '.0f',\n            //         unit: '%',\n            //         axisLabel: 'Chance of Rain (%)',\n            //         axisStyle: [0,100]\n            //     },\n            //     title: 'Chance of Rain',\n            //     location: {lat:38.431175,lng: -122.3476730}\n            // },\n            {\n                xConfig: {\n                    param: 'time',\n                    unit: 'DAY',\n                    label: 'Days',\n                    axisStyle:'absolute' // [min, max]\n                },\n                yConfig:  {\n                    yParams: [{\n                        param: 'humidity',\n                        key: 'Humidity',\n                        // color:'#ff7f0e',\n                        area:false\n                    },{\n                        param: 'cloudCover',\n                        key: 'Cloud Cover',\n                        // color:'#ff7f0e',\n                        area:false\n                    }],\n                    unitFmt: '.2f',\n                    unit: '',\n                    axisLabel: '',\n                    axisStyle: [0,1],\n                },\n                \n                title: 'Humidity & Cloud Cover',\n                location: {lat:38.431175,lng: -122.3476730}\n            },\n        ];\n    }\n\n};\n})();","(function() {\n    angular\n        .module('skyApp.weather')\n        .config([\n            '$stateProvider',\n            '$urlRouterProvider',\n            configureStates\n        ]);\n\n\n    function configureStates($stateProvider, $urlRouterProvider) {\n\n        $stateProvider\n            .state(\"home.weather\", {\n                name: 'home.weather',\n                url: '/weather',\n                // resolve: {\n                //     \"operations\":['UserService', 'MosaicDataService', function(UserService, MosaicDataService) {\n                //         console.log('operations')\n                //         return UserService.getOrg()\n                //         .then(org => MosaicDataService.getOperations( org.orgId) )\n                //         .then( ops => ops );\n                //     }]\n                // },\n                views: {\n                    'content': {\n                        // template:\"<br/>This feature is under construction - please check back soon!\"\n                        templateUrl: 'templates/weather/weather-view.html',\n                        controller: 'WeatherController',\n                    }\n                },\n                data: {\n                    uploaderTarget: 'nav-uploader',\n                    sliderOpen: true,\n                    contentWidth: 100\n                }\n            })\n\n        .state(\"home.weather.detail\", {\n            url: '/{detail}',\n            parent: \"home.weather\",\n            // templateUrl: 'templates/weather/weather-view.html',\n            controller: ['$scope', '$stateParams', function($scope, $stateParams) {\n                console.log($stateParams.detail);\n                $scope.$parent.setOperation($stateParams.detail);\n            }]\n        })\n\n    };\n\n})();","(function(){\nangular\n    .module('skyApp.weather')\n    .directive('weatherSeries', WeatherSeries);\n\nWeatherSeries.$inject = ['WeatherService', 'ForecastService'];\nfunction WeatherSeries(WeatherService, ForecastService) {\n    WeatherSeriesController.$inject = ['$scope', '$element','$attrs'];\n\n    return {\n        restrict: 'E',\n        scope: {\n            forecast: '='\n        },\n        link: WeatherSeriesController\n    }\n    \n    function WeatherSeriesController(scope, element, attrs) {\n        var wsc = this;\n\n        // scope.$watch('forecast',function(forecast){\n            \n        // })\n\n    }\n}\n\n})();","angular.module('skyApp').run(['$templateCache', function($templateCache) {$templateCache.put('upload-inset.view.html','<div class=\"uploaderContainer\">\\n<!-- <button ng-click=\"$ctrl.move()\">Move</button> \\n --><style type=\"text/css\">\\n.dz-message {\\n  display: block !important;\\n}\\n</style>\\n<script>\\n$(\\'.dropzoneSmallContainer\\').removeClass(\\'hidden\\');\\n$(\\'.close\\').click(function(){\\n\\t$(\\'.dropzoneSmallContainer\\').html(\\'\\').addClass(\\'hidden\\');\\n});\\n</script>\\n\\t<div class=\"uploaderHeader\">\\n\\t\\t<span class=\"pull-right close\" alt=\"close\" title=\"close\">\\n        \\t<svg x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 10 10\" focusable=\"false\"><polygon fill=\"#fff\" points=\"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 \"></polygon></svg>\\n        </span>\\n\\t\\t<span class=\"pull-right close\" alt=\"close\" title=\"close\">\\n        \\t<svg x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\" focusable=\"false\"><path fill=\"#fff\" d=\"M21.17,5.17L12,14.34l-9.17-9.17L0,8l12,12,12-12z\"></path></svg>\\n\\t\\t</span>        \\t\\n\\t</div>\\n\\t<div class=\"dropzone dz-message\">\\n\\t    <form id=\"{{$ctrl.uploaderId || \\'uploader\\'}}\">\\n\\t        <input type=\"button\" id=\"uploadBtn\" name=\"uploadBtn\" class=\"hidden pull-left\" value=\"upload\">\\n\\t        <input type=\"button\" id=\"deleteAllBtn\" name=\"deleteAllBtn\" class=\"hidden pull-left\" value=\"Delete all\">\\n\\t        <input type=\"button\" class=\"dz-message dz-browse\" id=\"browseBtn\" name=\"browseBtn\" value=\"Browse...\">\\n\\t        <span>&nbsp;</span>\\n\\t    </form>\\n\\t</div>\\t    \\n</div>');\n$templateCache.put('upload-view.html','<div>\\n\\n<div sky-uploader></div>\\n\\n</div>');\n$templateCache.put('upload.preview.html','<div class=\"dz-preview dz-file-preview preview-container\">\\n    <div class=\"dz-image\"><img data-dz-thumbnail /></div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-filename\"><span data-dz-name></span></div>\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n    <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\\n    <div class=\"upload-icons\">\\n        <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\\n        <div class=\"dz-success-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Check</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#0F9D58\" sketch:type=\"MSShapeGroup\"></path>\\n                </g>\\n            </svg>\\n        </div>\\n        <div class=\"dz-error-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Error</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#e50000\" fill-opacity=\"0.816519475\">\\n                        <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\\n                    </g>\\n                </g>\\n            </svg>\\n        </div>\\n    </div>\\n</div>\\n');\n$templateCache.put('upload.removefile.svg','<div class=\"dz-preview dz-file-preview preview-container\">\\n    <div class=\"dz-image\"><img data-dz-thumbnail /></div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-filename\"><span data-dz-name></span></div>\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n    <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\\n    <div class=\"upload-icons\">\\n        <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\\n        <div class=\"dz-success-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Check</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#0F9D58\" sketch:type=\"MSShapeGroup\"></path>\\n                </g>\\n            </svg>\\n        </div>\\n        <div class=\"dz-error-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Error</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#e50000\" fill-opacity=\"0.816519475\">\\n                        <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\\n                    </g>\\n                </g>\\n            </svg>\\n        </div>\\n    </div>\\n</div>\\n');}]);","angular.module('skyApp').run(['$templateCache', function($templateCache) {$templateCache.put('flights/flight-display.partial.html','<td ng-repeat=\"col in $columns track by $index\">\\n    <div class=\"col-md-12\">\\n        <div class=\"col-md-8\">\\n            <div class=\"line-height\" ng-repeat=\"displayField in col.displaygroup.stats\">\\n                <flight-stats></flight-stats>\\n            </div>\\n        </div>\\n        <div class=\"col-md-4\">\\n            <div class=\"line-height\" ng-repeat=\"link in col.displaygroup.links\">\\n                <flight-downloads></flight-downloads>\\n            </div>\\n        </div>\\n    </div>\\n    <div ng-if=\"$last\">\\n        <img ng-src=\"{{::flight.previewUrl}}\"/>\\n    </div>\\n</td>\\n');}]);","angular.module('skyApp').run(['$templateCache', function($templateCache) {$templateCache.put('upload-inset.view.html','<div class=\"uploaderContainer\">\\n<!-- <button ng-click=\"$ctrl.move()\">Move</button> \\n --><style type=\"text/css\">\\n.dz-message {\\n  display: block !important;\\n}\\n</style>\\n<script>\\n$(\\'.dropzoneSmallContainer\\').removeClass(\\'hidden\\');\\n$(\\'.close\\').click(function(){\\n\\t$(\\'.dropzoneSmallContainer\\').html(\\'\\').addClass(\\'hidden\\');\\n});\\n</script>\\n\\t<div class=\"uploaderHeader\">\\n\\t\\t<span class=\"pull-right close\" alt=\"close\" title=\"close\">\\n        \\t<svg x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 10 10\" focusable=\"false\"><polygon fill=\"#fff\" points=\"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 \"></polygon></svg>\\n        </span>\\n\\t\\t<span class=\"pull-right close\" alt=\"close\" title=\"close\">\\n        \\t<svg x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 24 24\" focusable=\"false\"><path fill=\"#fff\" d=\"M21.17,5.17L12,14.34l-9.17-9.17L0,8l12,12,12-12z\"></path></svg>\\n\\t\\t</span>        \\t\\n\\t</div>\\n\\t<div class=\"dropzone dz-message\">\\n\\t    <form id=\"{{$ctrl.uploaderId || \\'uploader\\'}}\">\\n\\t        <input type=\"button\" id=\"uploadBtn\" name=\"uploadBtn\" class=\"hidden pull-left\" value=\"upload\">\\n\\t        <input type=\"button\" id=\"deleteAllBtn\" name=\"deleteAllBtn\" class=\"hidden pull-left\" value=\"Delete all\">\\n\\t        <input type=\"button\" class=\"dz-message dz-browse\" id=\"browseBtn\" name=\"browseBtn\" value=\"Browse...\">\\n\\t        <span>&nbsp;</span>\\n\\t    </form>\\n\\t</div>\\t    \\n</div>');\n$templateCache.put('upload-view.html','<div>\\n\\n<div sky-uploader></div>\\n\\n</div>');\n$templateCache.put('upload.preview.html','<div class=\"dz-preview dz-file-preview preview-container\">\\n    <div class=\"dz-image\"><img data-dz-thumbnail /></div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-filename\"><span data-dz-name></span></div>\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n<!--     <div class=\"dz-details\">\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div> -->\\n    <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\\n    <div class=\"upload-icons\">\\n        <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\\n        <div class=\"dz-success-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Check</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#0F9D58\" sketch:type=\"MSShapeGroup\"></path>\\n                </g>\\n            </svg>\\n        </div>\\n        <div class=\"dz-error-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Error</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#e50000\" fill-opacity=\"0.816519475\">\\n                        <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\\n                    </g>\\n                </g>\\n            </svg>\\n        </div>\\n    </div>\\n</div>\\n');\n$templateCache.put('upload.removefile.svg','<div class=\"dz-preview dz-file-preview preview-container\">\\n    <div class=\"dz-image\"><img data-dz-thumbnail /></div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-filename\"><span data-dz-name></span></div>\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n    <div class=\"dz-details\">\\n        <div class=\"dz-size\"><span data-dz-size></span></div>\\n    </div>\\n    <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\\n    <div class=\"upload-icons\">\\n        <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\\n        <div class=\"dz-success-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Check</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#0F9D58\" sketch:type=\"MSShapeGroup\"></path>\\n                </g>\\n            </svg>\\n        </div>\\n        <div class=\"dz-error-mark\">\\n            <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <title>Error</title>\\n                <defs></defs>\\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\\n                    <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#e50000\" fill-opacity=\"0.816519475\">\\n                        <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\\n                    </g>\\n                </g>\\n            </svg>\\n        </div>\\n    </div>\\n</div>\\n');}]);"],"sourceRoot":"/source/"}